(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function hS(){if(bv)return pl;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=e,pl.jsx=n,pl.jsxs=n,pl}var Sv;function fS(){return Sv||(Sv=1,Dd.exports=hS()),Dd.exports}var B=fS(),Nd={exports:{}},ml={},kd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function dS(){return Av||(Av=1,function(r){function e(re,ge){var de=re.length;re.push(ge);e:for(;0<de;){var Ve=de-1>>>1,N=re[Ve];if(0<o(N,ge))re[Ve]=ge,re[de]=N,de=Ve;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],de=re.pop();if(de!==ge){re[0]=de;e:for(var Ve=0,N=re.length,J=N>>>1;Ve<J;){var fe=2*(Ve+1)-1,ae=re[fe],oe=fe+1,Se=re[oe];if(0>o(ae,de))oe<N&&0>o(Se,ae)?(re[Ve]=Se,re[oe]=de,Ve=oe):(re[Ve]=ae,re[fe]=de,Ve=fe);else if(oe<N&&0>o(Se,de))re[Ve]=Se,re[oe]=de,Ve=oe;else break e}}return ge}function o(re,ge){var de=re.sortIndex-ge.sortIndex;return de!==0?de:re.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,A=null,C=3,k=!1,V=!1,$=!1,G=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ge=n(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=re)s(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(y)}}function me(re){if($=!1,ee(re),!V)if(n(g)!==null)V=!0,ut();else{var ge=n(y);ge!==null&&Ze(me,ge.startTime-re)}}var ce=!1,se=-1,D=5,w=-1;function S(){return!(r.unstable_now()-w<D)}function I(){if(ce){var re=r.unstable_now();w=re;var ge=!0;try{e:{V=!1,$&&($=!1,X(se),se=-1),k=!0;var de=C;try{t:{for(ee(re),A=n(g);A!==null&&!(A.expirationTime>re&&S());){var Ve=A.callback;if(typeof Ve=="function"){A.callback=null,C=A.priorityLevel;var N=Ve(A.expirationTime<=re);if(re=r.unstable_now(),typeof N=="function"){A.callback=N,ee(re),ge=!0;break t}A===n(g)&&s(g),ee(re)}else s(g);A=n(g)}if(A!==null)ge=!0;else{var J=n(y);J!==null&&Ze(me,J.startTime-re),ge=!1}}break e}finally{A=null,C=de,k=!1}ge=void 0}}finally{ge?x():ce=!1}}}var x;if(typeof ne=="function")x=function(){ne(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,O=U.port2;U.port1.onmessage=I,x=function(){O.postMessage(null)}}else x=function(){G(I,0)};function ut(){ce||(ce=!0,x())}function Ze(re,ge){se=G(function(){re(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){V||k||(V=!0,ut())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(re){switch(C){case 1:case 2:case 3:var ge=3;break;default:ge=C}var de=C;C=ge;try{return re()}finally{C=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=C;C=re;try{return ge()}finally{C=de}},r.unstable_scheduleCallback=function(re,ge,de){var Ve=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,re={id:E++,callback:ge,priorityLevel:re,startTime:de,expirationTime:N,sortIndex:-1},de>Ve?(re.sortIndex=de,e(y,re),n(g)===null&&re===n(y)&&($?(X(se),se=-1):$=!0,Ze(me,de-Ve))):(re.sortIndex=N,e(g,re),V||k||(V=!0,ut())),re},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(re){var ge=C;return function(){var de=C;C=ge;try{return re.apply(this,arguments)}finally{C=de}}}}(xd)),xd}var wv;function pS(){return wv||(wv=1,kd.exports=dS()),kd.exports}var Md={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function mS(){if(Rv)return be;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function G(N,J,fe){this.props=N,this.context=J,this.refs=$,this.updater=fe||k}G.prototype.isReactComponent={},G.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=G.prototype;function ne(N,J,fe){this.props=N,this.context=J,this.refs=$,this.updater=fe||k}var ee=ne.prototype=new X;ee.constructor=ne,V(ee,G.prototype),ee.isPureReactComponent=!0;var me=Array.isArray,ce={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function D(N,J,fe,ae,oe,Se){return fe=Se.ref,{$$typeof:r,type:N,key:J,ref:fe!==void 0?fe:null,props:Se}}function w(N,J){return D(N.type,J,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return J[fe]})}var x=/\/+/g;function U(N,J){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):J.toString(36)}function O(){}function ut(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ze(N,J,fe,ae,oe){var Se=typeof N;(Se==="undefined"||Se==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(Se){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case r:case e:Te=!0;break;case E:return Te=N._init,Ze(Te(N._payload),J,fe,ae,oe)}}if(Te)return oe=oe(N),Te=ae===""?"."+U(N,0):ae,me(oe)?(fe="",Te!=null&&(fe=Te.replace(x,"$&/")+"/"),Ze(oe,J,fe,"",function(it){return it})):oe!=null&&(S(oe)&&(oe=w(oe,fe+(oe.key==null||N&&N.key===oe.key?"":(""+oe.key).replace(x,"$&/")+"/")+Te)),J.push(oe)),1;Te=0;var ft=ae===""?".":ae+":";if(me(N))for(var Le=0;Le<N.length;Le++)ae=N[Le],Se=ft+U(ae,Le),Te+=Ze(ae,J,fe,Se,oe);else if(Le=C(N),typeof Le=="function")for(N=Le.call(N),Le=0;!(ae=N.next()).done;)ae=ae.value,Se=ft+U(ae,Le++),Te+=Ze(ae,J,fe,Se,oe);else if(Se==="object"){if(typeof N.then=="function")return Ze(ut(N),J,fe,ae,oe);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function re(N,J,fe){if(N==null)return N;var ae=[],oe=0;return Ze(N,ae,"","",function(Se){return J.call(fe,Se,oe++)}),ae}function ge(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ve(){}return be.Children={map:re,forEach:function(N,J,fe){re(N,function(){J.apply(this,arguments)},fe)},count:function(N){var J=0;return re(N,function(){J++}),J},toArray:function(N){return re(N,function(J){return J})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},be.Component=G,be.Fragment=n,be.Profiler=o,be.PureComponent=ne,be.StrictMode=s,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,be.act=function(){throw Error("act(...) is not supported in production builds of React.")},be.cache=function(N){return function(){return N.apply(null,arguments)}},be.cloneElement=function(N,J,fe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ae=V({},N.props),oe=N.key,Se=void 0;if(J!=null)for(Te in J.ref!==void 0&&(Se=void 0),J.key!==void 0&&(oe=""+J.key),J)!se.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(ae[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)ae.children=fe;else if(1<Te){for(var ft=Array(Te),Le=0;Le<Te;Le++)ft[Le]=arguments[Le+2];ae.children=ft}return D(N.type,oe,void 0,void 0,Se,ae)},be.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},be.createElement=function(N,J,fe){var ae,oe={},Se=null;if(J!=null)for(ae in J.key!==void 0&&(Se=""+J.key),J)se.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=J[ae]);var Te=arguments.length-2;if(Te===1)oe.children=fe;else if(1<Te){for(var ft=Array(Te),Le=0;Le<Te;Le++)ft[Le]=arguments[Le+2];oe.children=ft}if(N&&N.defaultProps)for(ae in Te=N.defaultProps,Te)oe[ae]===void 0&&(oe[ae]=Te[ae]);return D(N,Se,void 0,void 0,null,oe)},be.createRef=function(){return{current:null}},be.forwardRef=function(N){return{$$typeof:p,render:N}},be.isValidElement=S,be.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ge}},be.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},be.startTransition=function(N){var J=ce.T,fe={};ce.T=fe;try{var ae=N(),oe=ce.S;oe!==null&&oe(fe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ve,de)}catch(Se){de(Se)}finally{ce.T=J}},be.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},be.use=function(N){return ce.H.use(N)},be.useActionState=function(N,J,fe){return ce.H.useActionState(N,J,fe)},be.useCallback=function(N,J){return ce.H.useCallback(N,J)},be.useContext=function(N){return ce.H.useContext(N)},be.useDebugValue=function(){},be.useDeferredValue=function(N,J){return ce.H.useDeferredValue(N,J)},be.useEffect=function(N,J){return ce.H.useEffect(N,J)},be.useId=function(){return ce.H.useId()},be.useImperativeHandle=function(N,J,fe){return ce.H.useImperativeHandle(N,J,fe)},be.useInsertionEffect=function(N,J){return ce.H.useInsertionEffect(N,J)},be.useLayoutEffect=function(N,J){return ce.H.useLayoutEffect(N,J)},be.useMemo=function(N,J){return ce.H.useMemo(N,J)},be.useOptimistic=function(N,J){return ce.H.useOptimistic(N,J)},be.useReducer=function(N,J,fe){return ce.H.useReducer(N,J,fe)},be.useRef=function(N){return ce.H.useRef(N)},be.useState=function(N){return ce.H.useState(N)},be.useSyncExternalStore=function(N,J,fe){return ce.H.useSyncExternalStore(N,J,fe)},be.useTransition=function(){return ce.H.useTransition()},be.version="19.0.0",be}var Cv;function Ip(){return Cv||(Cv=1,Md.exports=mS()),Md.exports}var Pd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function gS(){if(Iv)return Gt;Iv=1;var r=Ip();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Gt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Gt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Gt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=p(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:C,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Gt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Gt.requestFormReset=function(g){s.d.r(g)},Gt.unstable_batchedUpdates=function(g,y){return g(y)},Gt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var Ov;function yS(){if(Ov)return Pd.exports;Ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pd.exports=gS(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function vS(){if(Dv)return ml;Dv=1;var r=pS(),e=Ip(),n=yS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),me=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case p:return"Portal";case E:return"Profiler";case y:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return i=t.displayName||null,i!==null?i:w(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return w(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,U;function O(t){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+U}var ut=!1;function Ze(t,i){if(!t||ut)return"";ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var R=_.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ut=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?O(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return t=Ze(t.type,!1),t;case 11:return t=Ze(t.type.render,!1),t;case 1:return t=Ze(t.type,!0),t;default:return""}}function ge(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ve(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(de(t)!==t)throw Error(s(188))}function J(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var ae=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Te=[],ft=-1;function Le(t){return{current:t}}function it(t){0>ft||(t.current=Te[ft],Te[ft]=null,ft--)}function He(t,i){ft++,Te[ft]=t.current,t.current=i}var Xt=Le(null),vi=Le(null),mn=Le(null),nr=Le(null);function ir(t,i){switch(He(mn,i),He(vi,t),He(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Wy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Wy(t),i=Zy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(Xt),He(Xt,i)}function _i(){it(Xt),it(vi),it(mn)}function lo(t){t.memoizedState!==null&&He(nr,t);var i=Xt.current,a=Zy(i,t.type);i!==a&&(He(vi,t),He(Xt,a))}function Ws(t){vi.current===t&&(it(Xt),it(vi)),nr.current===t&&(it(nr),ul._currentValue=Se)}var Zs=Object.prototype.hasOwnProperty,ts=r.unstable_scheduleCallback,Js=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,uo=r.unstable_requestPaint,nn=r.unstable_now,nu=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,wt=r.unstable_UserBlockingPriority,Ei=r.unstable_NormalPriority,iu=r.unstable_LowPriority,co=r.unstable_IdlePriority,kh=r.log,ns=r.unstable_setDisableYieldValue,rr=null,qt=null;function ho(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(rr,t,void 0,(t.current.flags&128)===128)}catch{}}function Yn(t){if(typeof kh=="function"&&ns(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(rr,t)}catch{}}var Wt=Math.clz32?Math.clz32:su,fo=Math.log,ru=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(fo(t)/ru|0)|0}var $n=128,sr=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Mn(a):(d&=T,d!==0?l=Mn(d):t||(_=T&~_,_!==0&&(l=Mn(_))))):(T=a&~h,T!==0?l=Mn(T):d!==0?l=Mn(d):t||(_=a&~_,_!==0&&(l=Mn(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ea(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=$n;return $n<<=1,($n&4194176)===0&&($n=128),t}function or(){var t=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),t}function ta(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ct(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-Wt(a),Z=1<<Y;T[Y]=0,R[Y]=-1;var H=P[Y];if(H!==null)for(P[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&lr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function lr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function ur(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function cr(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Qn,Et="__reactProps$"+Qn,Ti="__reactContainer$"+Qn,is="__reactEvents$"+Qn,na="__reactListeners$"+Qn,Xn="__reactHandles$"+Qn,mo="__reactResources$"+Qn,hr="__reactMarker$"+Qn;function rs(t){delete t[Rt],delete t[Et],delete t[is],delete t[na],delete t[Xn]}function Pn(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ti]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tv(t);t!==null;){if(a=t[Rt])return a;t=tv(t)}return i}t=a,a=t.parentNode}return null}function bi(t){if(t=t[Rt]||t[Ti]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function fr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function dr(t){var i=t[mo];return i||(i=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Je(t){t[hr]=!0}var go=new Set,ia={};function ln(t,i){rn(t,i),rn(t+"Capture",i)}function rn(t,i){for(ia[t]=i,t=0;t<i.length;t++)go.add(i[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},vo={};function uu(t){return Zs.call(vo,t)?!0:Zs.call(yo,t)?!1:xh.test(t)?vo[t]=!0:(yo[t]=!0,!1)}function pr(t,i,a){if(uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function yn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mh(t){var i=cu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ss(t){t._valueTracker||(t._valueTracker=Mh(t))}function _o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function rt(t){return t.replace(Si,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gr(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?sa(t,_,Zt(i)):a!=null?sa(t,_,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function as(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function sa(t,i,a){i==="number"&&ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ue(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function os(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function yr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function vn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ph=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ph.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function hu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eo(t,d,i[d])}function To(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(t){return Lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,wi=null;function Ri(t){var i=bi(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(gr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));gr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_o(l)}break e;case"textarea":os(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ue(t,!!a.multiple,i,!1)}}}var bo=!1;function fu(t,i,a){if(bo)return t(i,a);bo=!0;try{var l=t(i);return l}finally{if(bo=!1,(Ai!==null||wi!==null)&&(ic(),Ai&&(i=Ai,t=wi,wi=Ai=null,Ri(i),t)))for(i=0;i<t.length;i++)Ri(t[i])}}function ls(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var En=!1;if(un)try{var us={};Object.defineProperty(us,"passive",{get:function(){En=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{En=!1}var Zn=null,vr=null,Ci=null;function So(){if(Ci)return Ci;var t,i=vr,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ci=h.slice(t,1<l?1-l:void 0)}function Jn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function Ao(){return!1}function Ct(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ei:Ao,this.isPropagationStopped=Ao,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),i}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Ct(je),cs=I({},je,{view:0,detail:0}),du=Ct(cs),la,ua,ti,hs=I({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(la=t.screenX-ti.screenX,ua=t.screenY-ti.screenY):ua=la=0,ti=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),Tn=Ct(hs),pu=I({},hs,{dataTransfer:0}),Uh=Ct(pu),fs=I({},cs,{relatedTarget:0}),ca=Ct(fs),wo=I({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Ct(wo),mu=I({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=Ct(mu),Bh=I({},je,{data:0}),Ro=Ct(Bh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yu[t])?!!i[t]:!1}function ps(){return Co}var vu=I({},cs,{key:function(t){if(t.key){var i=ds[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Ct(vu),_u=I({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Ct(_u),Ii=I({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Eu=Ct(Ii),Tu=I({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Ct(Tu),Su=I({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=Ct(Su),Jt=I({},je,{newState:0,oldState:0}),Au=Ct(Jt),wu=[9,13,27,32],ni=un&&"CompositionEvent"in window,c=null;un&&"documentMode"in document&&(c=document.documentMode);var m=un&&"TextEvent"in window&&!c,v=un&&(!ni||c&&8<c&&11>=c),b=" ",z=!1;function F(t,i){switch(t){case"keyup":return wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Tt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return t=i.data,t===b&&z?null:t;default:return null}}function xe(t,i){if(ke)return t==="compositionend"||!ni&&F(t,i)?(t=So(),Ci=vr=Zn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var It={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!It[t.type]:i==="textarea"}function Oi(t,i,a,l){Ai?wi?wi.push(l):wi=[l]:Ai=l,i=lc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ii=null;function Oo(t){Ky(t,0)}function Ru(t){var i=fr(t);if(_o(i))return t}function Tm(t,i){if(t==="change")return i}var bm=!1;if(un){var zh;if(un){var jh="oninput"in document;if(!jh){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),jh=typeof Sm.oninput=="function"}zh=jh}else zh=!1;bm=zh&&(!document.documentMode||9<document.documentMode)}function Am(){Pt&&(Pt.detachEvent("onpropertychange",wm),ii=Pt=null)}function wm(t){if(t.propertyName==="value"&&Ru(ii)){var i=[];Oi(i,ii,t,aa(t)),fu(Oo,i)}}function jT(t,i,a){t==="focusin"?(Am(),Pt=i,ii=a,Pt.attachEvent("onpropertychange",wm)):t==="focusout"&&Am()}function HT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(ii)}function qT(t,i){if(t==="click")return Ru(i)}function FT(t,i){if(t==="input"||t==="change")return Ru(i)}function GT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:GT;function Do(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Zs.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cm(t,i){var a=Rm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rm(a)}}function Im(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Im(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Om(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ra(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ra(t.document)}return i}function Hh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function KT(t,i){var a=Om(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Im(i.ownerDocument.documentElement,i)){if(l!==null&&Hh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Cm(i,d);var _=Cm(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var YT=un&&"documentMode"in document&&11>=document.documentMode,ma=null,qh=null,No=null,Fh=!1;function Dm(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||ma==null||ma!==ra(l)||(l=ma,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&Do(No,l)||(No=l,l=lc(qh,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ma)))}function ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Gh={},Nm={};un&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function gs(t){if(Gh[t])return Gh[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Nm)return Gh[t]=i[a];return t}var km=gs("animationend"),xm=gs("animationiteration"),Mm=gs("animationstart"),$T=gs("transitionrun"),QT=gs("transitionstart"),XT=gs("transitioncancel"),Pm=gs("transitionend"),Vm=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Vn(t,i){Vm.set(t,i),ln(i,[t])}var bn=[],ya=0,Kh=0;function Cu(){for(var t=ya,i=Kh=ya=0;i<t;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Um(a,h,d)}}function Iu(t,i,a,l){bn[ya++]=t,bn[ya++]=i,bn[ya++]=a,bn[ya++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,i,a,l){return Iu(t,i,a,l),Ou(t)}function _r(t,i){return Iu(t,null,null,i),Ou(t)}function Um(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Wt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Ou(t){if(50<nl)throw nl=0,ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={},Bm=new WeakMap;function Sn(t,i){if(typeof t=="object"&&t!==null){var a=Bm.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ge(i)},Bm.set(t,i),i)}return{value:t,source:i,stack:ge(i)}}var _a=[],Ea=0,Du=null,Nu=0,An=[],wn=0,ys=null,Di=1,Ni="";function vs(t,i){_a[Ea++]=Nu,_a[Ea++]=Du,Du=t,Nu=i}function zm(t,i,a){An[wn++]=Di,An[wn++]=Ni,An[wn++]=ys,ys=t;var l=Di;t=Ni;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Di=1<<32-Wt(i)+h|a<<h|l,Ni=d+t}else Di=1<<d|a<<h|l,Ni=t}function $h(t){t.return!==null&&(vs(t,1),zm(t,1,0))}function Qh(t){for(;t===Du;)Du=_a[--Ea],_a[Ea]=null,Nu=_a[--Ea],_a[Ea]=null;for(;t===ys;)ys=An[--wn],An[wn]=null,Ni=An[--wn],An[wn]=null,Di=An[--wn],An[wn]=null}var en=null,Vt=null,Be=!1,Ln=null,ri=!1,Xh=Error(s(519));function _s(t){var i=Error(s(418,""));throw Mo(Sn(i,t)),Xh}function jm(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[Et]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)De(rl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),as(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),yr(i,l.value,l.defaultValue,l.children),ss(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Xy(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=uc),i=!0):i=!1,i||_s(t)}function Hm(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ri=!0;return;case 5:case 13:ri=!1;return;default:en=en.return}}function ko(t){if(t!==en)return!1;if(!Be)return Hm(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Vt&&_s(t),Hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Vt=Bn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Vt=null}}else Vt=en?Bn(t.stateNode.nextSibling):null;return!0}function xo(){Vt=en=null,Be=!1}function Mo(t){Ln===null?Ln=[t]:Ln.push(t)}var Po=Error(s(460)),qm=Error(s(474)),Wh={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ku(){}function Gm(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ku,ku),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Po?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ku,ku);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Po?Error(s(483)):t}throw Vo=i,Po}}var Vo=null;function Km(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}var Ta=null,Lo=0;function xu(t){var i=Lo;return Lo+=1,Ta===null&&(Ta=[]),Gm(Ta,t,i)}function Uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Mu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ym(t){var i=t._init;return i(t._payload)}function $m(t){function i(L,M){if(t){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Nr(L,M),L.index=0,L.sibling=null,L}function d(L,M,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=33554434,M):j):(L.flags|=33554434,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function T(L,M,j,Q){return M===null||M.tag!==6?(M=Kf(j,L.mode,Q),M.return=L,M):(M=h(M,j),M.return=L,M)}function R(L,M,j,Q){var le=j.type;return le===g?Y(L,M,j.props.children,Q,j.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Ym(le)===M.type)?(M=h(M,j.props),Uo(M,j),M.return=L,M):(M=Zu(j.type,j.key,j.props,null,L.mode,Q),Uo(M,j),M.return=L,M)}function P(L,M,j,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Yf(j,L.mode,Q),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function Y(L,M,j,Q,le){return M===null||M.tag!==7?(M=Os(j,L.mode,Q,le),M.return=L,M):(M=h(M,j),M.return=L,M)}function Z(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kf(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return j=Zu(M.type,M.key,M.props,null,L.mode,j),Uo(j,M),j.return=L,j;case p:return M=Yf(M,L.mode,j),M.return=L,M;case ne:var Q=M._init;return M=Q(M._payload),Z(L,M,j)}if(ae(M)||se(M))return M=Os(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return Z(L,xu(M),j);if(M.$$typeof===k)return Z(L,Qu(L,M),j);Mu(L,M)}return null}function H(L,M,j,Q){var le=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return le!==null?null:T(L,M,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case f:return j.key===le?R(L,M,j,Q):null;case p:return j.key===le?P(L,M,j,Q):null;case ne:return le=j._init,j=le(j._payload),H(L,M,j,Q)}if(ae(j)||se(j))return le!==null?null:Y(L,M,j,Q,null);if(typeof j.then=="function")return H(L,M,xu(j),Q);if(j.$$typeof===k)return H(L,M,Qu(L,j),Q);Mu(L,j)}return null}function K(L,M,j,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(j)||null,T(M,L,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:return L=L.get(Q.key===null?j:Q.key)||null,R(M,L,Q,le);case p:return L=L.get(Q.key===null?j:Q.key)||null,P(M,L,Q,le);case ne:var Re=Q._init;return Q=Re(Q._payload),K(L,M,j,Q,le)}if(ae(Q)||se(Q))return L=L.get(j)||null,Y(M,L,Q,le,null);if(typeof Q.then=="function")return K(L,M,j,xu(Q),le);if(Q.$$typeof===k)return K(L,M,j,Qu(M,Q),le);Mu(M,Q)}return null}function he(L,M,j,Q){for(var le=null,Re=null,pe=M,ye=M=0,Nt=null;pe!==null&&ye<j.length;ye++){pe.index>ye?(Nt=pe,pe=null):Nt=pe.sibling;var ze=H(L,pe,j[ye],Q);if(ze===null){pe===null&&(pe=Nt);break}t&&pe&&ze.alternate===null&&i(L,pe),M=d(ze,M,ye),Re===null?le=ze:Re.sibling=ze,Re=ze,pe=Nt}if(ye===j.length)return a(L,pe),Be&&vs(L,ye),le;if(pe===null){for(;ye<j.length;ye++)pe=Z(L,j[ye],Q),pe!==null&&(M=d(pe,M,ye),Re===null?le=pe:Re.sibling=pe,Re=pe);return Be&&vs(L,ye),le}for(pe=l(pe);ye<j.length;ye++)Nt=K(pe,L,ye,j[ye],Q),Nt!==null&&(t&&Nt.alternate!==null&&pe.delete(Nt.key===null?ye:Nt.key),M=d(Nt,M,ye),Re===null?le=Nt:Re.sibling=Nt,Re=Nt);return t&&pe.forEach(function(Ur){return i(L,Ur)}),Be&&vs(L,ye),le}function Ee(L,M,j,Q){if(j==null)throw Error(s(151));for(var le=null,Re=null,pe=M,ye=M=0,Nt=null,ze=j.next();pe!==null&&!ze.done;ye++,ze=j.next()){pe.index>ye?(Nt=pe,pe=null):Nt=pe.sibling;var Ur=H(L,pe,ze.value,Q);if(Ur===null){pe===null&&(pe=Nt);break}t&&pe&&Ur.alternate===null&&i(L,pe),M=d(Ur,M,ye),Re===null?le=Ur:Re.sibling=Ur,Re=Ur,pe=Nt}if(ze.done)return a(L,pe),Be&&vs(L,ye),le;if(pe===null){for(;!ze.done;ye++,ze=j.next())ze=Z(L,ze.value,Q),ze!==null&&(M=d(ze,M,ye),Re===null?le=ze:Re.sibling=ze,Re=ze);return Be&&vs(L,ye),le}for(pe=l(pe);!ze.done;ye++,ze=j.next())ze=K(pe,L,ye,ze.value,Q),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?ye:ze.key),M=d(ze,M,ye),Re===null?le=ze:Re.sibling=ze,Re=ze);return t&&pe.forEach(function(cS){return i(L,cS)}),Be&&vs(L,ye),le}function ot(L,M,j,Q){if(typeof j=="object"&&j!==null&&j.type===g&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case f:e:{for(var le=j.key;M!==null;){if(M.key===le){if(le=j.type,le===g){if(M.tag===7){a(L,M.sibling),Q=h(M,j.props.children),Q.return=L,L=Q;break e}}else if(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Ym(le)===M.type){a(L,M.sibling),Q=h(M,j.props),Uo(Q,j),Q.return=L,L=Q;break e}a(L,M);break}else i(L,M);M=M.sibling}j.type===g?(Q=Os(j.props.children,L.mode,Q,j.key),Q.return=L,L=Q):(Q=Zu(j.type,j.key,j.props,null,L.mode,Q),Uo(Q,j),Q.return=L,L=Q)}return _(L);case p:e:{for(le=j.key;M!==null;){if(M.key===le)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(L,M.sibling),Q=h(M,j.children||[]),Q.return=L,L=Q;break e}else{a(L,M);break}else i(L,M);M=M.sibling}Q=Yf(j,L.mode,Q),Q.return=L,L=Q}return _(L);case ne:return le=j._init,j=le(j._payload),ot(L,M,j,Q)}if(ae(j))return he(L,M,j,Q);if(se(j)){if(le=se(j),typeof le!="function")throw Error(s(150));return j=le.call(j),Ee(L,M,j,Q)}if(typeof j.then=="function")return ot(L,M,xu(j),Q);if(j.$$typeof===k)return ot(L,M,Qu(L,j),Q);Mu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(L,M.sibling),Q=h(M,j),Q.return=L,L=Q):(a(L,M),Q=Kf(j,L.mode,Q),Q.return=L,L=Q),_(L)):a(L,M)}return function(L,M,j,Q){try{Lo=0;var le=ot(L,M,j,Q);return Ta=null,le}catch(pe){if(pe===Po)throw pe;var Re=On(29,pe,null,L.mode);return Re.lanes=Q,Re.return=L,Re}finally{}}}var Es=$m(!0),Qm=$m(!1),ba=Le(null),Pu=Le(0);function Xm(t,i){t=Hi,He(Pu,t),He(ba,i),Hi=t|i.baseLanes}function Zh(){He(Pu,Hi),He(ba,ba.current)}function Jh(){Hi=Pu.current,it(ba),it(Pu)}var Rn=Le(null),si=null;function Er(t){var i=t.alternate;He(St,St.current&1),He(Rn,t),si===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(si=t)}function Wm(t){if(t.tag===22){if(He(St,St.current),He(Rn,t),si===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(si=t)}}else Tr()}function Tr(){He(St,St.current),He(Rn,Rn.current)}function ki(t){it(Rn),si===t&&(si=null),it(St)}var St=Le(0);function Vu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var WT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZT=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,At={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new WT,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&ZT(JT,function(){t.controller.abort()})}var zo=null,tf=0,Sa=0,Aa=null;function eb(t,i){if(zo===null){var a=zo=[];tf=0,Sa=ld(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tf++,i.then(Zm,Zm),i}function Zm(){if(--tf===0&&zo!==null){Aa!==null&&(Aa.status="fulfilled");var t=zo;zo=null,Sa=0,Aa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Jm=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eb(t,i),Jm!==null&&Jm(t,i)};var Ts=Le(null);function nf(){var t=Ts.current;return t!==null?t:$e.pooledCache}function Lu(t,i){i===null?He(Ts,Ts.current):He(Ts,i.pool)}function eg(){var t=nf();return t===null?null:{parent:At._currentValue,pool:t}}var br=0,Ae=null,Ge=null,dt=null,Uu=!1,wa=!1,bs=!1,Bu=0,jo=0,Ra=null,nb=0;function ht(){throw Error(s(321))}function rf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function sf(t,i,a,l,h,d){return br=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ss:Sr,bs=!1,d=a(l,h),bs=!1,wa&&(d=ng(i,a,l,h)),tg(t),d}function tg(t){S.H=ai;var i=Ge!==null&&Ge.next!==null;if(br=0,dt=Ge=Ae=null,Uu=!1,jo=0,Ra=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&$u(t)&&(Ot=!0))}function ng(t,i,a,l){Ae=t;var h=0;do{if(wa&&(Ra=null),jo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,dt=Ge=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=As,d=i(a,l)}while(wa);return d}function ib(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?Ho(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ae.flags|=1024),i}function af(){var t=Bu!==0;return Bu=0,t}function of(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function lf(t){if(Uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Uu=!1}br=0,dt=Ge=Ae=null,wa=!1,jo=Bu=0,Ra=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ae.memoizedState=dt=t:dt=dt.next=t,dt}function pt(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=dt===null?Ae.memoizedState:dt.next;if(i!==null)dt=i,Ge=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},dt===null?Ae.memoizedState=dt=t:dt=dt.next=t}return dt}var zu;zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ho(t){var i=jo;return jo+=1,Ra===null&&(Ra=[]),t=Gm(Ra,t,i),i=Ae,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ss:Sr),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ho(t);if(t.$$typeof===k)return Ft(t)}throw Error(s(438,String(t)))}function uf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zu(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=me;return i.index++,a}function xi(t,i){return typeof i=="function"?i(t):i}function Hu(t){var i=pt();return cf(i,Ge,t)}function cf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,R=null,P=i,Y=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Me&Z)===Z:(br&Z)===Z){var H=P.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Sa&&(Y=!0);else if((br&H)===H){P=P.next,H===Sa&&(Y=!0);continue}else Z={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Z,_=d):R=R.next=Z,Ae.lanes|=H,kr|=H;Z=P.action,bs&&a(d,Z),d=P.hasEagerState?P.eagerState:a(d,Z)}else H={lane:Z,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=H,_=d):R=R.next=H,Ae.lanes|=Z,kr|=Z;P=P.next}while(P!==null&&P!==i);if(R===null?_=d:R.next=T,!cn(d,t.memoizedState)&&(Ot=!0,Y&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);cn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ig(t,i,a){var l=Ae,h=pt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!cn((Ge||h).memoizedState,a);if(_&&(h.memoizedState=a,Ot=!0),h=h.queue,pf(ag.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Ca(9,sg.bind(null,l,h,a,i),{destroy:void 0},null),$e===null)throw Error(s(349));d||(br&60)!==0||rg(l,i,a)}return a}function rg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=zu(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sg(t,i,a,l){i.value=a,i.getSnapshot=l,og(i)&&lg(t)}function ag(t,i,a){return a(function(){og(i)&&lg(t)})}function og(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function lg(t){var i=_r(t,2);i!==null&&tn(i,t,2)}function ff(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),bs){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},i}function ug(t,i,a,l){return t.baseState=a,cf(t,Ge,typeof l=="function"?l:xi)}function rb(t,i,a,l,h){if(Gu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,cg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function cg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,_={};S.T=_;try{var T=a(h,l),R=S.S;R!==null&&R(_,T),hg(t,i,T)}catch(P){df(t,i,P)}finally{S.T=d}}else try{d=a(h,l),hg(t,i,d)}catch(P){df(t,i,P)}}function hg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fg(t,i,l)},function(l){return df(t,i,l)}):fg(t,i,a)}function fg(t,i,a){i.status="fulfilled",i.value=a,dg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cg(t,a)))}function df(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,dg(i),i=i.next;while(i!==l)}t.action=null}function dg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function pg(t,i){return i}function mg(t,i){if(Be){var a=$e.formState;if(a!==null){e:{var l=Ae;if(Be){if(Vt){t:{for(var h=Vt,d=ri;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Vt=Bn(h.nextSibling),l=h.data==="F!";break e}}_s(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:i},a.queue=l,a=xg.bind(null,Ae,l),l.dispatch=a,l=ff(!1),d=_f.bind(null,Ae,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=rb.bind(null,Ae,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function gg(t){var i=pt();return yg(i,Ge,t)}function yg(t,i,a){i=cf(t,i,pg)[0],t=Hu(xi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ho(i):i;var l=pt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ae.flags|=2048,Ca(9,sb.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function sb(t,i){t.action=i}function vg(t){var i=pt(),a=Ge;if(a!==null)return yg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ca(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ae.updateQueue,i===null&&(i=zu(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _g(){return pt().memoizedState}function qu(t,i,a,l){var h=sn();Ae.flags|=t,h.memoizedState=Ca(1|i,a,{destroy:void 0},l===void 0?null:l)}function Fu(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ge!==null&&l!==null&&rf(l,Ge.memoizedState.deps)?h.memoizedState=Ca(i,a,d,l):(Ae.flags|=t,h.memoizedState=Ca(1|i,a,d,l))}function Eg(t,i){qu(8390656,8,t,i)}function pf(t,i){Fu(2048,8,t,i)}function Tg(t,i){return Fu(4,2,t,i)}function bg(t,i){return Fu(4,4,t,i)}function Sg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ag(t,i,a){a=a!=null?a.concat([t]):null,Fu(4,4,Sg.bind(null,i,t),a)}function mf(){}function wg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&rf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Rg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&rf(i,l[1]))return l[0];if(l=t(),bs){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function gf(t,i,a){return a===void 0||(br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Iy(),Ae.lanes|=t,kr|=t,a)}function Cg(t,i,a,l){return cn(a,i)?a:ba.current!==null?(t=gf(t,a,l),cn(t,i)||(Ot=!0),t):(br&42)===0?(Ot=!0,t.memoizedState=a):(t=Iy(),Ae.lanes|=t,kr|=t,i)}function Ig(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=S.T,T={};S.T=T,_f(t,!1,i,a);try{var R=h(),P=S.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=tb(R,l);qo(t,i,Y,pn(t))}else qo(t,i,l,pn(t))}catch(Z){qo(t,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{oe.p=d,S.T=_}}function ab(){}function yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Og(t).queue;Ig(t,h,i,Se,a===null?ab:function(){return Dg(t),a(l)})}function Og(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:Se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dg(t){var i=Og(t).next.queue;qo(t,i,{},pn())}function vf(){return Ft(ul)}function Ng(){return pt().memoizedState}function kg(){return pt().memoizedState}function ob(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=Rr(a);var l=Cr(i,t,a);l!==null&&(tn(l,i,a),Ko(l,i,a)),i={cache:ef()},t.payload=i;return}i=i.return}}function lb(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Mg(i,a):(a=Yh(t,i,a,l),a!==null&&(tn(a,t,l),Pg(a,i,l)))}function xg(t,i,a){var l=pn();qo(t,i,a,l)}function qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Mg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,_))return Iu(t,i,h,0),$e===null&&Cu(),!1}catch{}finally{}if(a=Yh(t,i,h,l),a!==null)return tn(a,t,l),Pg(a,i,l),!0}return!1}function _f(t,i,a,l){if(l={lane:2,revertLane:ld(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(i)throw Error(s(479))}else i=Yh(t,a,l,2),i!==null&&tn(i,t,2)}function Gu(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Mg(t,i){wa=Uu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Pg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ur(t,a)}}var ai={readContext:Ft,use:ju,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};ai.useCacheRefresh=ht,ai.useMemoCache=ht,ai.useHostTransitionStatus=ht,ai.useFormState=ht,ai.useActionState=ht,ai.useOptimistic=ht;var Ss={readContext:Ft,use:ju,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Eg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,qu(4194308,4,Sg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return qu(4194308,4,t,i)},useInsertionEffect:function(t,i){qu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(bs){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(bs){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lb.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=ff(t);var i=t.queue,a=xg.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:mf,useDeferredValue:function(t,i){var a=sn();return gf(a,t,i)},useTransition:function(){var t=ff(!1);return t=Ig.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$e===null)throw Error(s(349));(Me&60)!==0||rg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Eg(ag.bind(null,l,d,t),[t]),l.flags|=2048,Ca(9,sg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=sn(),i=$e.identifierPrefix;if(Be){var a=Ni,l=Di;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=nb++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=ob.bind(null,Ae)}};Ss.useMemoCache=uf,Ss.useHostTransitionStatus=vf,Ss.useFormState=mg,Ss.useActionState=mg,Ss.useOptimistic=function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_f.bind(null,Ae,!0,a),a.dispatch=i,[t,i]};var Sr={readContext:Ft,use:ju,useCallback:wg,useContext:Ft,useEffect:pf,useImperativeHandle:Ag,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Hu,useRef:_g,useState:function(){return Hu(xi)},useDebugValue:mf,useDeferredValue:function(t,i){var a=pt();return Cg(a,Ge.memoizedState,t,i)},useTransition:function(){var t=Hu(xi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),i]},useSyncExternalStore:ig,useId:Ng};Sr.useCacheRefresh=kg,Sr.useMemoCache=uf,Sr.useHostTransitionStatus=vf,Sr.useFormState=gg,Sr.useActionState=gg,Sr.useOptimistic=function(t,i){var a=pt();return ug(a,Ge,t,i)};var As={readContext:Ft,use:ju,useCallback:wg,useContext:Ft,useEffect:pf,useImperativeHandle:Ag,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:hf,useRef:_g,useState:function(){return hf(xi)},useDebugValue:mf,useDeferredValue:function(t,i){var a=pt();return Ge===null?gf(a,t,i):Cg(a,Ge.memoizedState,t,i)},useTransition:function(){var t=hf(xi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),i]},useSyncExternalStore:ig,useId:Ng};As.useCacheRefresh=kg,As.useMemoCache=uf,As.useHostTransitionStatus=vf,As.useFormState=vg,As.useActionState=vg,As.useOptimistic=function(t,i){var a=pt();return Ge!==null?ug(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Ef(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Tf={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Rr(l);h.payload=i,a!=null&&(h.callback=a),i=Cr(t,h,l),i!==null&&(tn(i,t,l),Ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cr(t,h,l),i!==null&&(tn(i,t,l),Ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=Rr(a);l.tag=2,i!=null&&(l.callback=i),i=Cr(t,l,a),i!==null&&(tn(i,t,a),Ko(i,t,a))}};function Vg(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Do(a,l)||!Do(h,d):!0}function Lg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Tf.enqueueReplaceState(i,i.state,null)}function ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ug(t){Ku(t)}function Bg(t){console.error(t)}function zg(t){Ku(t)}function Yu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(t,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(t,i)},a}function Hg(t){return t=Rr(t),t.tag=3,t}function qg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){jg(i,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ub(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Go(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return si===null?id():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),sd(t,l,h)),!1;case 22:return a.flags|=65536,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),sd(t,l,h)),!1}throw Error(s(435,a.tag))}return sd(t,l,h),id(),!1}if(Be)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Xh&&(t=Error(s(422),{cause:l}),Mo(Sn(t,a)))):(l!==Xh&&(i=Error(s(423),{cause:l}),Mo(Sn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=bf(t.stateNode,l,h),Lf(t,h),at!==4&&(at=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),el===null?el=[d]:el.push(d),at!==4&&(at=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=bf(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hg(h),qg(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var Fg=Error(s(461)),Ot=!1;function Lt(t,i,a,l){i.child=t===null?Qm(i,null,a,l):Es(i,t.child,a,l)}function Gg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Cs(i),l=sf(t,i,a,_,d,h),T=af(),t!==null&&!Ot?(of(t,i,h),Mi(t,i,h)):(Be&&T&&$h(i),i.flags|=1,Lt(t,i,l,h),i.child)}function Kg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yg(t,i,d,l,h)):(t=Zu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(_,l)&&t.ref===i.ref)return Mi(t,i,h)}return i.flags|=1,t=Nr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Do(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Nf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Mi(t,i,h)}return Sf(t,i,a,l,h)}function $g(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(Fo(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Qg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(i,_!==null?_.cachePool:null),_!==null?Xm(i,_):Zh(),Wm(i);else return i.lanes=i.childLanes=536870912,Qg(t,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(Lu(i,_.cachePool),Xm(i,_),Tr(),i.memoizedState=null):(t!==null&&Lu(i,null),Zh(),Tr());return Lt(t,i,h,a),i.child}function Qg(t,i,a,l){var h=nf();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Lu(i,null),Zh(),Wm(i),t!==null&&Go(t,i,l,!0),null}function Fo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Sf(t,i,a,l,h){return Cs(i),a=sf(t,i,a,l,void 0,h),l=af(),t!==null&&!Ot?(of(t,i,h),Mi(t,i,h)):(Be&&l&&$h(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Xg(t,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=ng(i,l,a,h),tg(t),l=af(),t!==null&&!Ot?(of(t,i,d),Mi(t,i,d)):(Be&&l&&$h(i),i.flags|=1,Lt(t,i,a,d),i.child)}function Wg(t,i,a,l,h){if(Cs(i),i.stateNode===null){var d=va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ef(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Tf.enqueueReplaceState(d,d.state,null),$o(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=ws(a,T);d.props=R;var P=d.context,Y=a.contextType;_=va,typeof Y=="object"&&Y!==null&&(_=Ft(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Lg(i,d,l,_),wr=!1;var H=i.memoizedState;d.state=H,$o(i,l,d,h),Yo(),P=i.memoizedState,T||H!==P||wr?(typeof Z=="function"&&(Ef(i,a,Z,l),P=i.memoizedState),(R=wr||Vg(i,a,R,l,H,P,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(t,i),_=i.memoizedProps,Y=ws(a,_),d.props=Y,Z=i.pendingProps,H=d.context,P=a.contextType,R=va,typeof P=="object"&&P!==null&&(R=Ft(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==R)&&Lg(i,d,l,R),wr=!1,H=i.memoizedState,d.state=H,$o(i,l,d,h),Yo();var K=i.memoizedState;_!==Z||H!==K||wr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof T=="function"&&(Ef(i,a,T,l),K=i.memoizedState),(Y=wr||Vg(i,a,Y,l,H,K,R)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fo(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Es(i,t.child,null,h),i.child=Es(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Mi(t,i,h),t}function Zg(t,i,a,l){return xo(),i.flags|=256,Lt(t,i,a,l),i.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function wf(t){return{baseLanes:t,cachePool:eg()}}function Rf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function Jg(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Er(i):Tr(),Be){var T=Vt,R;if(R=T){e:{for(R=T,T=ri;R.nodeType!==8;){if(!T){T=null;break e}if(R=Bn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:Di,overflow:Ni}:null,retryLane:536870912},R=On(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,Vt=null,R=!0):R=!1}R||_s(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(Tr(),h=i.mode,T=If({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=wf(a),h.childLanes=Rf(t,_,a),i.memoizedState=Af,l):(Er(i),Cf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Er(i),i.flags&=-257,i=Of(t,i,a)):i.memoizedState!==null?(Tr(),i.child=t.child,i.flags|=128,i=null):(Tr(),h=l.fallback,T=i.mode,l=If({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Es(i,t.child,null,a),l=i.child,l.memoizedState=wf(a),l.childLanes=Rf(t,_,a),i.memoizedState=Af,i=h);else if(Er(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,Mo({value:l,source:null,stack:null}),i=Of(t,i,a)}else if(Ot||Go(t,i,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=$e,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,_r(t,l),tn(_,t,l),Fg}T.data==="$?"||id(),i=Of(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=Ab.bind(null,t),T._reactRetry=i,i=null):(t=R.treeContext,Vt=Bn(T.nextSibling),en=i,Be=!0,Ln=null,ri=!1,t!==null&&(An[wn++]=Di,An[wn++]=Ni,An[wn++]=ys,Di=t.id,Ni=t.overflow,ys=i),i=Cf(i,l.children),i.flags|=4096);return i}return h?(Tr(),h=l.fallback,T=i.mode,R=t.child,P=R.sibling,l=Nr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=Nr(P,h):(h=Os(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=wf(a):(R=T.cachePool,R!==null?(P=At._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=eg(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Rf(t,_,a),i.memoizedState=Af,l):(Er(i),a=t.child,t=a.sibling,a=Nr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Cf(t,i){return i=If({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function If(t,i){return wy(t,i,0,null)}function Of(t,i,a){return Es(i,t.child,null,a),t=Cf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ey(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),xf(t.return,i,a)}function Df(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ty(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ey(t,a,i);else if(t.tag===19)ey(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(He(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Df(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Df(i,!0,a,null,d);break;case"together":Df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Go(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Nr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Nr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function cb(t,i,a){switch(i.tag){case 3:ir(i,i.stateNode.containerInfo),Ar(i,At,t.memoizedState.cache),xo();break;case 27:case 5:lo(i);break;case 4:ir(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Jg(t,i,a):(Er(i),t=Mi(t,i,a),t!==null?t.sibling:null);Er(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Go(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ty(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,$g(t,i,a);case 24:Ar(i,At,t.memoizedState.cache)}return Mi(t,i,a)}function ny(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Nf(t,a)&&(i.flags&128)===0)return Ot=!1,cb(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(i.flags&1048576)!==0&&zm(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Gf(l)?(t=ws(l,t),i.tag=1,i=Wg(null,i,l,t,a)):(i.tag=0,i=Sf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=Gg(null,i,l,t,a);break e}else if(h===X){i.tag=14,i=Kg(null,i,l,t,a);break e}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return Sf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ws(l,i.pendingProps),Wg(t,i,l,h,a);case 3:e:{if(ir(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Vf(t,i),$o(i,d,null,a);var _=i.memoizedState;if(d=_.cache,Ar(i,At,d),d!==h.cache&&Mf(i,[At],a,!0),Yo(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Zg(t,i,d,a);break e}else if(d!==l){l=Sn(Error(s(424)),i),Mo(l),i=Zg(t,i,d,a);break e}else for(Vt=Bn(i.stateNode.containerInfo.firstChild),en=i,Be=!0,Ln=null,ri=!0,a=Qm(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xo(),d===l){i=Mi(t,i,a);break e}Lt(t,i,d,a)}i=i.child}return i;case 26:return Fo(t,i),t===null?(a=sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=cc(mn.current).createElement(a),l[Rt]=i,l[Et]=t,Ut(l,a,t),Je(l),i.stateNode=l):i.memoizedState=sv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return lo(i),t===null&&Be&&(l=i.stateNode=nv(i.type,i.pendingProps,mn.current),en=i,ri=!0,Vt=Bn(l.firstChild)),l=i.pendingProps.children,t!==null||Be?Lt(t,i,l,a):i.child=Es(i,null,l,a),Fo(t,i),i.child;case 5:return t===null&&Be&&((h=l=Vt)&&(l=zb(l,i.type,i.pendingProps,ri),l!==null?(i.stateNode=l,en=i,Vt=Bn(l.firstChild),ri=!1,h=!0):h=!1),h||_s(i)),lo(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,yd(h,d)?l=null:_!==null&&yd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=sf(t,i,ib,null,null,a),ul._currentValue=h),Fo(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=Vt)&&(a=jb(a,i.pendingProps,ri),a!==null?(i.stateNode=a,en=i,Vt=null,t=!0):t=!1),t||_s(i)),null;case 13:return Jg(t,i,a);case 4:return ir(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Es(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return Gg(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ar(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=Ft(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return Kg(t,i,i.type,i.pendingProps,a);case 15:return Yg(t,i,i.type,i.pendingProps,a);case 19:return ty(t,i,a);case 22:return $g(t,i,a);case 24:return Cs(i),l=Ft(At),t===null?(h=nf(),h===null&&(h=$e,d=ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),Ar(i,At,h)):((t.lanes&a)!==0&&(Vf(t,i),$o(i,null,null,a),Yo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ar(i,At,l)):(l=d.cache,Ar(i,At,l),l!==h.cache&&Mf(i,[At],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var kf=Le(null),Rs=null,Pi=null;function Ar(t,i,a){He(kf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=kf.current,it(kf)}function xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Go(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;cn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===nr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Rs=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return iy(Rs,t)}function Qu(t,i){return Rs===null&&Cs(t),iy(t,i)}function iy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var wr=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(t),Um(t,null,a),i}return Iu(t,l,i,a),Ou(t)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ur(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function Yo(){if(Uf){var t=Aa;if(t!==null)throw t}}function $o(t,i,a,l){Uf=!1;var h=t.updateQueue;wr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,_===null?d=P:_.next=P,_=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;_=0,Y=P=R=null,T=d;do{var H=T.lane&-536870913,K=H!==T.lane;if(K?(Me&H)===H:(l&H)===H){H!==0&&H===Sa&&(Uf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Ee=T;H=i;var ot=a;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){Z=he.call(ot,Z,H);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,H=typeof he=="function"?he.call(ot,Z,H):he,H==null)break e;Z=I({},Z,H);break e;case 2:wr=!0}}H=T.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=K,R=Z):Y=Y.next=K,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=Z}}function ry(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],i)}function Qo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function Ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var R=a;try{T()}catch(P){Ye(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){Ye(i,i.return,P)}}function ay(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sy(i,a)}catch(l){Ye(t,t.return,l)}}}function oy(t,i,a){a.props=ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Is(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ye(t,i,d)}}function hn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function uy(t,i,a){try{var l=t.stateNode;Pb(l,t.type,a,i),l[Et]=i}catch(h){Ye(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(zf(t,i,a),t=t.sibling;t!==null;)zf(t,i,a),t=t.sibling}function Xu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,i,a),t=t.sibling;t!==null;)Xu(t,i,a),t=t.sibling}var Li=!1,st=!1,jf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Dt=null,fy=!1;function hb(t,i){if(t=t.containerInfo,md=gc,t=Om(t),Hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,R=-1,P=0,Y=0,Z=t,H=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(R=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===a&&++P===h&&(T=_),H===d&&++Y===l&&(R=_),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:t,selectionRange:a},gc=!1,Dt=i;Dt!==null;)if(i=Dt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Dt=t;else for(;Dt!==null;){switch(i=Dt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ws(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dt=t;break}Dt=i.return}return he=fy,fy=!1,he}function dy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&Qo(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}l&64&&ay(a),l&512&&Is(a,a.return);break;case 3:if(Bi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sy(l,t)}catch(T){Ye(a,a.return,T)}}break;case 26:Bi(t,a),l&512&&Is(a,a.return);break;case 27:case 5:Bi(t,a),i===null&&l&4&&ly(a),l&512&&Is(a,a.return);break;case 12:Bi(t,a);break;case 13:Bi(t,a),l&4&&gy(t,a);break;case 22:if(h=a.memoizedState!==null||Li,!h){i=i!==null&&i.memoizedState!==null||st;var d=Li,_=st;Li=h,(st=i)&&!_?Or(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),Li=d,st=_}l&512&&(a.memoizedProps.mode==="manual"?Is(a,a.return):hn(a,a.return));break;default:Bi(t,a)}}function py(t){var i=t.alternate;i!==null&&(t.alternate=null,py(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,fn=!1;function Ui(t,i,a){for(a=a.child;a!==null;)my(t,i,a),a=a.sibling}function my(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(rr,a)}catch{}switch(a.tag){case 26:st||hn(a,i),Ui(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||hn(a,i);var l=mt,h=fn;for(mt=a.stateNode,Ui(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);rs(a),mt=l,fn=h;break;case 5:st||hn(a,i);case 6:h=mt;var d=fn;if(mt=null,Ui(t,i,a),mt=h,fn=d,mt!==null)if(fn)try{t=mt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Ye(a,i,_)}else try{mt.removeChild(a.stateNode)}catch(_){Ye(a,i,_)}break;case 18:mt!==null&&(fn?(i=mt,a=a.stateNode,i.nodeType===8?_d(i.parentNode,a):i.nodeType===1&&_d(i,a),dl(i)):_d(mt,a.stateNode));break;case 4:l=mt,h=fn,mt=a.stateNode.containerInfo,fn=!0,Ui(t,i,a),mt=l,fn=h;break;case 0:case 11:case 14:case 15:st||Ir(2,a,i),st||Ir(4,a,i),Ui(t,i,a);break;case 1:st||(hn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&oy(a,i,l)),Ui(t,i,a);break;case 21:Ui(t,i,a);break;case 22:st||hn(a,i),st=(l=st)||a.memoizedState!==null,Ui(t,i,a),st=l;break;default:Ui(t,i,a)}}function gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dl(t)}catch(a){Ye(i,i.return,a)}}function fb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new hy),i;default:throw Error(s(435,t.tag))}}function Hf(t,i){var a=fb(t);i.forEach(function(l){var h=wb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:mt=T.stateNode,fn=!1;break e;case 3:mt=T.stateNode.containerInfo,fn=!0;break e;case 4:mt=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(mt===null)throw Error(s(160));my(d,_,h),mt=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)yy(i,t),i=i.sibling}var Un=null;function yy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(i,t),In(t),l&4&&(Ir(3,t,t.return),Qo(3,t),Ir(5,t,t.return));break;case 1:Cn(i,t),In(t),l&512&&(st||a===null||hn(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(Cn(i,t),In(t),l&512&&(st||a===null||hn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hr]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ut(d,l,a),d[Rt]=t,Je(d),l=d;break e;case"link":var _=lv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;case"meta":if(_=lv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Je(d),l=d}t.stateNode=l}else uv(h,t.type,t.stateNode);else t.stateNode=ov(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?uv(h,t.type,t.stateNode):ov(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&uy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,Y=R.nodeName;R[hr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var Z=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Ut(h,Z,d),h[Rt]=t,h[Et]=d}catch(he){Ye(t,t.return,he)}}case 5:if(Cn(i,t),In(t),l&512&&(st||a===null||hn(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,uy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(Cn(i,t),In(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(dc=null,h=Un,Un=hc(i.containerInfo),Cn(i,t),Un=h,In(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(he){Ye(t,t.return,he)}jf&&(jf=!1,vy(t));break;case 4:l=Un,Un=hc(t.stateNode.containerInfo),Cn(i,t),In(t),Un=l;break;case 12:Cn(i,t),In(t);break;case 13:Cn(i,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wf=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 22:if(l&512&&(st||a===null||hn(a,a.return)),R=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Y=Li,Z=st,Li=Y||R,st=Z||P,Cn(i,t),st=Z,Li=Y,In(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Li||st,a===null||P||i||Ia(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Ye(P,P.return,he)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(he){Ye(P,P.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hf(t,a))));break;case 19:Cn(i,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 21:break;default:Cn(i,t),In(t)}}function In(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(cy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Bf(t);Xu(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(vn(_,""),l.flags&=-33);var T=Bf(t);Xu(t,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,P=Bf(t);zf(t,P,R);break;default:throw Error(s(161))}}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dy(t,i.alternate,i),i=i.sibling}function Ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ia(i);break;case 1:hn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&oy(i,i.return,a),Ia(i);break;case 26:case 27:case 5:hn(i,i.return),Ia(i);break;case 22:hn(i,i.return),i.memoizedState===null&&Ia(i);break;default:Ia(i)}t=t.sibling}}function Or(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),Qo(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ry(R[h],T)}catch(P){Ye(l,l.return,P)}}a&&_&64&&ay(d),Is(d,d.return);break;case 26:case 27:case 5:Or(h,d,a),a&&l===null&&_&4&&ly(d),Is(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&_&4&&gy(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),Is(d,d.return);break;default:Or(h,d,a)}i=i.sibling}}function qf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bo(a))}function Ff(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t))}function Dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(t,i,a,l),i=i.sibling}function _y(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Dr(t,i,a,l),h&2048&&Qo(9,i);break;case 3:Dr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t)));break;case 12:if(h&2048){Dr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ye(i,i.return,R)}}else Dr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Dr(t,i,a,l):Xo(t,i):d._visibility&4?Dr(t,i,a,l):(d._visibility|=4,Oa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&qf(i.alternate,i);break;case 24:Dr(t,i,a,l),h&2048&&Ff(i.alternate,i);break;default:Dr(t,i,a,l)}}function Oa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,R=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:Oa(d,_,T,R,h),Qo(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?Oa(d,_,T,R,h):Xo(d,_):(Y._visibility|=4,Oa(d,_,T,R,h)),h&&P&2048&&qf(_.alternate,_);break;case 24:Oa(d,_,T,R,h),h&&P&2048&&Ff(_.alternate,_);break;default:Oa(d,_,T,R,h)}i=i.sibling}}function Xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Xo(a,l),h&2048&&qf(l.alternate,l);break;case 24:Xo(a,l),h&2048&&Ff(l.alternate,l);break;default:Xo(a,l)}i=i.sibling}}var Wo=8192;function Da(t){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)Ey(t),t=t.sibling}function Ey(t){switch(t.tag){case 26:Da(t),t.flags&Wo&&t.memoizedState!==null&&eS(Un,t.memoizedState,t.memoizedProps);break;case 5:Da(t);break;case 3:case 4:var i=Un;Un=hc(t.stateNode.containerInfo),Da(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Wo,Wo=16777216,Da(t),Wo=i):Da(t));break;default:Da(t)}}function Ty(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,Sy(l,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Wu(t)):Zo(t);break;default:Zo(t)}}function Wu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,Sy(l,t)}Ty(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),Wu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Wu(i));break;default:Wu(i)}t=t.sibling}}function Sy(t,i){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var h=l.sibling,d=l.return;if(py(l),l===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}function db(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,l){return new db(t,i,a,l)}function Gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ay(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Gf(t)&&(_=1);else if(typeof t=="string")_=Zb(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return Os(a.children,h,d,i);case y:_=8,h|=24;break;case E:return t=On(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case $:return t=On(13,a,i,h),t.elementType=$,t.lanes=d,t;case G:return t=On(19,a,i,h),t.elementType=G,t.lanes=d,t;case ee:return wy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case k:_=10;break e;case C:_=9;break e;case V:_=11;break e;case X:_=14;break e;case ne:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=On(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=On(7,t,l,i),t.lanes=a,t}function wy(t,i,a,l){t=On(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=_r(d,2);_!==null&&(h._pendingVisibility|=2,tn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=_r(d,2);_!==null&&(h._pendingVisibility&=-3,tn(_,d,2))}}};return t.stateNode=h,t}function Kf(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function Yf(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function zi(t){t.flags|=4}function Ry(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cv(i)){if(i=Rn.current,i!==null&&((Me&4194176)===Me?si!==null:(Me&62914560)!==Me&&(Me&536870912)===0||i!==si))throw Vo=Wh,qm;t.flags|=8192}}function Ju(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?or():536870912,t.lanes|=i,ka|=i)}function Jo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pb(t,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(At),_i(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ko(i)?zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(td(Ln),Ln=null))),et(i),null;case 26:return a=i.memoizedState,t===null?(zi(i),a!==null?(et(i),Ry(i,a)):(et(i),i.flags&=-16777217)):a?a!==t.memoizedState?(zi(i),et(i),Ry(i,a)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&zi(i),et(i),i.flags&=-16777217),null;case 27:Ws(i),a=mn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=Xt.current,ko(i)?jm(i):(t=nv(h,l,a),i.stateNode=t,zi(i))}return et(i),null;case 5:if(Ws(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=Xt.current,ko(i))jm(i);else{switch(h=cc(mn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ut(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zi(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=mn.current,ko(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xy(t.nodeValue,a)),t||_s(i)}else t=cc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else Ln!==null&&(td(Ln),Ln=null),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),et(i),null;case 4:return _i(),t===null&&fd(i.stateNode.containerInfo),et(i),null;case 10:return Vi(i.type),et(i),null;case 19:if(it(St),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Jo(h,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vu(t),d!==null){for(i.flags|=128,Jo(h,!1),t=d.updateQueue,i.updateQueue=t,Ju(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ay(a,t),a=a.sibling;return He(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&nn()>ec&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Vu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ju(i,t),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return et(i),null}else 2*nn()-h.renderingStartTime>ec&&a!==536870912&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,t=St.current,He(St,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return ki(i),Jh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&it(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(At),et(i),null;case 25:return null}throw Error(s(156,i.tag))}function mb(t,i){switch(Qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(At),_i(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return it(St),null;case 4:return _i(),null;case 10:return Vi(i.type),null;case 22:case 23:return ki(i),Jh(),t!==null&&it(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(At),null;case 25:return null;default:return null}}function Cy(t,i){switch(Qh(i),i.tag){case 3:Vi(At),_i();break;case 26:case 27:case 5:Ws(i);break;case 4:_i();break;case 13:ki(i);break;case 19:it(St);break;case 10:Vi(i.type);break;case 22:case 23:ki(i),Jh(),t!==null&&it(Ts);break;case 24:Vi(At)}}var gb={getCacheForType:function(t){var i=Ft(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},yb=typeof WeakMap=="function"?WeakMap:Map,tt=0,$e=null,Ce=null,Me=0,Qe=0,dn=null,ji=!1,Na=!1,$f=!1,Hi=0,at=0,kr=0,Ds=0,Qf=0,Dn=0,ka=0,el=null,oi=null,Xf=!1,Wf=0,ec=1/0,tc=null,xr=null,nc=!1,Ns=null,tl=0,Zf=0,Jf=null,nl=0,ed=null;function pn(){if((tt&2)!==0&&Me!==0)return Me&-Me;if(S.T!==null){var t=Sa;return t!==0?t:ld()}return lu()}function Iy(){Dn===0&&(Dn=(Me&536870912)===0||Be?po():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Dn}function tn(t,i,a){(t===$e&&Qe===2||t.cancelPendingCommit!==null)&&(xa(t,0),qi(t,Me,Dn,!1)),ct(t,a),((tt&2)===0||t!==$e)&&(t===$e&&((tt&2)===0&&(Ds|=a),at===4&&qi(t,Me,Dn,!1)),li(t))}function Oy(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ar(t,i),h=l?Eb(t,i):rd(t,i,!0),d=l;do{if(h===0){Na&&!l&&qi(t,i,0,!1);break}else if(h===6)qi(t,i,0,!ji);else{if(a=t.current.alternate,d&&!vb(a)){h=rd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=el;var R=T.current.memoizedState.isDehydrated;if(R&&(xa(T,_).flags|=256),_=rd(T,_,!1),_!==2){if($f&&!R){T.errorRecoveryDisabledLanes|=d,Ds|=d,h=4;break e}d=oi,oi=h,d!==null&&td(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){xa(t,0),qi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){qi(l,i,Dn,!ji);break e}break;case 2:oi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Wf+300-nn(),10<d)){if(qi(l,i,Dn,!ji),gn(l,0)!==0)break e;l.timeoutHandle=Jy(Dy.bind(null,l,a,oi,tc,Xf,i,Dn,Ds,ka,ji,2,-0,0),d);break e}Dy(l,a,oi,tc,Xf,i,Dn,Ds,ka,ji,0,-0,0)}}break}while(!0);li(t)}function td(t){oi===null?oi=t:oi.push.apply(oi,t)}function Dy(t,i,a,l,h,d,_,T,R,P,Y,Z,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:Jb},Ey(i),i=tS(),i!==null)){t.cancelPendingCommit=i(Ly.bind(null,t,a,l,h,_,T,R,1,Z,H)),qi(t,d,_,!P);return}Ly(t,a,l,h,_,T,R,Y,Z,H)}function vb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(t,i,a,l){i&=~Qf,i&=~Ds,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Wt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&lr(t,a,i)}function ic(){return(tt&6)===0?(il(0),!1):!0}function nd(){if(Ce!==null){if(Qe===0)var t=Ce.return;else t=Ce,Pi=Rs=null,lf(t),Ta=null,Lo=0,t=Ce;for(;t!==null;)Cy(t.alternate,t),t=t.return;Ce=null}}function xa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Lb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nd(),$e=t,Ce=a=Nr(t.current,null),Me=i,Qe=0,dn=null,ji=!1,Na=ar(t,i),$f=!1,ka=Dn=Qf=Ds=kr=at=0,oi=el=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Wt(l),d=1<<h;i|=t[h],l&=~d}return Hi=i,Cu(),a}function Ny(t,i){Ae=null,S.H=ai,i===Po?(i=Km(),Qe=3):i===qm?(i=Km(),Qe=4):Qe=i===Fg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Ce===null&&(at=1,Yu(t,Sn(i,t.current)))}function ky(){var t=S.H;return S.H=ai,t===null?ai:t}function xy(){var t=S.A;return S.A=gb,t}function id(){at=4,ji||(Me&4194176)!==Me&&Rn.current!==null||(Na=!0),(kr&134217727)===0&&(Ds&134217727)===0||$e===null||qi($e,Me,Dn,!1)}function rd(t,i,a){var l=tt;tt|=2;var h=ky(),d=xy();($e!==t||Me!==i)&&(tc=null,xa(t,i)),i=!1;var _=at;e:do try{if(Qe!==0&&Ce!==null){var T=Ce,R=dn;switch(Qe){case 8:nd(),_=6;break e;case 3:case 2:case 6:Rn.current===null&&(i=!0);var P=Qe;if(Qe=0,dn=null,Ma(t,T,R,P),a&&Na){_=0;break e}break;default:P=Qe,Qe=0,dn=null,Ma(t,T,R,P)}}_b(),_=at;break}catch(Y){Ny(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Pi=Rs=null,tt=l,S.H=h,S.A=d,Ce===null&&($e=null,Me=0,Cu()),_}function _b(){for(;Ce!==null;)My(Ce)}function Eb(t,i){var a=tt;tt|=2;var l=ky(),h=xy();$e!==t||Me!==i?(tc=null,ec=nn()+500,xa(t,i)):Na=ar(t,i);e:do try{if(Qe!==0&&Ce!==null){i=Ce;var d=dn;t:switch(Qe){case 1:Qe=0,dn=null,Ma(t,i,d,1);break;case 2:if(Fm(d)){Qe=0,dn=null,Py(i);break}i=function(){Qe===2&&$e===t&&(Qe=7),li(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Fm(d)?(Qe=0,dn=null,Py(i)):(Qe=0,dn=null,Ma(t,i,d,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(!_||cv(_)){Qe=0,dn=null;var R=T.sibling;if(R!==null)Ce=R;else{var P=T.return;P!==null?(Ce=P,rc(P)):Ce=null}break t}}Qe=0,dn=null,Ma(t,i,d,5);break;case 6:Qe=0,dn=null,Ma(t,i,d,6);break;case 8:nd(),at=6;break e;default:throw Error(s(462))}}Tb();break}catch(Y){Ny(t,Y)}while(!0);return Pi=Rs=null,S.H=l,S.A=h,tt=a,Ce!==null?0:($e=null,Me=0,Cu(),at)}function Tb(){for(;Ce!==null&&!Nh();)My(Ce)}function My(t){var i=ny(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,i===null?rc(t):Ce=i}function Py(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Xg(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Xg(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:lf(i);default:Cy(a,i),i=Ce=Ay(i,Hi),i=ny(a,i,Hi)}t.memoizedProps=t.pendingProps,i===null?rc(t):Ce=i}function Ma(t,i,a,l){Pi=Rs=null,lf(i),Ta=null,Lo=0;var h=i.return;try{if(ub(t,h,i,a,Me)){at=1,Yu(t,Sn(a,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;at=1,Yu(t,Sn(a,t.current)),Ce=null;return}i.flags&32768?(Be||l===1?t=!0:Na||(Me&536870912)!==0?t=!1:(ji=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vy(i,t)):rc(i)}function rc(t){var i=t;do{if((i.flags&32768)!==0){Vy(i,ji);return}t=i.return;var a=pb(i.alternate,i,Hi);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);at===0&&(at=5)}function Vy(t,i){do{var a=mb(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);at=6,Ce=null}function Ly(t,i,a,l,h,d,_,T,R,P){var Y=S.T,Z=oe.p;try{oe.p=2,S.T=null,bb(t,i,a,l,Z,h,d,_,T,R,P)}finally{S.T=Y,oe.p=Z}}function bb(t,i,a,l,h,d,_,T){do Pa();while(Ns!==null);if((tt&6)!==0)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=Kh,au(t,l,P,d,_,T),t===$e&&(Ce=$e=null,Me=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||nc||(nc=!0,Zf=P,Jf=a,Rb(Ei,function(){return Pa(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=oe.p,oe.p=2,_=tt,tt|=4,hb(t,R),yy(R,t),KT(gd,t.containerInfo),gc=!!md,gd=md=null,t.current=R,dy(t,R.alternate,R),uo(),tt=_,oe.p=d,S.T=a):t.current=R,nc?(nc=!1,Ns=t,tl=l):Uy(t,P),P=t.pendingLanes,P===0&&(xr=null),ho(R.stateNode),li(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)P=i[R],h(P.value,{componentStack:P.stack});return(tl&3)!==0&&Pa(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===ed?nl++:(nl=0,ed=t):nl=0,il(0),null}function Uy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bo(i)))}function Pa(){if(Ns!==null){var t=Ns,i=Zf;Zf=0;var a=ou(tl),l=S.T,h=oe.p;try{if(oe.p=32>a?32:a,S.T=null,Ns===null)var d=!1;else{a=Jf,Jf=null;var _=Ns,T=tl;if(Ns=null,tl=0,(tt&6)!==0)throw Error(s(331));var R=tt;if(tt|=4,by(_.current),_y(_,_.current,T,a),tt=R,il(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(rr,_)}catch{}d=!0}return d}finally{oe.p=h,S.T=l,Uy(t,i)}}return!1}function By(t,i,a){i=Sn(a,i),i=bf(t.stateNode,i,2),t=Cr(t,i,2),t!==null&&(ct(t,2),li(t))}function Ye(t,i,a){if(t.tag===3)By(t,t,a);else for(;i!==null;){if(i.tag===3){By(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=Sn(a,t),a=Hg(2),l=Cr(i,a,2),l!==null&&(qg(a,l,i,t),ct(l,2),li(l));break}}i=i.return}}function sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||($f=!0,h.add(a),t=Sb.bind(null,t,i,a),i.then(t,t))}function Sb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(Me&a)===a&&(at===4||at===3&&(Me&62914560)===Me&&300>nn()-Wf?(tt&2)===0&&xa(t,0):Qf|=a,ka===Me&&(ka=0)),li(t)}function zy(t,i){i===0&&(i=or()),t=_r(t,i),t!==null&&(ct(t,i),li(t))}function Ab(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),zy(t,a)}function wb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),zy(t,a)}function Rb(t,i){return ts(t,i)}var sc=null,Va=null,ad=!1,ac=!1,od=!1,ks=0;function li(t){t!==Va&&t.next===null&&(Va===null?sc=Va=t:Va=Va.next=t),ac=!0,ad||(ad=!0,Ib(Cb))}function il(t,i){if(!od&&ac){od=!0;do for(var a=!1,l=sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,qy(l,d))}else d=Me,d=gn(l,l===$e?d:0),(d&3)===0||ar(l,d)||(a=!0,qy(l,d));l=l.next}while(a);od=!1}}function Cb(){ac=ad=!1;var t=0;ks!==0&&(Vb()&&(t=ks),ks=0);for(var i=nn(),a=null,l=sc;l!==null;){var h=l.next,d=jy(l,i);d===0?(l.next=null,a===null?sc=h:a.next=h,h===null&&(Va=a)):(a=l,(t!==0||(d&3)!==0)&&(ac=!0)),l=h}il(t)}function jy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Wt(d),T=1<<_,R=h[_];R===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ea(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=$e,a=Me,a=gn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Qe===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Js(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ar(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Js(l),ou(a)){case 2:case 8:a=wt;break;case 32:a=Ei;break;case 268435456:a=co;break;default:a=Ei}return l=Hy.bind(null,t),a=ts(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Js(l),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,i){var a=t.callbackNode;if(Pa()&&t.callbackNode!==a)return null;var l=Me;return l=gn(t,t===$e?l:0),l===0?null:(Oy(t,l,i),jy(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Hy.bind(null,t):null)}function qy(t,i){if(Pa())return null;Oy(t,i,!0)}function Ib(t){Ub(function(){(tt&6)!==0?ts(_t,t):t()})}function ld(){return ks===0&&(ks=po()),ks}function Fy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wn(""+t)}function Gy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ob(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Fy((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?Fy(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new oa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var R=_?Gy(h,_):new FormData(h);yf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=_?Gy(h,_):new FormData(h),yf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var ud=0;ud<Lm.length;ud++){var cd=Lm[ud],Db=cd.toLowerCase(),Nb=cd[0].toUpperCase()+cd.slice(1);Vn(Db,"on"+Nb)}Vn(km,"onAnimationEnd"),Vn(xm,"onAnimationIteration"),Vn(Mm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn($T,"onTransitionRun"),Vn(QT,"onTransitionStart"),Vn(XT,"onTransitionCancel"),Vn(Pm,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Ky(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Y){Ku(Y)}h.currentTarget=null,d=R}}}}function De(t,i){var a=i[is];a===void 0&&(a=i[is]=new Set);var l=t+"__bubble";a.has(l)||(Yy(i,t,2,!1),a.add(l))}function hd(t,i,a){var l=0;i&&(l|=4),Yy(a,t,l,i)}var oc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[oc]){t[oc]=!0,go.forEach(function(a){a!=="selectionchange"&&(kb.has(a)||hd(a,!1,t),hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[oc]||(i[oc]=!0,hd("selectionchange",!1,i))}}function Yy(t,i,a,l){switch(gv(i)){case 2:var h=rS;break;case 8:h=sS;break;default:h=wd}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Pn(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=d=_;continue e}T=T.parentNode}}l=l.return}fu(function(){var P=d,Y=aa(a),Z=[];e:{var H=Vm.get(t);if(H!==void 0){var K=oa,he=t;switch(t){case"keypress":if(Jn(a)===0)break e;case"keydown":case"keyup":K=da;break;case"focusin":he="focus",K=ca;break;case"focusout":he="blur",K=ca;break;case"beforeblur":case"afterblur":K=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Eu;break;case km:case xm:case Mm:K=ha;break;case Pm:K=bu;break;case"scroll":case"scrollend":K=du;break;case"wheel":K=pa;break;case"copy":case"cut":case"paste":K=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Io;break;case"toggle":case"beforetoggle":K=Au}var Ee=(i&4)!==0,ot=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var M=P,j;M!==null;){var Q=M;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||L===null||(Q=ls(M,L),Q!=null&&Ee.push(sl(M,Q,j))),ot)break;M=M.return}0<Ee.length&&(H=new K(H,he,null,a,Y),Z.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==_n&&(he=a.relatedTarget||a.fromElement)&&(Pn(he)||he[Ti]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=P,he=he?Pn(he):null,he!==null&&(ot=de(he),Ee=he.tag,he!==ot||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(K=null,he=P),K!==he)){if(Ee=Tn,Q="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Io,Q="onPointerLeave",L="onPointerEnter",M="pointer"),ot=K==null?H:fr(K),j=he==null?H:fr(he),H=new Ee(Q,M+"leave",K,a,Y),H.target=ot,H.relatedTarget=j,Q=null,Pn(Y)===P&&(Ee=new Ee(L,M+"enter",he,a,Y),Ee.target=j,Ee.relatedTarget=ot,Q=Ee),ot=Q,K&&he)t:{for(Ee=K,L=he,M=0,j=Ee;j;j=La(j))M++;for(j=0,Q=L;Q;Q=La(Q))j++;for(;0<M-j;)Ee=La(Ee),M--;for(;0<j-M;)L=La(L),j--;for(;M--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=La(Ee),L=La(L)}Ee=null}else Ee=null;K!==null&&$y(Z,H,K,Ee,!1),he!==null&&ot!==null&&$y(Z,ot,he,Ee,!0)}}e:{if(H=P?fr(P):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var le=Tm;else if(bt(H))if(bm)le=FT;else{le=HT;var Re=jT}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&To(P.elementType)&&(le=Tm):le=qT;if(le&&(le=le(t,P))){Oi(Z,le,a,Y);break e}Re&&Re(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&sa(H,"number",H.value)}switch(Re=P?fr(P):window,t){case"focusin":(bt(Re)||Re.contentEditable==="true")&&(ma=Re,qh=P,No=null);break;case"focusout":No=qh=ma=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Dm(Z,a,Y);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Dm(Z,a,Y)}var pe;if(ni)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ke?F(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(v&&a.locale!=="ko"&&(ke||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ke&&(pe=So()):(Zn=Y,vr="value"in Zn?Zn.value:Zn.textContent,ke=!0)),Re=lc(P,ye),0<Re.length&&(ye=new Ro(ye,t,null,a,Y),Z.push({event:ye,listeners:Re}),pe?ye.data=pe:(pe=ie(a),pe!==null&&(ye.data=pe)))),(pe=m?Tt(t,a):xe(t,a))&&(ye=lc(P,"onBeforeInput"),0<ye.length&&(Re=new Ro("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Re,listeners:ye}),Re.data=pe)),Ob(Z,t,P,a,Y)}Ky(Z,i)})}function sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(t,a),h!=null&&l.unshift(sl(t,h,d)),h=ls(t,i),h!=null&&l.push(sl(t,h,d))),t=t.return}return l}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $y(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ls(a,d),P!=null&&_.unshift(sl(a,P,R))):h||(P=ls(a,d),P!=null&&_.push(sl(a,P,R)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var xb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Mb,"")}function Xy(t,i){return i=Qy(i),Qy(t)===i}function uc(){}function Ke(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(t,""+l);break;case"className":mr(t,"class",l);break;case"tabIndex":mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,a,l);break;case"style":hu(t,l,d);break;case"data":if(i!=="object"){mr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Wn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ke(t,i,"name",h.name,h,null),Ke(t,i,"formEncType",h.formEncType,h,null),Ke(t,i,"formMethod",h.formMethod,h,null),Ke(t,i,"formTarget",h.formTarget,h,null)):(Ke(t,i,"encType",h.encType,h,null),Ke(t,i,"method",h.method,h,null),Ke(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Wn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=uc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Wn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,pr(t,a,l))}}function pd(t,i,a,l,h,d){switch(a){case"style":hu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function Ut(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ke(t,i,d,_,a,null)}}h&&Ke(t,i,"srcSet",a.srcSet,a,null),l&&Ke(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=_=h=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":R=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ke(t,i,l,Y,a,null)}}as(t,d,T,R,P,_,h,!1),ss(t);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ke(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ue(t,!!l,i,!1):a!=null&&Ue(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ke(t,i,_,T,a,null)}yr(t,l,h,d),ss(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(t,i,R,l,a,null)}return;case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<rl.length;l++)De(rl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ke(t,i,P,l,a,null)}return;default:if(To(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&pd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ke(t,i,T,l,a,null))}function Pb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,R=null,P=null,Y=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(K)||Ke(t,i,K,null,l,Z)}}for(var H in l){var K=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":d=K;break;case"name":h=K;break;case"checked":P=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&Ke(t,i,H,K,l,Z)}}gr(t,_,T,R,P,Y,d,h);return;case"select":K=_=T=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":K=R;default:l.hasOwnProperty(d)||Ke(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==R&&Ke(t,i,h,d,l,R)}i=T,a=_,l=K,H!=null?Ue(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ue(t,!!a,i,!0):Ue(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ke(t,i,_,h,l,d)}os(t,H,K);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ke(t,i,he,null,l,H)}for(R in l)if(H=l[R],K=a[R],l.hasOwnProperty(R)&&H!==K&&(H!=null||K!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ke(t,i,R,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&Ke(t,i,Ee,null,l,H);for(P in l)if(H=l[P],K=a[P],l.hasOwnProperty(P)&&H!==K&&(H!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ke(t,i,P,H,l,K)}return;default:if(To(i)){for(var ot in a)H=a[ot],a.hasOwnProperty(ot)&&H!==void 0&&!l.hasOwnProperty(ot)&&pd(t,i,ot,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||pd(t,i,Y,H,l,K);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ke(t,i,L,null,l,H);for(Z in l)H=l[Z],K=a[Z],!l.hasOwnProperty(Z)||H===K||H==null&&K==null||Ke(t,i,Z,H,l,K)}var md=null,gd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function yd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=null;function Vb(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(Bb)}:Jy;function Bb(t){setTimeout(function(){throw t})}function _d(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),dl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);dl(i)}function Ed(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function jb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function nv(t,i,a){switch(i=cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,iv=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Fi=oe.d;oe.d={f:Hb,r:qb,D:Fb,C:Gb,L:Kb,m:Yb,X:Qb,S:$b,M:Xb};function Hb(){var t=Fi.f(),i=ic();return t||i}function qb(t){var i=bi(t);i!==null&&i.tag===5&&i.type==="form"?Dg(i):Fi.r(t)}var Ua=typeof document>"u"?null:document;function rv(t,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),iv.has(h)||(iv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ut(i,"link",t),Je(i),l.head.appendChild(i)))}}function Fb(t){Fi.D(t),rv("dns-prefetch",t,null)}function Gb(t,i){Fi.C(t,i),rv("preconnect",t,i)}function Kb(t,i,a){Fi.L(t,i,a);var l=Ua;if(l&&t&&i){var h='link[rel="preload"][as="'+rt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rt(a.imageSizes)+'"]')):h+='[href="'+rt(t)+'"]';var d=h;switch(i){case"style":d=Ba(t);break;case"script":d=za(t)}Nn.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(al(d))||i==="script"&&l.querySelector(ol(d))||(i=l.createElement("link"),Ut(i,"link",t),Je(i),l.head.appendChild(i)))}}function Yb(t,i){Fi.m(t,i);var a=Ua;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rt(l)+'"][href="'+rt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(t)}if(!Nn.has(d)&&(t=I({rel:"modulepreload",href:t},i),Nn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(d)))return}l=a.createElement("link"),Ut(l,"link",t),Je(l),a.head.appendChild(l)}}}function $b(t,i,a){Fi.S(t,i,a);var l=Ua;if(l&&t){var h=dr(l).hoistableStyles,d=Ba(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(al(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(d))&&Td(t,a);var R=_=l.createElement("link");Je(R),Ut(R,"link",t),R._p=new Promise(function(P,Y){R.onload=P,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Qb(t,i){Fi.X(t,i);var a=Ua;if(a&&t){var l=dr(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(ol(h)),d||(t=I({src:t,async:!0},i),(i=Nn.get(h))&&bd(t,i),d=a.createElement("script"),Je(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xb(t,i){Fi.M(t,i);var a=Ua;if(a&&t){var l=dr(a).hoistableScripts,h=za(t),d=l.get(h);d||(d=a.querySelector(ol(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&bd(t,i),d=a.createElement("script"),Je(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sv(t,i,a,l){var h=(h=mn.current)?hc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ba(a.href),a=dr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var d=dr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),d||Wb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=dr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ba(t){return'href="'+rt(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function Wb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ut(i,"link",a),Je(i),t.head.appendChild(i))}function za(t){return'[src="'+rt(t)+'"]'}function ol(t){return"script[async]"+t}function ov(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rt(a.href)+'"]');if(l)return i.instance=l,Je(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),Ut(l,"style",h),fc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ba(a.href);var d=t.querySelector(al(h));if(d)return i.state.loading|=4,i.instance=d,Je(d),d;l=av(a),(h=Nn.get(h))&&Td(l,h),d=(t.ownerDocument||t).createElement("link"),Je(d);var _=d;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Ut(d,"link",l),i.state.loading|=4,fc(d,a.precedence,t),i.instance=d;case"script":return d=za(a.src),(h=t.querySelector(ol(d)))?(i.instance=h,Je(h),h):(l=a,(h=Nn.get(d))&&(l=I({},a),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Je(h),Ut(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fc(l,a.precedence,t));return i.instance}function fc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Td(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dc=null;function lv(t,i,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hr]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function uv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Zb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ll=null;function Jb(){}function eS(t,i,a){if(ll===null)throw Error(s(475));var l=ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ba(a.href),d=t.querySelector(al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Je(d);return}d=t.ownerDocument||t,a=av(a),(h=Nn.get(h))&&Td(a,h),d=d.createElement("link"),Je(d);var _=d;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Ut(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=pc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function tS(){if(ll===null)throw Error(s(475));var t=ll;return t.stylesheets&&t.count===0&&Sd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Sd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function pc(){if(this.count--,this.count===0){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function Sd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,i.forEach(nS,t),mc=null,pc.call(t))}function nS(t,i){if(!(i.state.loading&4)){var a=mc.get(t);if(a)var l=a.get(null);else{a=new Map,mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ul={$$typeof:k,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function iS(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function hv(t,i,a,l,h,d,_,T,R,P,Y,Z){return t=new iS(t,i,a,_,T,R,P,Z),i=1,d===!0&&(i|=24),d=On(3,null,null,i),t.current=d,d.stateNode=t,i=ef(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function fv(t){return t?(t=va,t):va}function dv(t,i,a,l,h,d){h=fv(h),l.context===null?l.context=h:l.pendingContext=h,l=Rr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cr(t,l,i),a!==null&&(tn(a,t,i),Ko(a,t,i))}function pv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ad(t,i){pv(t,i),(t=t.alternate)&&pv(t,i)}function mv(t){if(t.tag===13){var i=_r(t,67108864);i!==null&&tn(i,t,67108864),Ad(t,67108864)}}var gc=!0;function rS(t,i,a,l){var h=S.T;S.T=null;var d=oe.p;try{oe.p=2,wd(t,i,a,l)}finally{oe.p=d,S.T=h}}function sS(t,i,a,l){var h=S.T;S.T=null;var d=oe.p;try{oe.p=8,wd(t,i,a,l)}finally{oe.p=d,S.T=h}}function wd(t,i,a,l){if(gc){var h=Rd(l);if(h===null)dd(t,i,l,yc,a),yv(t,l);else if(oS(h,t,i,a,l))l.stopPropagation();else if(yv(t,l),i&4&&-1<aS.indexOf(t)){for(;h!==null;){var d=bi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Mn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Wt(_);T.entanglements[1]|=R,_&=~R}li(d),(tt&6)===0&&(ec=nn()+500,il(0))}}break;case 13:T=_r(d,2),T!==null&&tn(T,d,2),ic(),Ad(d,2)}if(d=Rd(l),d===null&&dd(t,i,l,yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else dd(t,i,l,null,a)}}function Rd(t){return t=aa(t),Cd(t)}var yc=null;function Cd(t){if(yc=null,t=Pn(t),t!==null){var i=de(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ve(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return yc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nu()){case _t:return 2;case wt:return 8;case Ei:case iu:return 32;case co:return 268435456;default:return 32}default:return 32}}var Id=!1,Mr=null,Pr=null,Vr=null,cl=new Map,hl=new Map,Lr=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,i){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(i.pointerId)}}function fl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bi(i),i!==null&&mv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function oS(t,i,a,l,h){switch(i){case"focusin":return Mr=fl(Mr,t,i,a,l,h),!0;case"dragenter":return Pr=fl(Pr,t,i,a,l,h),!0;case"mouseover":return Vr=fl(Vr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return cl.set(d,fl(cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,hl.set(d,fl(hl.get(d)||null,t,i,a,l,h)),!0}return!1}function vv(t){var i=Pn(t.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=Ve(a),i!==null){t.blockedOn=i,cr(t.priority,function(){if(a.tag===13){var l=pn(),h=_r(a,l);h!==null&&tn(h,a,l),Ad(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_n=l,a.target.dispatchEvent(l),_n=null}else return i=bi(a),i!==null&&mv(i),t.blockedOn=a,!1;i.shift()}return!0}function _v(t,i,a){vc(t)&&a.delete(i)}function lS(){Id=!1,Mr!==null&&vc(Mr)&&(Mr=null),Pr!==null&&vc(Pr)&&(Pr=null),Vr!==null&&vc(Vr)&&(Vr=null),cl.forEach(_v),hl.forEach(_v)}function _c(t,i){t.blockedOn===i&&(t.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var Ec=null;function Ev(t){Ec!==t&&(Ec=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Cd(l||a)===null)continue;break}var d=bi(a);d!==null&&(t.splice(i,3),i-=3,yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function dl(t){function i(R){return _c(R,t)}Mr!==null&&_c(Mr,t),Pr!==null&&_c(Pr,t),Vr!==null&&_c(Vr,t),cl.forEach(i),hl.forEach(i);for(var a=0;a<Lr.length;a++){var l=Lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||Ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)T=_.formAction;else if(Cd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ev(a)}}}function Od(t){this._internalRoot=t}Tc.prototype.render=Od.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();dv(a,l,t,i,null,null)},Tc.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Pa(),dv(t.current,2,null,t,null,null),ic(),i[Ti]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var i=lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Lr.length&&i!==0&&i<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&vv(t)}};var Tv=e.version;if(Tv!=="19.0.0")throw Error(s(527,Tv,"19.0.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var uS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{rr=bc.inject(uS),qt=bc}catch{}}return ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ug,d=Bg,_=zg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=hv(t,1,!1,null,null,a,l,h,d,_,T,null),t[Ti]=i.current,fd(t.nodeType===8?t.parentNode:t),new Od(i)},ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ug,_=Bg,T=zg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=hv(t,1,!0,i,a??null,l,h,d,_,T,R,P),i.context=fv(null),a=i.current,l=pn(),h=Rr(l),h.callback=null,Cr(a,h,l),i.current.lanes=l,ct(i,l),li(i),t[Ti]=i.current,fd(t),new Tc(i)},ml.version="19.0.0",ml}var Nv;function _S(){if(Nv)return Nd.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=vS(),Nd.exports}var ES=_S(),q=Ip(),gl={},kv;function TS(){if(kv)return gl;kv=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.parse=f,gl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,k){const V=new u,$=C.length;if($<2)return V;const G=(k==null?void 0:k.decode)||E;let X=0;do{const ne=C.indexOf("=",X);if(ne===-1)break;const ee=C.indexOf(";",X),me=ee===-1?$:ee;if(ne>me){X=C.lastIndexOf(";",ne-1)+1;continue}const ce=p(C,X,ne),se=g(C,ne,ce),D=C.slice(ce,se);if(V[D]===void 0){let w=p(C,ne+1,me),S=g(C,me,w);const I=G(C.slice(w,S));V[D]=I}X=me+1}while(X<$);return V}function p(C,k,V){do{const $=C.charCodeAt(k);if($!==32&&$!==9)return k}while(++k<V);return V}function g(C,k,V){for(;k>V;){const $=C.charCodeAt(--k);if($!==32&&$!==9)return k+1}return V}function y(C,k,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const G=$(k);if(!e.test(G))throw new TypeError(`argument val is invalid: ${k}`);let X=C+"="+G;if(!V)return X;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);X+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);X+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);X+="; Path="+V.path}if(V.expires){if(!A(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);X+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(X+="; HttpOnly"),V.secure&&(X+="; Secure"),V.partitioned&&(X+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return X}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return gl}TS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function bS(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Jd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Nl(o)}return AS(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function Mv(r,e){return{usr:r.state,key:r.key,idx:e}}function Jd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||s||SS()}}function Nl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function to(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function AS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let G=E(),X=G==null?null:G-y;y=G,g&&g({action:p,location:$.location,delta:X})}function C(G,X){p="PUSH";let ne=Jd($.location,G,X);y=E()+1;let ee=Mv(ne,y),me=$.createHref(ne);try{f.pushState(ee,"",me)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(me)}u&&g&&g({action:p,location:$.location,delta:1})}function k(G,X){p="REPLACE";let ne=Jd($.location,G,X);y=E();let ee=Mv(ne,y),me=$.createHref(ne);f.replaceState(ee,"",me),u&&g&&g({action:p,location:$.location,delta:0})}function V(G){let X=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof G=="string"?G:Nl(G);return ne=ne.replace(/ $/,"%20"),nt(X,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,X)}let $={get action(){return p},get location(){return r(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,A),g=G,()=>{o.removeEventListener(xv,A),g=null}},createHref(G){return e(o,G)},createURL:V,encodeLocation(G){let X=V(G);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:k,go(G){return f.go(G)}};return $}function lE(r,e,n="/"){return wS(r,e,n,!1)}function wS(r,e,n,s){let o=typeof e=="string"?to(e):e,u=$r(o.pathname||"/",n);if(u==null)return null;let f=uE(r);RS(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=LS(u);p=PS(f[g],y,s)}return p}function uE(r,e=[],n=[],s=""){let o=(u,f,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(nt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Qi([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:xS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let g of cE(u.path))o(u,f,g)}),e}function cE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function RS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CS=/^:[\w-]+$/,IS=3,OS=2,DS=1,NS=10,kS=-2,Pv=r=>r==="*";function xS(r,e){let n=r.split("/"),s=n.length;return n.some(Pv)&&(s+=kS),e&&(s+=OS),n.filter(o=>!Pv(o)).reduce((o,u)=>o+(CS.test(u)?IS:u===""?DS:NS),s)}function MS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Yc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Qi([u,A.pathname]),pathnameBase:jS(Qi([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=Qi([u,A.pathnameBase]))}return f}function Yc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=VS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},C)=>{if(E==="*"){let V=p[C]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const k=p[C];return A&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function VS(r,e=!1,n=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function LS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function US(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?to(r):r;return{pathname:n?n.startsWith("/")?n:BS(n,e):e,search:HS(s),hash:qS(o)}}function BS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hE(r){let e=zS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fE(r,e,n,s=!1){let o;typeof r=="string"?o=to(r):(o={...r},nt(!o.pathname||!o.pathname.includes("?"),Vd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Vd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Vd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}p=A>=0?e[A]:"/"}let g=US(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),jS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dE=["POST","PUT","PATCH","DELETE"];new Set(dE);var GS=["GET",...dE];new Set(GS);var no=q.createContext(null);no.displayName="DataRouter";var dh=q.createContext(null);dh.displayName="DataRouterState";var pE=q.createContext({isTransitioning:!1});pE.displayName="ViewTransition";var KS=q.createContext(new Map);KS.displayName="Fetchers";var YS=q.createContext(null);YS.displayName="Await";var gi=q.createContext(null);gi.displayName="Navigation";var jl=q.createContext(null);jl.displayName="Location";var yi=q.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Op=q.createContext(null);Op.displayName="RouteError";function $S(r,{relative:e}={}){nt(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(gi),{hash:o,pathname:u,search:f}=ql(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Qi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Hl(){return q.useContext(jl)!=null}function Ks(){return nt(Hl(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(jl).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(r){q.useContext(gi).static||q.useLayoutEffect(r)}function Ys(){let{isDataRoute:r}=q.useContext(yi);return r?lA():QS()}function QS(){nt(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(no),{basename:e,navigator:n}=q.useContext(gi),{matches:s}=q.useContext(yi),{pathname:o}=Ks(),u=JSON.stringify(hE(s)),f=q.useRef(!1);return gE(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(fi(f.current,mE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=fE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}q.createContext(null);function XS(){let{matches:r}=q.useContext(yi),e=r[r.length-1];return e?e.params:{}}function ql(r,{relative:e}={}){let{matches:n}=q.useContext(yi),{pathname:s}=Ks(),o=JSON.stringify(hE(n));return q.useMemo(()=>fE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function WS(r,e){return yE(r,e)}function yE(r,e,n,s){var ne;nt(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(gi),{matches:f}=q.useContext(yi),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let ee=A&&A.path||"";vE(y,!A||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=Ks(),k;if(e){let ee=typeof e=="string"?to(e):e;nt(E==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),k=ee}else k=C;let V=k.pathname||"/",$=V;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(ee.length).join("/")}let G=!u&&n&&n.matches&&n.matches.length>0?n.matches:lE(r,{pathname:$});fi(A||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),fi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=nA(G&&G.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Qi([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Qi([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&X?q.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},X):X}function ZS(){let r=oA(),e=FS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var JS=q.createElement(ZS,null),eA=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(yi.Provider,{value:this.props.routeContext},q.createElement(Op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tA({routeContext:r,match:e,children:n}){let s=q.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(yi.Provider,{value:r},n)}function nA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:E,errors:A}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||C){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let A,C=!1,k=null,V=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||JS,f&&(p<0&&E===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,V=null):p===E&&(C=!0,V=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),G=()=>{let X;return A?X=k:C?X=V:y.route.Component?X=q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,q.createElement(tA,{match:y,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(eA,{location:n.location,revalidation:n.revalidation,component:k,error:A,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):G()},null)}function Dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(r){let e=q.useContext(no);return nt(e,Dp(r)),e}function rA(r){let e=q.useContext(dh);return nt(e,Dp(r)),e}function sA(r){let e=q.useContext(yi);return nt(e,Dp(r)),e}function Np(r){let e=sA(r),n=e.matches[e.matches.length-1];return nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aA(){return Np("useRouteId")}function oA(){var s;let r=q.useContext(Op),e=rA("useRouteError"),n=Np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function lA(){let{router:r}=iA("useNavigate"),e=Np("useNavigate"),n=q.useRef(!1);return gE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{fi(n.current,mE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Vv={};function vE(r,e,n){!e&&!Vv[r]&&(Vv[r]=!0,fi(!1,n))}q.memo(uA);function uA({routes:r,future:e,state:n}){return yE(r,void 0,n,e)}function Gi(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){nt(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=to(n));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:C="default"}=n,k=q.useMemo(()=>{let V=$r(g,f);return V==null?null:{location:{pathname:V,search:y,hash:E,state:A,key:C},navigationType:s}},[f,g,y,E,A,C,s]);return fi(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:q.createElement(gi.Provider,{value:p},q.createElement(jl.Provider,{children:e,value:k}))}function hA({children:r,location:e}){return WS(ep(r),e)}function ep(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,ep(s.props.children,u));return}nt(s.type===Gi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ep(s.props.children,u)),n.push(f)}),n}var kc="get",xc="application/x-www-form-urlencoded";function ph(r){return r!=null&&typeof r.tagName=="string"}function fA(r){return ph(r)&&r.tagName.toLowerCase()==="button"}function dA(r){return ph(r)&&r.tagName.toLowerCase()==="form"}function pA(r){return ph(r)&&r.tagName.toLowerCase()==="input"}function mA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gA(r,e){return r.button===0&&(!e||e==="_self")&&!mA(r)}var Sc=null;function yA(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(r){return r!=null&&!vA.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):r}function _A(r,e){let n,s,o,u,f;if(dA(r)){let p=r.getAttribute("action");s=p?$r(p,e):null,n=r.getAttribute("method")||kc,o=Ld(r.getAttribute("enctype"))||xc,u=new FormData(r)}else if(fA(r)||pA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?$r(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||kc,o=Ld(r.getAttribute("formenctype"))||Ld(p.getAttribute("enctype"))||xc,u=new FormData(p,r),!yA()){let{name:y,type:E,value:A}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,A)}}else{if(ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,s=null,o=xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function kp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function EA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await EA(u,n);return f.links?f.links():[]}return[]}));return RA(s.flat(1).filter(TA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function SA(r,e,{includeHydrateFallback:n}={}){return AA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AA(r){return[...new Set(r)]}function wA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function RA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(wA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function CA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IA(){let r=q.useContext(no);return kp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OA(){let r=q.useContext(dh);return kp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=q.createContext(void 0);xp.displayName="FrameworkContext";function _E(){let r=q.useContext(xp);return kp(r,"You must render this element inside a <HydratedRouter> element"),r}function DA(r,e){let n=q.useContext(xp),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,C=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=X=>{X.forEach(ne=>{f(ne.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return C.current&&G.observe(C.current),()=>{G.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let k=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:yl(p,k),onBlur:yl(g,V),onMouseEnter:yl(y,k),onMouseLeave:yl(E,V),onTouchStart:yl(A,k)}]:[!1,C,{}]}function yl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function NA({page:r,...e}){let{router:n}=IA(),s=q.useMemo(()=>lE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(xA,{page:r,matches:s,...e}):null}function kA(r){let{manifest:e,routeModules:n}=_E(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return bA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function xA({page:r,matches:e,...n}){let s=Ks(),{manifest:o,routeModules:u}=_E(),{loaderData:f,matches:p}=OA(),g=q.useMemo(()=>Lv(r,e,p,o,s,"data"),[r,e,p,o,s]),y=q.useMemo(()=>Lv(r,e,p,o,s,"assets"),[r,e,p,o,s]),E=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,V=!1;if(e.forEach(G=>{var ne;let X=o.routes[G.route.id];!X||!X.hasLoader||(!g.some(ee=>ee.route.id===G.route.id)&&G.route.id in f&&((ne=u[G.route.id])!=null&&ne.shouldRevalidate)||X.hasClientLoader?V=!0:k.add(G.route.id))}),k.size===0)return[];let $=CA(r);return V&&k.size>0&&$.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[$.pathname+$.search]},[f,s,o,g,e,r,u]),A=q.useMemo(()=>SA(y,o),[y,o]),C=kA(y);return q.createElement(q.Fragment,null,E.map(k=>q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>q.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),C.map(({key:k,link:V})=>q.createElement("link",{key:k,...V})))}function MA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EE&&(window.__reactRouterVersion="7.2.0")}catch{}function PA({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=bS({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),p=q.useCallback(g=>{q.startTransition(()=>f(g))},[f]);return q.useLayoutEffect(()=>o.listen(p),[o,p]),q.createElement(cA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bE=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:E,viewTransition:A,...C},k){let{basename:V}=q.useContext(gi),$=typeof y=="string"&&TE.test(y),G,X=!1;if(typeof y=="string"&&$&&(G=y,EE))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),x=$r(I.pathname,V);I.origin===S.origin&&x!=null?y=x+I.search+I.hash:X=!0}catch{fi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=$S(y,{relative:o}),[ee,me,ce]=DA(s,C),se=BA(y,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:A});function D(S){e&&e(S),S.defaultPrevented||se(S)}let w=q.createElement("a",{...C,...ce,href:G||ne,onClick:X||u?e:D,ref:MA(k,me),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ee&&!$?q.createElement(q.Fragment,null,w,q.createElement(NA,{page:ne})):w});bE.displayName="Link";var VA=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},E){let A=ql(f,{relative:y.relative}),C=Ks(),k=q.useContext(dh),{navigator:V,basename:$}=q.useContext(gi),G=k!=null&&FA(A)&&p===!0,X=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,ne=C.pathname,ee=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,X=X.toLowerCase()),ee&&$&&(ee=$r(ee,$)||ee);const me=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ce=ne===X||!o&&ne.startsWith(X)&&ne.charAt(me)==="/",se=ee!=null&&(ee===X||!o&&ee.startsWith(X)&&ee.charAt(X.length)==="/"),D={isActive:ce,isPending:se,isTransitioning:G},w=ce?e:void 0,S;typeof s=="function"?S=s(D):S=[s,ce?"active":null,se?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return q.createElement(bE,{...y,"aria-current":w,className:S,ref:E,style:I,to:f,viewTransition:p},typeof g=="function"?g(D):g)});VA.displayName="NavLink";var LA=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=kc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...C},k)=>{let V=HA(),$=qA(p,{relative:y}),G=f.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&TE.test(p),ne=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let me=ee.nativeEvent.submitter,ce=(me==null?void 0:me.getAttribute("formmethod"))||f;V(me||ee.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:k,method:G,action:$,onSubmit:s?g:ne,...C,"data-discover":!X&&r==="render"?"true":void 0})});LA.displayName="Form";function UA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(r){let e=q.useContext(no);return nt(e,UA(r)),e}function BA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Ys(),g=Ks(),y=ql(r,{relative:u});return q.useCallback(E=>{if(gA(E,e)){E.preventDefault();let A=n!==void 0?n:Nl(g)===Nl(y);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,y,n,s,e,r,o,u,f])}var zA=0,jA=()=>`__${String(++zA)}__`;function HA(){let{router:r}=SE("useSubmit"),{basename:e}=q.useContext(gi),n=aA();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:g,body:y}=_A(s,e);if(o.navigate===!1){let E=o.fetcherKey||jA();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function qA(r,{relative:e}={}){let{basename:n}=q.useContext(gi),s=q.useContext(yi);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ql(r||".",{relative:e})},f=Ks();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Nl(u)}function FA(r,e={}){let n=q.useContext(pE);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=SE("useViewTransitionState"),o=ql(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=$r(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yc(o.pathname,f)!=null||Yc(o.pathname,u)!=null}new TextEncoder;class wl{constructor(){return wl.instance||(this.sounds={},this.volume=.75,this.soundEnabled=!0,this.backgroundMusic=null,wl.instance=this),wl.instance}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),Object.values(this.sounds).forEach(n=>n.volume=this.volume),this.backgroundMusic&&(this.backgroundMusic.volume=this.volume)}loadSound(e,n){if(!this.sounds[e]){const s=new Audio(n);s.volume=this.volume,this.sounds[e]=s}}playSound(e){if(!this.soundEnabled)return;const n=this.sounds[e];n?(n.currentTime=0,n.play()):console.warn(`Sound "${e}" not loaded.`)}playBackgroundMusic(e){this.backgroundMusic&&this.backgroundMusic.pause(),this.backgroundMusic=new Audio(e),this.backgroundMusic.loop=!0,this.backgroundMusic.volume=this.volume,this.backgroundMusic.play()}stopBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.pause(),this.backgroundMusic=null)}enableSounds(){this.soundEnabled=!0}disableSounds(){this.soundEnabled=!1}}const Fe=new wl,AE="/assets/play-CMZ-1rRM.mp3",GA="/assets/N-BVs_9cmG.png",KA="/assets/E-C-BOTclb.png",YA="/assets/R-BLsiOf9C.png",$A="/assets/T-D2DF7jYK.png",QA="/assets/S-dNfr6I0P.png",XA="/assets/!-LJMgeaHT.png",Uv=["N","E","R","T","S","!"],WA={N:GA,E:KA,R:YA,T:$A,S:QA,"!":XA},Mp=()=>{const[r,e]=q.useState(Uv.reduce((o,u)=>({...o,[u]:0}),{}));Fe.loadSound("play",AE);function n(){Fe.playSound("play")}const s=o=>{e(u=>({...u,[o]:u[o]+1})),n()};return B.jsx("div",{className:"wiggle-container",children:Uv.map((o,u)=>{const f=r[o]>=5;return B.jsx("img",{src:WA[o],className:`wiggle-letter ${f?"secret":""}`,draggable:"false",onClick:()=>s(o),style:{animationDelay:`${u*.2}s`}},u)})})},Fl="/assets/click-CJGNrU4m.mp3",Ms=({value:r,onChange:e,placeholder:n,center:s,type:o="text",max:u})=>{Fe.loadSound("click",Fl);function f(){Fe.playSound("click")}function p(g){f(),e(g)}return B.jsx("input",{type:o,className:`custom-input ${s?"center":""}`,value:r,onChange:p,maxLength:u,placeholder:n||"Enter number here",onClick:f})},Fn=({onClick:r,text:e,absolute:n,back:s})=>{const o=Ys();Fe.loadSound("click",Fl);function u(){Fe.playSound("click")}const f=()=>{o(-1)};return B.jsx(B.Fragment,{children:B.jsx("div",{className:`custom-button no-select ${n?"absolute":""}`,onClick:s?f:r,onMouseEnter:u,tabIndex:"0",onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(s?f():r(p))},children:e})})},ZA=()=>{};var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let C=(p&15)<<2|y>>6,k=y&63;g||(k=64,f||(C=64)),s.push(n[E],n[A],n[C],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||A==null)throw new ew;const C=u<<2|p>>4;if(s.push(C),y!==64){const k=p<<4&240|y>>2;if(s.push(k),A!==64){const V=y<<6&192|A;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tw=function(r){const e=wE(r);return RE.encodeByteArray(e,!0)},$c=function(r){return tw(r).replace(/\./g,"")},CE=function(r){try{return RE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=()=>nw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&CE(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return ZA()||iw()||rw()||sw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IE=r=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},aw=r=>{const e=IE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OE=()=>{var r;return(r=mh())===null||r===void 0?void 0:r.config},DE=r=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$c(JSON.stringify(n)),$c(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function cw(){var r;const e=(r=mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pw(){const r=Qt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function mw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function yw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="FirebaseError";class tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vw,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?_w(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new tr(o,p,s)}}function _w(r,e){return r.replace(Ew,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Ew=/\{\$([^}]+)}/g;function Tw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Us(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(zv(u)&&zv(f)){if(!Us(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function El(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Tl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function bw(r,e){const n=new Sw(r,e);return n.subscribe.bind(n)}class Sw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Aw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cw(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rw(r){return r===xs?void 0:r}function Cw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ww(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Ow={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Dw=Oe.INFO,Nw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},kw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Nw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=Dw,this._logHandler=kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const xw=(r,e)=>e.some(n=>r instanceof n);let jv,Hv;function Mw(){return jv||(jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pw(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,tp=new WeakMap,kE=new WeakMap,Bd=new WeakMap,Vp=new WeakMap;function Vw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Fr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,r)}).catch(()=>{}),Vp.set(e,r),e}function Lw(r){if(tp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});tp.set(r,e)}let np={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return tp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Uw(r){np=r(np)}function Bw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(zd(this),e,...n);return kE.set(s,e.sort?e.sort():[e]),Fr(s)}:Pw().includes(r)?function(...e){return r.apply(zd(this),e),Fr(NE.get(this))}:function(...e){return Fr(r.apply(zd(this),e))}}function zw(r){return typeof r=="function"?Bw(r):(r instanceof IDBTransaction&&Lw(r),xw(r,Mw())?new Proxy(r,np):r)}function Fr(r){if(r instanceof IDBRequest)return Vw(r);if(Bd.has(r))return Bd.get(r);const e=zw(r);return e!==r&&(Bd.set(r,e),Vp.set(e,r)),e}const zd=r=>Vp.get(r);function jw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Fr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Fr(f.result),g.oldVersion,g.newVersion,Fr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Hw=["get","getKey","getAll","getAllKeys","count"],qw=["put","add","delete","clear"],jd=new Map;function qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=qw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Hw.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return jd.set(e,u),u}Uw(r=>({...r,get:(e,n,s)=>qv(e,n)||r.get(e,n,s),has:(e,n)=>!!qv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Gw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",Fv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Pp("@firebase/app"),Kw="@firebase/app-compat",Yw="@firebase/analytics-compat",$w="@firebase/analytics",Qw="@firebase/app-check-compat",Xw="@firebase/app-check",Ww="@firebase/auth",Zw="@firebase/auth-compat",Jw="@firebase/database",eR="@firebase/data-connect",tR="@firebase/database-compat",nR="@firebase/functions",iR="@firebase/functions-compat",rR="@firebase/installations",sR="@firebase/installations-compat",aR="@firebase/messaging",oR="@firebase/messaging-compat",lR="@firebase/performance",uR="@firebase/performance-compat",cR="@firebase/remote-config",hR="@firebase/remote-config-compat",fR="@firebase/storage",dR="@firebase/storage-compat",pR="@firebase/firestore",mR="@firebase/vertexai",gR="@firebase/firestore-compat",yR="firebase",vR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",_R={[ip]:"fire-core",[Kw]:"fire-core-compat",[$w]:"fire-analytics",[Yw]:"fire-analytics-compat",[Xw]:"fire-app-check",[Qw]:"fire-app-check-compat",[Ww]:"fire-auth",[Zw]:"fire-auth-compat",[Jw]:"fire-rtdb",[eR]:"fire-data-connect",[tR]:"fire-rtdb-compat",[nR]:"fire-fn",[iR]:"fire-fn-compat",[rR]:"fire-iid",[sR]:"fire-iid-compat",[aR]:"fire-fcm",[oR]:"fire-fcm-compat",[lR]:"fire-perf",[uR]:"fire-perf-compat",[cR]:"fire-rc",[hR]:"fire-rc-compat",[fR]:"fire-gcs",[dR]:"fire-gcs-compat",[pR]:"fire-fst",[gR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,ER=new Map,sp=new Map;function Gv(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const e=r.name;if(sp.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,r);for(const n of Qc.values())Gv(n,r);for(const n of ER.values())Gv(n,r);return!0}function Lp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Gl("app","Firebase",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=vR;function xE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:rp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=OE()),!n)throw Gr.create("no-options");const u=Qc.get(o);if(u){if(Us(n,u.options)&&Us(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new Iw(o);for(const g of sp.values())f.addComponent(g);const p=new bR(n,s,f);return Qc.set(o,p),p}function ME(r=rp){const e=Qc.get(r);if(!e&&r===rp&&OE())return xE();if(!e)throw Gr.create("no-app",{appName:r});return e}function Kr(r,e,n){var s;let o=(s=_R[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(p.join(" "));return}Qa(new Bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",AR=1,kl="firebase-heartbeat-store";let Hd=null;function PE(){return Hd||(Hd=jw(SR,AR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function wR(r){try{const n=(await PE()).transaction(kl),s=await n.objectStore(kl).get(VE(r));return await n.done,s}catch(e){if(e instanceof tr)Ji.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function Kv(r,e){try{const s=(await PE()).transaction(kl,"readwrite");await s.objectStore(kl).put(e,VE(r)),await s.done}catch(n){if(n instanceof tr)Ji.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function VE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1024,CR=30;class IR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>CR){const f=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yv(),{heartbeatsToSend:s,unsentEntries:o}=OR(this._heartbeatsCache.heartbeats),u=$c(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function OR(r,e=RR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class DR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $v(r){return $c(JSON.stringify({version:2,heartbeats:r})).length}function NR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){Qa(new Bs("platform-logger",e=>new Fw(e),"PRIVATE")),Qa(new Bs("heartbeat",e=>new IR(e),"PRIVATE")),Kr(ip,Fv,r),Kr(ip,Fv,"esm2017"),Kr("fire-js","")}kR("");var xR="firebase",MR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(xR,MR,"app");function Up(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function LE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=LE,UE=new Gl("auth","Firebase",LE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Pp("@firebase/auth");function VR(r,...e){Xc.logLevel<=Oe.WARN&&Xc.warn(`Auth (${io}): ${r}`,...e)}function Mc(r,...e){Xc.logLevel<=Oe.ERROR&&Xc.error(`Auth (${io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw Bp(r,...e)}function ci(r,...e){return Bp(r,...e)}function BE(r,e,n){const s=Object.assign(Object.assign({},PR()),{[e]:n});return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function Xi(r){return BE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return UE.create(r,...e)}function ve(r,e,...n){if(!r)throw Bp(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mc(e),new Error(e)}function er(r,e){r||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function LR(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||fw()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=uw()||dw()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Yl(3e4,6e4);function Jr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function es(r,e,n,s,o={}){return jE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Kl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return hw()||(y.referrerPolicy="no-referrer"),zE.fetch()(HE(r,r.config.apiHost,n,p),y)})}async function jE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},zR),e);try{const o=new qR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ac(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ac(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw BE(r,E,y);Kn(r,E)}}catch(o){if(o instanceof tr)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function $l(r,e,n,s,o={}){const u=await es(r,e,n,s,o);return"mfaPendingCredential"in u&&Kn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function HE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?zp(r.config,o):`${r.config.apiScheme}://${o}`}function HR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),jR.get())})}}function Ac(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(r,e,s);return o.customData._tokenResponse=n,o}function Xv(r){return r!==void 0&&r.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GR(r,e){return es(r,"GET","/v2/recaptchaConfig",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r,e){return es(r,"POST","/v1/accounts:delete",e)}async function qE(r,e){return es(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(r,e=!1){const n=Gn(r),s=await n.getIdToken(e),o=jp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Rl(qd(o.auth_time)),issuedAtTime:Rl(qd(o.iat)),expirationTime:Rl(qd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qd(r){return Number(r)*1e3}function jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=CE(n);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Wv(r){const e=jp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof tr&&$R(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $R({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await xl(r,qE(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?FE(u.providerUserInfo):[],p=WR(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new op(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function XR(r){const e=Gn(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function FE(r){return r.map(e=>{var{providerId:n}=e,s=Up(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,e){const n=await jE(r,{},async()=>{const s=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=HE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",zE.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JR(r,e){return es(r,"POST","/v2/accounts:revokeToken",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new op(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YR(this,e)}reload(){return XR(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await xl(this,KR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,g,y,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(p=n.tenantId)!==null&&p!==void 0?p:void 0,G=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,X=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:me,isAnonymous:ce,providerData:se,stsTokenManager:D}=n;ve(ee&&D,e,"internal-error");const w=Fa.fromJSON(this.name,D);ve(typeof ee=="string",e,"internal-error"),Br(A,e.name),Br(C,e.name),ve(typeof me=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Br(k,e.name),Br(V,e.name),Br($,e.name),Br(G,e.name),Br(X,e.name),Br(ne,e.name);const S=new Yi({uid:ee,auth:e,email:C,emailVerified:me,displayName:A,isAnonymous:ce,photoURL:V,phoneNumber:k,tenantId:$,stsTokenManager:w,createdAt:X,lastLoginAt:ne});return se&&Array.isArray(se)&&(S.providerData=se.map(I=>Object.assign({},I))),G&&(S._redirectEventId=G),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new Yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?FE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Fa;p.updateFromIdToken(s);const g=new Yi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function $i(r){er(r instanceof Function,"Expected a class definition");let e=Zv.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GE.type="NONE";const Jv=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ga($i(Jv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||$i(Jv);const f=Pc(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){const A=Yi._fromJSON(e,E);y!==u&&(p=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ga(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ga(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(ZE(e))return"Webos";if(YE(e))return"Safari";if((e.includes("chrome/")||$E(e))&&!e.includes("edge/"))return"Chrome";if(XE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KE(r=Qt()){return/firefox\//i.test(r)}function YE(r=Qt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(r=Qt()){return/crios\//i.test(r)}function QE(r=Qt()){return/iemobile/i.test(r)}function XE(r=Qt()){return/android/i.test(r)}function WE(r=Qt()){return/blackberry/i.test(r)}function ZE(r=Qt()){return/webos/i.test(r)}function Hp(r=Qt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function e1(r=Qt()){var e;return Hp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t1(){return pw()&&document.documentMode===10}function JE(r=Qt()){return Hp(r)||XE(r)||ZE(r)||WE(r)||/windows phone/i.test(r)||QE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,e=[]){let n;switch(r){case"Browser":n=e_(Qt());break;case"Worker":n=`${e_(Qt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,e={}){return es(r,"GET","/v2/passwordPolicy",Jr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=6;class s1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:r1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new n1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qE(this,{idToken:e}),s=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Xi(this));const n=e?Gn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i1(this),n=new s1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $s(r){return Gn(r)}class t_{constructor(e){this.auth=e,this.observer=null,this.addObserver=bw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o1(r){gh=r}function t0(r){return gh.loadJS(r)}function l1(){return gh.recaptchaEnterpriseScript}function u1(){return gh.gapiScript}function c1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class h1{constructor(){this.enterprise=new f1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const d1="recaptcha-enterprise",n0="NO_RECAPTCHA";class p1{constructor(e){this.type=d1,this.auth=$s(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{GR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new FR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;Xv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(n0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Xv(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=l1();g.length!==0&&(g+=p),t0(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function n_(r,e,n,s=!1,o=!1){const u=new p1(r);let f;if(o)f=n0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lp(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await n_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await n_(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,e){const n=Lp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function g1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function y1(r,e,n){const s=$s(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=i0(e),{host:f,port:p}=v1(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Us(y,s.config.emulator)&&Us(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_1()}function i0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function v1(r){const e=i0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:i_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:i_(f)}}}function i_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function E1(r,e){return es(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(r,e){return $l(r,"POST","/v1/accounts:signInWithPassword",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(r,e){return $l(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}async function S1(r,e){return $l(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ml(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,n,"signInWithPassword",T1);case"emailLink":return b1(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lp(e,s,"signUpPassword",E1);case"emailLink":return S1(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e){return $l(r,"POST","/v1/accounts:signInWithIdp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="http://localhost";class zs extends qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Up(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ka(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:A1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R1(r){const e=El(Tl(r)).link,n=e?El(Tl(e)).deep_link_id:null,s=El(Tl(r)).deep_link_id;return(s?El(Tl(s)).link:null)||s||n||e||r}class Fp{constructor(e){var n,s,o,u,f,p;const g=El(Tl(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,A=w1((o=g.mode)!==null&&o!==void 0?o:null);ve(y&&E&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=R1(e);try{return new Fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Fp.parseLink(n);return ve(s,"argument-error"),Ml._fromEmailAndCode(e,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends r0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ql{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ql{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Ql{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,e){return $l(r,"POST","/v1/accounts:signUp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yi._fromIdTokenResponse(e,s,o),f=r_(s);return new js({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r_(s);return new js({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends tr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Zc(e,n,s,o)}}function s0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,u,e,s):u})}async function I1(r,e,n=!1){const s=await xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const u=await xl(r,s0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=jp(u.idToken);ve(f,s,"internal-error");const{sub:p}=f;return ve(r.uid===p,s,"user-mismatch"),js._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(r,e,n=!1){if(xn(r.app))return Promise.reject(Xi(r));const s="signIn",o=await s0(r,s,e),u=await js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function D1(r,e){return a0($s(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(r){const e=$s(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N1(r,e,n){if(xn(r.app))return Promise.reject(Xi(r));const s=$s(r),f=await lp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&o0(r),g}),p=await js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function k1(r,e,n){return xn(r.app)?Promise.reject(Xi(r)):D1(Gn(r),ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o0(r),s})}function x1(r,e,n,s){return Gn(r).onIdTokenChanged(e,n,s)}function M1(r,e,n){return Gn(r).beforeAuthStateChanged(e,n)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1e3,V1=10;class u0 extends l0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);t1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,V1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},P1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u0.type="LOCAL";const L1=u0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends l0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c0.type="SESSION";const h0=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await U1(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Gp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function z1(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function j1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function q1(){return f0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firebaseLocalStorageDb",F1=1,eh="firebaseLocalStorage",p0="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,e){return r.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function G1(){const r=indexedDB.deleteDatabase(d0);return new Xl(r).toPromise()}function up(){const r=indexedDB.open(d0,F1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(eh,{keyPath:p0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(eh)?e(s):(s.close(),await G1(),e(await up()))})})}async function s_(r,e,n){const s=vh(r,!0).put({[p0]:e,value:n});return new Xl(s).toPromise()}async function K1(r,e){const n=vh(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function a_(r,e){const n=vh(r,!0).delete(e);return new Xl(n).toPromise()}const Y1=800,$1=3;class m0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(q1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j1(),!this.activeServiceWorker)return;this.sender=new B1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await s_(e,Jc,"1"),await a_(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>s_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>K1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vh(o,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m0.type="LOCAL";const Q1=m0;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r,e){return e?$i(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W1(r){return a0(r.auth,new Kp(r),r.bypassAuthState)}function Z1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),O1(n,new Kp(r),r.bypassAuthState)}async function J1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),I1(n,new Kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W1;case"linkViaPopup":case"linkViaRedirect":return J1;case"reauthViaPopup":case"reauthViaRedirect":return Z1;default:Kn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Yl(2e3,1e4);class qa extends g0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eC.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="pendingRedirect",Vc=new Map;class nC extends g0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const s=await iC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iC(r,e){const n=aC(e),s=sC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function rC(r,e){Vc.set(r._key(),e)}function sC(r){return $i(r._redirectPersistence)}function aC(r){return Pc(tC,r.config.apiKey,r.name)}async function oC(r,e,n=!1){if(xn(r.app))return Promise.reject(Xi(r));const s=$s(r),o=X1(s,e),f=await new nC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=10*60*1e3;class uC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!y0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function y0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(r,e={}){return es(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hC(r);for(const n of e)try{if(mC(n))return}catch{}Kn(r,"unauthorized-domain")}function mC(r){const e=ap(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!dC.test(n))return!1;if(fC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Yl(3e4,6e4);function l_(){const r=hi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yC(r){return new Promise((e,n)=>{var s,o,u;function f(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),n(ci(r,"network-request-failed"))},timeout:gC.get()})}if(!((o=(s=hi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hi().gapi)===null||u===void 0)&&u.load)f();else{const p=c1("iframefcb");return hi()[p]=()=>{gapi.load?f():n(ci(r,"network-request-failed"))},t0(`${u1()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function vC(r){return Lc=Lc||yC(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Yl(5e3,15e3),EC="__/auth/iframe",TC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?zp(e,TC):`https://${r.config.authDomain}/${EC}`,s={apiKey:e.apiKey,appName:r.name,v:io},o=SC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Kl(s).slice(1)}`}async function wC(r){const e=await vC(r),n=hi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:AC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ci(r,"network-request-failed"),p=hi().setTimeout(()=>{u(f)},_C.get());function g(){hi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CC=500,IC=600,OC="_blank",DC="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(r,e,n,s=CC,o=IC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},RC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Qt().toLowerCase();n&&(p=$E(y)?OC:n),KE(y)&&(e=e||DC,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[k,V])=>`${C}${k}=${V},`,"");if(e1(y)&&p!=="_self")return kC(e||"",p),new u_(null);const A=window.open(e||"",p,E);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new u_(A)}function kC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="__/auth/handler",MC="emulator/auth/handler",PC=encodeURIComponent("fac");async function c_(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:o};if(e instanceof r0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Tw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Ql){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${PC}=${encodeURIComponent(g)}`:"";return`${VC(r)}?${Kl(p).slice(1)}${y}`}function VC({config:r}){return r.emulator?zp(r,MC):`https://${r.authDomain}/${xC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h0,this._completeRedirectFn=oC,this._overrideRedirectResult=rC}async _openPopup(e,n,s,o){var u;er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await c_(e,n,s,ap(),o);return NC(e,f,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await c_(e,n,s,ap(),o);return z1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wC(e),s=new uC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Fd];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JE()||YE()||Hp()}}const UC=LC;var h_="@firebase/auth",f_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(r){Qa(new Bs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e0(r)},y=new a1(s,o,u,g);return g1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new Bs("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(s=>new BC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(h_,f_,zC(r)),Kr(h_,f_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=5*60,qC=DE("authIdTokenMaxAge")||HC;let d_=null;const FC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>qC)return;const o=n==null?void 0:n.token;d_!==o&&(d_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GC(r=ME()){const e=Lp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=m1(r,{popupRedirectResolver:UC,persistence:[Q1,L1,h0]}),s=DE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=FC(u.toString());M1(n,f,()=>f(n.currentUser)),x1(n,p=>f(p))}}const o=IE("auth");return o&&y1(n,`http://${o}`),n}function KC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}o1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",KC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yp;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function S(){}S.prototype=w.prototype,D.D=w.prototype,D.prototype=new S,D.prototype.constructor=D,D.C=function(I,x,U){for(var O=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)O[ut-2]=arguments[ut];return w.prototype[x].apply(I,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,S){S||(S=0);var I=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)I[x]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(x=0;16>x;++x)I[x]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=D.g[0],S=D.g[1],x=D.g[2];var U=D.g[3],O=w+(U^S&(x^U))+I[0]+3614090360&4294967295;w=S+(O<<7&4294967295|O>>>25),O=U+(x^w&(S^x))+I[1]+3905402710&4294967295,U=w+(O<<12&4294967295|O>>>20),O=x+(S^U&(w^S))+I[2]+606105819&4294967295,x=U+(O<<17&4294967295|O>>>15),O=S+(w^x&(U^w))+I[3]+3250441966&4294967295,S=x+(O<<22&4294967295|O>>>10),O=w+(U^S&(x^U))+I[4]+4118548399&4294967295,w=S+(O<<7&4294967295|O>>>25),O=U+(x^w&(S^x))+I[5]+1200080426&4294967295,U=w+(O<<12&4294967295|O>>>20),O=x+(S^U&(w^S))+I[6]+2821735955&4294967295,x=U+(O<<17&4294967295|O>>>15),O=S+(w^x&(U^w))+I[7]+4249261313&4294967295,S=x+(O<<22&4294967295|O>>>10),O=w+(U^S&(x^U))+I[8]+1770035416&4294967295,w=S+(O<<7&4294967295|O>>>25),O=U+(x^w&(S^x))+I[9]+2336552879&4294967295,U=w+(O<<12&4294967295|O>>>20),O=x+(S^U&(w^S))+I[10]+4294925233&4294967295,x=U+(O<<17&4294967295|O>>>15),O=S+(w^x&(U^w))+I[11]+2304563134&4294967295,S=x+(O<<22&4294967295|O>>>10),O=w+(U^S&(x^U))+I[12]+1804603682&4294967295,w=S+(O<<7&4294967295|O>>>25),O=U+(x^w&(S^x))+I[13]+4254626195&4294967295,U=w+(O<<12&4294967295|O>>>20),O=x+(S^U&(w^S))+I[14]+2792965006&4294967295,x=U+(O<<17&4294967295|O>>>15),O=S+(w^x&(U^w))+I[15]+1236535329&4294967295,S=x+(O<<22&4294967295|O>>>10),O=w+(x^U&(S^x))+I[1]+4129170786&4294967295,w=S+(O<<5&4294967295|O>>>27),O=U+(S^x&(w^S))+I[6]+3225465664&4294967295,U=w+(O<<9&4294967295|O>>>23),O=x+(w^S&(U^w))+I[11]+643717713&4294967295,x=U+(O<<14&4294967295|O>>>18),O=S+(U^w&(x^U))+I[0]+3921069994&4294967295,S=x+(O<<20&4294967295|O>>>12),O=w+(x^U&(S^x))+I[5]+3593408605&4294967295,w=S+(O<<5&4294967295|O>>>27),O=U+(S^x&(w^S))+I[10]+38016083&4294967295,U=w+(O<<9&4294967295|O>>>23),O=x+(w^S&(U^w))+I[15]+3634488961&4294967295,x=U+(O<<14&4294967295|O>>>18),O=S+(U^w&(x^U))+I[4]+3889429448&4294967295,S=x+(O<<20&4294967295|O>>>12),O=w+(x^U&(S^x))+I[9]+568446438&4294967295,w=S+(O<<5&4294967295|O>>>27),O=U+(S^x&(w^S))+I[14]+3275163606&4294967295,U=w+(O<<9&4294967295|O>>>23),O=x+(w^S&(U^w))+I[3]+4107603335&4294967295,x=U+(O<<14&4294967295|O>>>18),O=S+(U^w&(x^U))+I[8]+1163531501&4294967295,S=x+(O<<20&4294967295|O>>>12),O=w+(x^U&(S^x))+I[13]+2850285829&4294967295,w=S+(O<<5&4294967295|O>>>27),O=U+(S^x&(w^S))+I[2]+4243563512&4294967295,U=w+(O<<9&4294967295|O>>>23),O=x+(w^S&(U^w))+I[7]+1735328473&4294967295,x=U+(O<<14&4294967295|O>>>18),O=S+(U^w&(x^U))+I[12]+2368359562&4294967295,S=x+(O<<20&4294967295|O>>>12),O=w+(S^x^U)+I[5]+4294588738&4294967295,w=S+(O<<4&4294967295|O>>>28),O=U+(w^S^x)+I[8]+2272392833&4294967295,U=w+(O<<11&4294967295|O>>>21),O=x+(U^w^S)+I[11]+1839030562&4294967295,x=U+(O<<16&4294967295|O>>>16),O=S+(x^U^w)+I[14]+4259657740&4294967295,S=x+(O<<23&4294967295|O>>>9),O=w+(S^x^U)+I[1]+2763975236&4294967295,w=S+(O<<4&4294967295|O>>>28),O=U+(w^S^x)+I[4]+1272893353&4294967295,U=w+(O<<11&4294967295|O>>>21),O=x+(U^w^S)+I[7]+4139469664&4294967295,x=U+(O<<16&4294967295|O>>>16),O=S+(x^U^w)+I[10]+3200236656&4294967295,S=x+(O<<23&4294967295|O>>>9),O=w+(S^x^U)+I[13]+681279174&4294967295,w=S+(O<<4&4294967295|O>>>28),O=U+(w^S^x)+I[0]+3936430074&4294967295,U=w+(O<<11&4294967295|O>>>21),O=x+(U^w^S)+I[3]+3572445317&4294967295,x=U+(O<<16&4294967295|O>>>16),O=S+(x^U^w)+I[6]+76029189&4294967295,S=x+(O<<23&4294967295|O>>>9),O=w+(S^x^U)+I[9]+3654602809&4294967295,w=S+(O<<4&4294967295|O>>>28),O=U+(w^S^x)+I[12]+3873151461&4294967295,U=w+(O<<11&4294967295|O>>>21),O=x+(U^w^S)+I[15]+530742520&4294967295,x=U+(O<<16&4294967295|O>>>16),O=S+(x^U^w)+I[2]+3299628645&4294967295,S=x+(O<<23&4294967295|O>>>9),O=w+(x^(S|~U))+I[0]+4096336452&4294967295,w=S+(O<<6&4294967295|O>>>26),O=U+(S^(w|~x))+I[7]+1126891415&4294967295,U=w+(O<<10&4294967295|O>>>22),O=x+(w^(U|~S))+I[14]+2878612391&4294967295,x=U+(O<<15&4294967295|O>>>17),O=S+(U^(x|~w))+I[5]+4237533241&4294967295,S=x+(O<<21&4294967295|O>>>11),O=w+(x^(S|~U))+I[12]+1700485571&4294967295,w=S+(O<<6&4294967295|O>>>26),O=U+(S^(w|~x))+I[3]+2399980690&4294967295,U=w+(O<<10&4294967295|O>>>22),O=x+(w^(U|~S))+I[10]+4293915773&4294967295,x=U+(O<<15&4294967295|O>>>17),O=S+(U^(x|~w))+I[1]+2240044497&4294967295,S=x+(O<<21&4294967295|O>>>11),O=w+(x^(S|~U))+I[8]+1873313359&4294967295,w=S+(O<<6&4294967295|O>>>26),O=U+(S^(w|~x))+I[15]+4264355552&4294967295,U=w+(O<<10&4294967295|O>>>22),O=x+(w^(U|~S))+I[6]+2734768916&4294967295,x=U+(O<<15&4294967295|O>>>17),O=S+(U^(x|~w))+I[13]+1309151649&4294967295,S=x+(O<<21&4294967295|O>>>11),O=w+(x^(S|~U))+I[4]+4149444226&4294967295,w=S+(O<<6&4294967295|O>>>26),O=U+(S^(w|~x))+I[11]+3174756917&4294967295,U=w+(O<<10&4294967295|O>>>22),O=x+(w^(U|~S))+I[2]+718787259&4294967295,x=U+(O<<15&4294967295|O>>>17),O=S+(U^(x|~w))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var S=w-this.blockSize,I=this.B,x=this.h,U=0;U<w;){if(x==0)for(;U<=S;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<w;)if(I[x++]=D.charCodeAt(U++),x==this.blockSize){o(this,I),x=0;break}}else for(;U<w;)if(I[x++]=D[U++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var S=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.u(D),D=Array(16),w=S=0;4>w;++w)for(var I=0;32>I;I+=8)D[S++]=this.g[w]>>>I&255;return D};function u(D,w){var S=p;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=w(D)}function f(D,w){this.h=w;for(var S=[],I=!0,x=D.length-1;0<=x;x--){var U=D[x]|0;I&&U==w||(S[x]=U,I=!1)}this.g=S}var p={};function g(D){return-128<=D&&128>D?u(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return G(y(-D));for(var w=[],S=1,I=0;D>=S;I++)w[I]=D/S|0,S*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return G(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(w,8)),I=A,x=0;x<D.length;x+=8){var U=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+U),w);8>U?(U=y(Math.pow(w,U)),I=I.j(U).add(y(O))):(I=I.j(S),I=I.add(y(O)))}return I}var A=g(0),C=g(1),k=g(16777216);r=f.prototype,r.m=function(){if($(this))return-G(this).m();for(var D=0,w=1,S=0;S<this.g.length;S++){var I=this.i(S);D+=(0<=I?I:4294967296+I)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if($(this))return"-"+G(this).toString(D);for(var w=y(Math.pow(D,6)),S=this,I="";;){var x=me(S,w).g;S=X(S,x.j(w));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(D);if(S=x,V(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=X(this,D),$(D)?-1:V(D)?0:1};function G(D){for(var w=D.g.length,S=[],I=0;I<w;I++)S[I]=~D.g[I];return new f(S,~D.h).add(C)}r.abs=function(){return $(this)?G(this):this},r.add=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],I=0,x=0;x<=w;x++){var U=I+(this.i(x)&65535)+(D.i(x)&65535),O=(U>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);I=O>>>16,U&=65535,O&=65535,S[x]=O<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function X(D,w){return D.add(G(w))}r.j=function(D){if(V(this)||V(D))return A;if($(this))return $(D)?G(this).j(G(D)):G(G(this).j(D));if($(D))return G(this.j(G(D)));if(0>this.l(k)&&0>D.l(k))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,S=[],I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<D.g.length;x++){var U=this.i(I)>>>16,O=this.i(I)&65535,ut=D.i(x)>>>16,Ze=D.i(x)&65535;S[2*I+2*x]+=O*Ze,ne(S,2*I+2*x),S[2*I+2*x+1]+=U*Ze,ne(S,2*I+2*x+1),S[2*I+2*x+1]+=O*ut,ne(S,2*I+2*x+1),S[2*I+2*x+2]+=U*ut,ne(S,2*I+2*x+2)}for(I=0;I<w;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=w;I<2*w;I++)S[I]=0;return new f(S,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ee(D,w){this.g=D,this.h=w}function me(D,w){if(V(w))throw Error("division by zero");if(V(D))return new ee(A,A);if($(D))return w=me(G(D),w),new ee(G(w.g),G(w.h));if($(w))return w=me(D,G(w)),new ee(G(w.g),w.h);if(30<D.g.length){if($(D)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var S=C,I=w;0>=I.l(D);)S=ce(S),I=ce(I);var x=se(S,1),U=se(I,1);for(I=se(I,2),S=se(S,2);!V(I);){var O=U.add(I);0>=O.l(D)&&(x=x.add(S),U=O),I=se(I,1),S=se(S,1)}return w=X(D,x.j(w)),new ee(x,w)}for(x=A;0<=D.l(w);){for(S=Math.max(1,Math.floor(D.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=y(S),O=U.j(w);$(O)||0<O.l(D);)S-=I,U=y(S),O=U.j(w);V(U)&&(U=C),x=x.add(U),D=X(D,O)}return new ee(x,D)}r.A=function(D){return me(this,D).h},r.and=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)&D.i(I);return new f(S,this.h&D.h)},r.or=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)|D.i(I);return new f(S,this.h|D.h)},r.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),S=[],I=0;I<w;I++)S[I]=this.i(I)^D.i(I);return new f(S,this.h^D.h)};function ce(D){for(var w=D.g.length+1,S=[],I=0;I<w;I++)S[I]=D.i(I)<<1|D.i(I-1)>>>31;return new f(S,D.h)}function se(D,w){var S=w>>5;w%=32;for(var I=D.g.length-S,x=[],U=0;U<I;U++)x[U]=0<w?D.i(U+S)>>>w|D.i(U+S+1)<<32-w:D.i(U+S);return new f(x,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Yp=f}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,bl,_0,Uc,cp,E0,T0,b0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in v))break e;v=v[z]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var v=0,b=!1,z={next:function(){if(!b&&v<c.length){var F=v++;return{value:m(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,v){return c.call.apply(c.bind,arguments)}function A(c,m,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(m,z)}}return function(){return c.apply(m,arguments)}}function C(c,m,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function k(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,z,F){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return m.prototype[z].apply(b,ie)}}function $(c){const m=c.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function G(c,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(g(b)){const z=c.length||0,F=b.length||0;c.length=z+F;for(let ie=0;ie<F;ie++)c[z+ie]=b[ie]}else c.push(b)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function se(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function D(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function w(c){const m={};for(const v in c)m[v]=c[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,m){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)c[v]=b[v];for(let F=0;F<S.length;F++)v=S[F],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function x(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function U(c){p.setTimeout(()=>{throw c},0)}function O(){var c=Ve;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const b=Ze.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ze=new X(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,de=!1,Ve=new ut,N=()=>{const c=p.Promise.resolve(void 0);ge=()=>{c.then(J)}};var J=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){U(v)}var m=Ze;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}de=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return c}();function Se(c,m){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ce){e:{try{me(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}V(Se,ae);var Te={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Le=0;function it(c,m,v,b,z){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=z,this.key=++Le,this.da=this.fa=!1}function He(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,m,v,b,z){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=mn(c,m,b,z);return-1<ie?(m=c[ie],v||(m.fa=!1)):(m=new it(m,this.src,F,!!b,z),m.fa=v,c.push(m)),m};function vi(c,m){var v=m.type;if(v in c.g){var b=c.g[v],z=Array.prototype.indexOf.call(b,m,void 0),F;(F=0<=z)&&Array.prototype.splice.call(b,z,1),F&&(He(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function mn(c,m,v,b){for(var z=0;z<c.length;++z){var F=c[z];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==b)return z}return-1}var nr="closure_lm_"+(1e6*Math.random()|0),ir={};function _i(c,m,v,b,z){if(Array.isArray(m)){for(var F=0;F<m.length;F++)_i(c,m[F],v,b,z);return null}return v=nu(v),c&&c[ft]?c.K(m,v,y(b)?!!b.capture:!1,z):lo(c,m,v,!1,b,z)}function lo(c,m,v,b,z,F){if(!m)throw Error("Invalid event type");var ie=y(z)?!!z.capture:!!z,ke=uo(c);if(ke||(c[nr]=ke=new Xt(c)),v=ke.add(m,v,b,ie,F),v.proxy)return v;if(b=Ws(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)oe||(z=ie),z===void 0&&(z=!1),c.addEventListener(m.toString(),b,z);else if(c.attachEvent)c.attachEvent(Js(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function c(v){return m.call(c.src,c.listener,v)}const m=Nh;return c}function Zs(c,m,v,b,z){if(Array.isArray(m))for(var F=0;F<m.length;F++)Zs(c,m[F],v,b,z);else b=y(b)?!!b.capture:!!b,v=nu(v),c&&c[ft]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],v=mn(F,v,b,z),-1<v&&(He(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=uo(c))&&(m=c.g[m.toString()],c=-1,m&&(c=mn(m,v,b,z)),(v=-1<c?m[c]:null)&&ts(v))}function ts(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ft])vi(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(Js(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=uo(m))?(vi(v,c),v.h==0&&(v.src=null,m[nr]=null)):He(c)}}}function Js(c){return c in ir?ir[c]:ir[c]="on"+c}function Nh(c,m){if(c.da)c=!0;else{m=new Se(m,this);var v=c.listener,b=c.ha||c.src;c.fa&&ts(c),c=v.call(b,m)}return c}function uo(c){return c=c[nr],c instanceof Xt?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(m){return c.handleEvent(m)}),c[nn])}function _t(){fe.call(this),this.i=new Xt(this),this.M=this,this.F=null}V(_t,fe),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(c,m,v,b){Zs(this,c,m,v,b)};function wt(c,m){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new ae(m,c);else if(m instanceof ae)m.target=m.target||c;else{var z=m;m=new ae(b,c),I(m,z)}if(z=!0,v)for(var F=v.length-1;0<=F;F--){var ie=m.g=v[F];z=Ei(ie,b,!0,m)&&z}if(ie=m.g=c,z=Ei(ie,b,!0,m)&&z,z=Ei(ie,b,!1,m)&&z,v)for(F=0;F<v.length;F++)ie=m.g=v[F],z=Ei(ie,b,!1,m)&&z}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],b=0;b<v.length;b++)He(v[b]);delete c.g[m],c.h--}}this.F=null},_t.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},_t.prototype.L=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function Ei(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,F=0;F<m.length;++F){var ie=m[F];if(ie&&!ie.da&&ie.capture==v){var ke=ie.listener,Tt=ie.ha||ie.src;ie.fa&&vi(c.i,ie),z=ke.call(Tt,b)!==!1&&z}}return z&&!b.defaultPrevented}function iu(c,m,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function co(c){c.g=iu(()=>{c.g=null,c.i&&(c.i=!1,co(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class kh extends fe{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){fe.call(this),this.h=c,this.g={}}V(ns,fe);var rr=[];function qt(c){se(c.g,function(m,v){this.g.hasOwnProperty(v)&&ts(m)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),qt(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=p.JSON.stringify,Yn=p.JSON.parse,Wt=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function fo(){}fo.prototype.h=null;function ru(c){return c.h||(c.h=c.i())}function su(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){ae.call(this,"d")}V(sr,ae);function Mn(){ae.call(this,"c")}V(Mn,ae);var gn={},ar=null;function ea(){return ar=ar||new _t}gn.La="serverreachability";function po(c){ae.call(this,gn.La,c)}V(po,ae);function or(c){const m=ea();wt(m,new po(m))}gn.STAT_EVENT="statevent";function ta(c,m){ae.call(this,gn.STAT_EVENT,c),this.stat=m}V(ta,ae);function ct(c){const m=ea();wt(m,new ta(m,c))}gn.Ma="timingevent";function au(c,m){ae.call(this,gn.Ma,c),this.size=m}V(au,ae);function lr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function ou(c,m,v,b,z,F){c.info(function(){if(c.g)if(F)for(var ie="",ke=F.split("&"),Tt=0;Tt<ke.length;Tt++){var xe=ke[Tt].split("=");if(1<xe.length){var It=xe[0];xe=xe[1];var bt=It.split("_");ie=2<=bt.length&&bt[1]=="type"?ie+(It+"="+xe+"&"):ie+(It+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+v+`
`+ie})}function lu(c,m,v,b,z,F,ie){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+v+`
`+F+" "+ie})}function cr(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rt(c,v)+(b?" "+b:"")})}function Qn(c,m){c.info(function(){return"TIMEOUT: "+m})}ur.prototype.info=function(){};function Rt(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var F=z[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return ho(v)}catch{return m}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function na(){}V(na,fo),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},is=new na;function Xn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.R=b||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var hr={},rs={};function Pn(c,m,v){c.L=1,c.v=os(rt(m)),c.m=v,c.P=!0,bi(c,null)}function bi(c,m){c.F=Date.now(),Je(c),c.A=rt(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),wi(v.i,"t",b),c.C=0,v=c.j.J,c.h=new mo,c.g=bu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new kh(C(c.Y,c,c.g),c.O)),m=c.U,v=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(rr[0]=z.toString()),z=rr);for(var F=0;F<z.length;F++){var ie=_i(v,z[F],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),or(),ou(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Tn(c)==3?m.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const bt=Tn(this.g);var m=this.g.Ba();const Oi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||bt!=4||m==7||(m==8||0>=Oi?or(3):or(2)),ia(this);var v=this.g.Z();this.X=v;t:if(fr(this)){var b=pu(this.g);c="";var z=b.length,F=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),ln(this);var ie="";break t}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,c+=this.h.i.decode(b[m],{stream:!(F&&m==z-1)});b.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,lu(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Tt=this.g;if((ke=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ke)){var xe=ke;break t}}xe=null}if(v=xe)cr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,v);else{this.o=!1,this.s=3,ct(12),rn(this),ln(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<ie.length;)if(Pt=dr(this,ie),Pt==rs){bt==4&&(this.s=4,ct(14),v=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==hr){this.s=4,ct(15),cr(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else cr(this.i,this.l,Pt,null),un(this,Pt);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)cr(this.i,this.l,ie,"[Invalid Chunked Response]"),rn(this),ln(this);else if(0<ie.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ps(It),It.M=!0,ct(11))}}else cr(this.i,this.l,ie,null),un(this,ie);bt==4&&rn(this),this.o&&!this.J&&(bt==4?_u(this.j,this):(this.o=!1,Je(this)))}else Uh(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),rn(this),ln(this)}}}catch{}finally{}};function fr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dr(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?rs:(v=Number(m.substring(v,b)),isNaN(v)?hr:(b+=1,b+v>m.length?rs:(m=m.slice(b,b+v),c.C=b+v,m)))}Xn.prototype.cancel=function(){this.J=!0,rn(this)};function Je(c){c.S=Date.now()+c.I,go(c,c.I)}function go(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lr(C(c.ba,c),m)}function ia(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(or(),ct(17)),rn(this),this.s=2,ln(this)):go(this,this.S-c)};function ln(c){c.j.G==0||c.J||_u(c.j,c)}function rn(c){ia(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,qt(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function un(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||pr(v.h,c))){if(!c.K&&pr(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)da(v),ha(v);else break e;Co(v),ct(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=lr(C(v.Za,v),6e3));if(1>=uu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((c.K||v.g==c)&&da(v),!ne(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let xe=z[m];if(v.T=xe[0],xe=xe[1],v.G==2)if(xe[0]=="c"){v.K=xe[1],v.ia=xe[2];const It=xe[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const bt=xe[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Oi=xe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(b=1.5*Oi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Pt=c.g;if(Pt){const ii=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var F=b.h;F.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(mr(F,F.h),F.h=null))}if(b.D){const Oo=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(b.ya=Oo,Ue(b.I,b.D,Oo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ie=c;if(b.qa=Tu(b,b.J?b.ia:null,b.W),ie.K){yn(b.h,ie);var ke=ie,Tt=b.L;Tt&&(ke.I=Tt),ke.B&&(ia(ke),Je(ke)),b.g=ie}else yu(b);0<v.i.length&&fa(v)}else xe[0]!="stop"&&xe[0]!="close"||Ii(v,7);else v.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ii(v,7):wo(v):xe[0]!="noop"&&v.l&&v.l.ta(xe),v.v=0)}}or(4)}catch{}}var xh=class{constructor(c,m){this.g=c,this.map=m}};function yo(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function pr(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function mr(c,m){c.g?c.g.add(m):c.h=m}function yn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}yo.prototype.cancel=function(){if(this.i=Zt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return $(c.i)}function cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],v=c.length,b=0;b<v;b++)m.push(c[b]);return m}m=[],v=0;for(b in c)m[v++]=c[b];return m}function Mh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const b in c)m[v++]=b;return m}}}function ss(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Mh(c),b=cu(c),z=b.length,F=0;F<z;F++)m.call(void 0,b[F],v&&v[F],c)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),z=null;if(0<=b){var F=c[v].substring(0,b);z=c[v].substring(b+1)}else F=c[v];m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,gr(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var m=c.i,v=new Wn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),sa(this,v),this.m=c.m}else c&&(m=String(c).match(_o))?(this.h=!1,gr(this,m[1]||"",!0),this.o=yr(m[2]||""),this.g=yr(m[3]||"",!0),as(this,m[4]),this.l=yr(m[5]||"",!0),sa(this,m[6]||"",!0),this.m=yr(m[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Si.prototype.toString=function(){var c=[],m=this.j;m&&c.push(vn(m,Eo,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(vn(m,Eo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vn(v,v.charAt(0)=="/"?To:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vn(v,Lh)),c.join("")};function rt(c){return new Si(c)}function gr(c,m,v){c.j=v?yr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function sa(c,m,v){m instanceof Wn?(c.i=m,bo(c.i,c.h)):(v||(m=vn(m,Vh)),c.i=new Wn(m,c.h))}function Ue(c,m,v){c.i.set(m,v)}function os(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Ph),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ph(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,hu=/[#\?:]/g,To=/[#\?]/g,Vh=/[#\?@]/g,Lh=/#/g;function Wn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&ra(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Wn.prototype,r.add=function(c,m){_n(this),this.i=null,c=Ri(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function aa(c,m){_n(c),m=Ri(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ai(c,m){return _n(c),m=Ri(c,m),c.g.has(m)}r.forEach=function(c,m){_n(this),this.g.forEach(function(v,b){v.forEach(function(z){c.call(m,z,b,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const z=c[b];for(let F=0;F<z.length;F++)v.push(m[b])}return v},r.V=function(c){_n(this);let m=[];if(typeof c=="string")Ai(this,c)&&(m=m.concat(this.g.get(Ri(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},r.set=function(c,m){return _n(this),this.i=null,c=Ri(this,c),Ai(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function wi(c,m,v){aa(c,m),0<v.length&&(c.i=null,c.g.set(Ri(c,m),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const F=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var z=F;ie[b]!==""&&(z+="="+encodeURIComponent(String(ie[b]))),c.push(z)}}return this.i=c.join("&")};function Ri(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function bo(c,m){m&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(v,b){var z=b.toLowerCase();b!=z&&(aa(this,b),wi(this,z,v))},c)),c.j=m}function fu(c,m){const v=new ur;if(p.Image){const b=new Image;b.onload=k(En,v,"TestLoadImage: loaded",!0,m,b),b.onerror=k(En,v,"TestLoadImage: error",!1,m,b),b.onabort=k(En,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=k(En,v,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function ls(c,m){const v=new ur,b=new AbortController,z=setTimeout(()=>{b.abort(),En(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(z),F.ok?En(v,"TestPingServer: ok",!0,m):En(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),En(v,"TestPingServer: error",!1,m)})}function En(c,m,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function us(){this.g=new Wt}function Zn(c,m,v){const b=v||"";try{ss(c,function(z,F){let ie=z;y(z)&&(ie=ho(z)),m.push(b+F+"="+encodeURIComponent(ie))})}catch(z){throw m.push(b+"type="+encodeURIComponent("_badmap")),z}}function vr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(vr,fo),vr.prototype.g=function(){return new Ci(this.l,this.j)},vr.prototype.i=function(c){return function(){return c}}({});function Ci(c,m){_t.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ci,_t),r=Ci.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Jn(this):ei(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},r.Qa=function(c){this.g&&(this.response=c,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ei(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ao(c){let m="";return se(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ct(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Ao(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ue(c,m,v))}function je(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(je,_t);var oa=/^https?$/i,cs=["POST","PUT"];r=je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?ru(this.o):ru(is),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){du(this,F);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),z=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(cs,m,void 0))||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of v)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){du(this,F)}};function du(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,la(c),ti(c)}function la(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)iu(c.Ea,0,c);else if(wt(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=ie===0){var z=String(c.D).match(_o)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),b=!oa.test(z?z.toLowerCase():"")}v=b}if(v)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var F=2<Tn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",la(c)}}finally{ti(c)}}}}function ti(c,m){if(c.g){hs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||wt(c,"ready");try{v.onreadystatechange=b}catch{}}}function hs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Yn(m)}};function pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(c){const m={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var v=x(c[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[z]||[];m[z]=F,F.push(v)}D(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function ca(c){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(c,m,v,b){ct(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Tu(this,null,this.W),fa(this)};function wo(c){if(mu(c),c.G==3){var m=c.U++,v=rt(c.I);if(Ue(v,"SID",c.K),Ue(v,"RID",m),Ue(v,"TYPE","terminate"),ds(c,v),m=new Xn(c,c.j,m),m.L=2,m.v=os(rt(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}Eu(c)}function ha(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function mu(c){ha(c),c.u&&(p.clearTimeout(c.u),c.u=null),da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function fa(c){if(!vo(c.h)&&!c.s){c.s=!0;var m=c.Ga;ge||N(),de||(ge(),de=!0),Ve.add(m,c),c.B=0}}function Bh(c,m){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lr(C(c.Ga,c,m),Io(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Xn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(z.H=F,F=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=gu(this,z,m),v=rt(this.I),Ue(v,"RID",c),Ue(v,"CVER",22),this.D&&Ue(v,"X-HTTP-Session-Id",this.D),ds(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(Ao(F)))+"&"+m:this.m&&Ct(v,this.m,F)),mr(this.h,z),this.Ua&&Ue(v,"TYPE","init"),this.P?(Ue(v,"$req",m),Ue(v,"SID","null"),z.T=!0,Pn(z,v,null)):Pn(z,v,m),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||vo(this.h)||Ro(this))};function Ro(c,m){var v;m?v=m.l:v=c.U++;const b=rt(c.I);Ue(b,"SID",c.K),Ue(b,"RID",v),Ue(b,"AID",c.T),ds(c,b),c.m&&c.o&&Ct(b,c.m,c.o),v=new Xn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=gu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mr(c.h,v),Pn(v,b,m)}function ds(c,m){c.H&&se(c.H,function(v,b){Ue(m,b,v)}),c.l&&ss({},function(v,b){Ue(m,b,v)})}function gu(c,m,v){v=Math.min(c.i.length,v);var b=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let F=-1;for(;;){const ie=["count="+v];F==-1?0<v?(F=z[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let ke=!0;for(let Tt=0;Tt<v;Tt++){let xe=z[Tt].g;const It=z[Tt].map;if(xe-=F,0>xe)F=Math.max(0,z[Tt].g-100),ke=!1;else try{Zn(It,ie,"req"+xe+"_")}catch{b&&b(It)}}if(ke){b=ie.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,b}function yu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ge||N(),de||(ge(),de=!0),Ve.add(m,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lr(C(c.Fa,c),Io(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lr(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ha(this),vu(this))};function ps(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=rt(c.qa);Ue(m,"RID","rpc"),Ue(m,"SID",c.K),Ue(m,"AID",c.T),Ue(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(m,"TO",c.ja),Ue(m,"TYPE","xmlhttp"),ds(c,m),c.m&&c.o&&Ct(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=os(rt(m)),v.m=null,v.P=!0,bi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),Co(this),ct(19))};function da(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function _u(c,m){var v=null;if(c.g==m){da(c),ps(c),c.g=null;var b=2}else if(pr(c.h,m))v=m.D,yn(c.h,m),b=1;else return;if(c.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=c.B;b=ea(),wt(b,new au(b,v)),fa(c)}else yu(c);else if(z=m.s,z==3||z==0&&0<m.X||!(b==1&&Bh(c,m)||b==2&&Co(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),z){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Io(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var v=C(c.fb,c),b=c.Xa;const z=!b;b=new Si(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gr(b,"https"),os(b),z?fu(b.toString(),v):ls(b.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(m),Eu(c),mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const m=Zt(c.h);(m.length!=0||c.i.length!=0)&&(G(c.ka,m),G(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Tu(c,m,v){var b=v instanceof Si?rt(v):new Si(v);if(b.g!="")m&&(b.g=m+"."+b.g),as(b,b.s);else{var z=p.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var F=new Si(null);b&&gr(F,b),m&&(F.g=m),z&&as(F,z),v&&(F.l=v),b=F}return v=c.D,m=c.ya,v&&m&&Ue(b,v,m),Ue(b,"VER",c.la),ds(c,b),b}function bu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new je(new vr({eb:v})):new je(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(c,m){return new Jt(c,m)};function Jt(c,m){_t.call(this),this.g=new ca(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ne(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ne(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ni(this)}V(Jt,_t),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){wo(this.g)},Jt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ho(c),c=v);m.i.push(new xh(m.Ya++,c)),m.G==3&&fa(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Jt.aa.N.call(this)};function Au(c){sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}V(Au,sr);function wu(){Mn.call(this),this.status=1}V(wu,Mn);function ni(c){this.g=c}V(ni,Su),ni.prototype.ua=function(){wt(this.g,"a")},ni.prototype.ta=function(c){wt(this.g,new Au(c))},ni.prototype.sa=function(c){wt(this.g,new wu)},ni.prototype.ra=function(){wt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,b0=function(){return new pa},T0=function(){return ea()},E0=gn,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Uc=Et,Ti.COMPLETE="complete",_0=Ti,su.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",_t.prototype.listen=_t.prototype.K,bl=su,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,v0=je}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Pp("@firebase/firestore");function ja(){return Hs.logLevel}function ue(r,...e){if(Hs.logLevel<=Oe.DEBUG){const n=e.map($p);Hs.debug(`Firestore (${so}): ${r}`,...n)}}function qs(r,...e){if(Hs.logLevel<=Oe.ERROR){const n=e.map($p);Hs.error(`Firestore (${so}): ${r}`,...n)}}function _h(r,...e){if(Hs.logLevel<=Oe.WARN){const n=e.map($p);Hs.warn(`Firestore (${so}): ${r}`,...n)}}function $p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+r;throw qs(e),new Error(e)}function lt(r,e){r||Ie()}function Xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class $C{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string"),new S0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new Yt(e)}}class XC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new XC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new y_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lt(typeof n.token=="string"),this.R=n.token,new y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function qe(r,e){return r<e?-1:r>e?1:0}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,__=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*__);return new Mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v_)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Mt(0,0))}static max(){return new We(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="__name__";class ui{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(),s===void 0?s=e.length-n:s>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ui?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ui.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=ui.isNumericId(e),o=ui.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ui.extractNumericId(e).compare(ui.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yp.fromString(e.substring(4,e.length-2))}}class yt extends ui{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const eI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ui{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return eI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new jt([E_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(yt.fromString(e))}static fromName(e){return new we(yt.fromString(e).popFirst(5))}static empty(){return new we(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function tI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=We.fromTimestamp(s===1e9?new Mt(n+1,0):new Mt(n,s));return new Qr(o,we.empty(),e)}function nI(r){return new Qr(r.readTime,r.key,Pl)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(We.min(),we.empty(),Pl)}static max(){return new Qr(We.max(),we.empty(),Pl)}}function iI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(r.documentKey,e.documentKey),n!==0?n:qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==rI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function aI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function Zp(r){return r==null}function th(r){return r===0&&1/r==-1/0}function oI(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="";function lI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=T_(e)),e=uI(r.get(n),e);return T_(e)}function uI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case w0:n+="";break;default:n+=u}}return n}function T_(r){return r+w0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ao(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Ht(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cI("Invalid base64 string: "+u):u}}(e);return new di(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const hI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(r){if(lt(!!r),typeof r=="string"){let e=0;const n=hI.exec(r);if(lt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zt(r.seconds),nanos:zt(r.nanos)}}function zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wa(r){return typeof r=="string"?di.fromBase64String(r):di.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="server_timestamp",I0="__type__",O0="__previous_value__",D0="__local_write_time__";function Jp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[I0])===null||n===void 0?void 0:n.stringValue)===C0}function em(r){const e=r.mapValue.fields[O0];return Jp(e)?em(e):e}function nh(r){const e=Fs(r.mapValue.fields[D0].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,s,o,u,f,p,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y}}const ih="(default)";class rh{constructor(e,n){this.projectId=e,this.database=n||ih}static empty(){return new rh("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__type__",dI="__max__",Cc={mapValue:{}},k0="__vector__",hp="value";function Gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:mI(r)?9007199254740991:pI(r)?10:11:Ie()}function pi(r,e){if(r===e)return!0;const n=Gs(r);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nh(r).isEqual(nh(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fs(o.timestampValue),p=Fs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Wa(o.bytesValue).isEqual(Wa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return zt(o.geoPointValue.latitude)===zt(u.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return zt(o.integerValue)===zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=zt(o.doubleValue),p=zt(u.doubleValue);return f===p?th(f)===th(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(b_(f)!==b_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!pi(f[g],p[g])))return!1;return!0}(r,e);default:return Ie()}}function Vl(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function Za(r,e){if(r===e)return 0;const n=Gs(r),s=Gs(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=zt(u.integerValue||u.doubleValue),g=zt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return A_(r.timestampValue,e.timestampValue);case 4:return A_(nh(r),nh(e));case 5:return qe(r.stringValue,e.stringValue);case 6:return function(u,f){const p=Wa(u),g=Wa(f);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=qe(p[y],g[y]);if(E!==0)return E}return qe(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=qe(zt(u.latitude),zt(f.latitude));return p!==0?p:qe(zt(u.longitude),zt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return w_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,g,y,E;const A=u.fields||{},C=f.fields||{},k=(p=A[hp])===null||p===void 0?void 0:p.arrayValue,V=(g=C[hp])===null||g===void 0?void 0:g.arrayValue,$=qe(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:w_(k,V)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Cc.mapValue&&f===Cc.mapValue)return 0;if(u===Cc.mapValue)return 1;if(f===Cc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const C=qe(g[A],E[A]);if(C!==0)return C;const k=Za(p[g[A]],y[E[A]]);if(k!==0)return k}return qe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ie()}}function A_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const n=Fs(r),s=Fs(e),o=qe(n.seconds,s.seconds);return o!==0?o:qe(n.nanos,s.nanos)}function w_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Za(n[o],s[o]);if(u)return u}return qe(n.length,s.length)}function Ja(r){return fp(r)}function fp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Fs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Wa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return we.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=fp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${fp(n.fields[f])}`;return o+"}"}(r.mapValue):Ie()}function Bc(r){switch(Gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(r);return e?16+Bc(e):16;case 5:return 2*r.stringValue.length;case 6:return Wa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Bc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ao(s.fields,(u,f)=>{o+=u.length+Bc(f)}),o}(r.mapValue);default:throw Ie()}}function dp(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function zc(r){return!!r&&"mapValue"in r}function pI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[N0])===null||n===void 0?void 0:n.stringValue)===k0}function Cl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ao(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Cl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function mI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Cl(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ao(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Hn(Cl(this.value))}}function x0(r){const e=[];return ao(r.fields,(n,s)=>{const o=new jt([n]);if(zc(s)){const u=x0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new jn(e,0,We.min(),We.min(),We.min(),Hn.empty(),0)}static newFoundDocument(e,n,s,o){return new jn(e,1,n,We.min(),s,o,0)}static newNoDocument(e,n){return new jn(e,2,n,We.min(),We.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,We.min(),We.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function R_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=we.comparator(we.fromName(f.referenceValue),n.key):s=Za(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function gI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{}class xt extends M0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vI(e,n,s):n==="array-contains"?new TI(e,s):n==="in"?new bI(e,s):n==="not-in"?new SI(e,s):n==="array-contains-any"?new AI(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _I(e,s):new EI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Za(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends M0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xr(e,n)}matches(e){return P0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P0(r){return r.op==="and"}function V0(r){return yI(r)&&P0(r)}function yI(r){for(const e of r.filters)if(e instanceof Xr)return!1;return!0}function pp(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(V0(r))return r.filters.map(e=>pp(e)).join(",");{const e=r.filters.map(n=>pp(n)).join(",");return`${r.op}(${e})`}}function L0(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof Xr?function(s,o){return o instanceof Xr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&L0(f,o.filters[p]),!0):!1}(r,e):void Ie()}function U0(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`}(r):r instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(U0).join(" ,")+"}"}(r):"Filter"}class vI extends xt{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class _I extends xt{constructor(e,n){super(e,"in",n),this.keys=B0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EI extends xt{constructor(e,n){super(e,"not-in",n),this.keys=B0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>we.fromName(s.referenceValue))}class TI extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&Vl(n.arrayValue,this.value)}}class bI extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vl(this.value.arrayValue,n)}}class SI extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vl(this.value.arrayValue,n)}}class AI extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function I_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new wI(r,e,n,s,o,u,f)}function nm(r){const e=Xe(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>pp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ja(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ja(s)).join(",")),e.le=n}return e.le}function im(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!C_(r.startAt,e.startAt)&&C_(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RI(r,e,n,s,o,u,f,p){return new Eh(r,e,n,s,o,u,f,p)}function CI(r){return new Eh(r)}function O_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function II(r){return r.collectionGroup!==null}function Il(r){const e=Xe(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ht(jt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new ah(u,s))}),n.has(jt.keyField().canonicalString())||e.he.push(new ah(jt.keyField(),s))}return e.he}function Ls(r){const e=Xe(r);return e.Pe||(e.Pe=OI(e,Il(r))),e.Pe}function OI(r,e){if(r.limitType==="F")return I_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ah(o.field,u)});const n=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return I_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function mp(r,e,n){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function z0(r,e){return im(Ls(r),Ls(e))&&r.limitType===e.limitType}function j0(r){return`${nm(Ls(r))}|lt:${r.limitType}`}function vl(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>U0(o)).join(", ")}]`),Zp(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ja(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ja(o)).join(",")),`Target(${s})`}(Ls(r))}; limitType=${r.limitType})`}function rm(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):we.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Il(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=R_(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,Il(s),o)||s.endAt&&!function(f,p,g){const y=R_(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,Il(s),o))}(r,e)}function DI(r){return(e,n)=>{let s=!1;for(const o of Il(r)){const u=NI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function NI(r,e,n){const s=r.field.isKeyField()?we.comparator(e.key,n.key):function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Za(g,y):Ie()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new on(we.comparator);function oh(){return kI}const H0=new on(we.comparator);function Ic(...r){let e=H0;for(const n of r)e=e.insert(n.key,n);return e}function q0(r){let e=H0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Ol()}function F0(){return Ol()}function Ol(){return new Qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const xI=new on(we.comparator),MI=new Ht(we.comparator);function $t(...r){let e=MI;for(const n of r)e=e.add(n);return e}const PI=new Ht(qe);function VI(){return PI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function G0(r){return{integerValue:""+r}}function LI(r,e){return oI(e)?G0(e):sm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function UI(r,e,n){return r instanceof lh?function(o,u){const f={fields:{[I0]:{stringValue:C0},[D0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=em(u)),u&&(f.fields[O0]=u),{mapValue:f}}(n,e):r instanceof Ll?Y0(r,e):r instanceof Ul?$0(r,e):function(o,u){const f=K0(o,u),p=D_(f)+D_(o.Ie);return dp(f)&&dp(o.Ie)?G0(p):sm(o.serializer,p)}(r,e)}function BI(r,e,n){return r instanceof Ll?Y0(r,e):r instanceof Ul?$0(r,e):n}function K0(r,e){return r instanceof uh?function(s){return dp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lh extends Th{}class Ll extends Th{constructor(e){super(),this.elements=e}}function Y0(r,e){const n=Q0(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ul extends Th{constructor(e){super(),this.elements=e}}function $0(r,e){let n=Q0(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class uh extends Th{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function D_(r){return zt(r.integerValue||r.doubleValue)}function Q0(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ll&&o instanceof Ll||s instanceof Ul&&o instanceof Ul?Xa(s.elements,o.elements,pi):s instanceof uh&&o instanceof uh?pi(s.Ie,o.Ie):s instanceof lh&&o instanceof lh}(r.transform,e.transform)}class jI{constructor(e,n){this.version=e,this.transformResults=n}}class Wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bh{}function X0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Z0(r.key,Wi.none()):new Zl(r.key,r.data,Wi.none());{const n=r.data,s=Hn.empty();let o=new Ht(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xs(r.key,s,new qn(o.toArray()),Wi.none())}}function HI(r,e,n){r instanceof Zl?function(o,u,f){const p=o.value.clone(),g=k_(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Xs?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=k_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(W0(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Dl(r,e,n,s){return r instanceof Zl?function(u,f,p,g){if(!jc(u.precondition,f))return p;const y=u.value.clone(),E=x_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Xs?function(u,f,p,g){if(!jc(u.precondition,f))return p;const y=x_(u.fieldTransforms,g,f),E=f.data;return E.setAll(W0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,p){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function qI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,u))}return n||null}function N_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>zI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zl extends bh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends bh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function k_(r,e,n){const s=new Map;lt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,BI(f,p,n[o]))}return s}function x_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,UI(u,f,e))}return s}class Z0 extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Dl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=F0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=X0(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(We.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$t())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>N_(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>N_(n,s))}}class am{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){lt(e.mutations.length===s.length);let o=function(){return xI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new am(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function YI(r){switch(r){case te.OK:return Ie();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie()}}function $I(r){if(r===void 0)return qs("GRPC error has no .code"),te.UNKNOWN;switch(r){case gt.OK:return te.OK;case gt.CANCELLED:return te.CANCELLED;case gt.UNKNOWN:return te.UNKNOWN;case gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case gt.INTERNAL:return te.INTERNAL;case gt.UNAVAILABLE:return te.UNAVAILABLE;case gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case gt.NOT_FOUND:return te.NOT_FOUND;case gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case gt.ABORTED:return te.ABORTED;case gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case gt.DATA_LOSS:return te.DATA_LOSS;default:return Ie()}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Yp([4294967295,4294967295],0);class QI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WI(r,e){return gp(r,e.toTimestamp())}function Ya(r){return lt(!!r),We.fromTimestamp(function(n){const s=Fs(n);return new Mt(s.seconds,s.nanos)}(r))}function J0(r,e){return yp(r,e).canonicalString()}function yp(r,e){const n=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function ZI(r){const e=yt.fromString(r);return lt(aO(e)),e}function vp(r,e){return J0(r.databaseId,e.path)}function JI(r){const e=ZI(r);return e.length===4?yt.emptyPath():tO(e)}function eO(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tO(r){return lt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function M_(r,e,n){return{name:vp(r,e),fields:n.value.mapValue.fields}}function nO(r,e){let n;if(e instanceof Zl)n={update:M_(r,e.key,e.value)};else if(e instanceof Z0)n={delete:vp(r,e.key)};else if(e instanceof Xs)n={update:M_(r,e.key,e.data),updateMask:sO(e.fieldMask)};else{if(!(e instanceof FI))return Ie();n={verify:vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Ie()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:WI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie()}(r,e.precondition)),n}function iO(r,e){return r&&r.length>0?(lt(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ya(o.updateTime):Ya(u);return f.isEqual(We.min())&&(f=Ya(u)),new jI(f,o.transformResults||[])}(n,e))):[]}function rO(r){let e=JI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){lt(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const C=eT(A);return C instanceof Xr&&V0(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(C=>function(V){return new ah(Ha(V.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(C))}(n.orderBy));let p=null;n.limit&&(p=function(A){let C;return C=typeof A=="object"?A.value:A,Zp(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(A){const C=!!A.before,k=A.values||[];return new sh(k,C)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const C=!A.before,k=A.values||[];return new sh(k,C)}(n.endAt)),RI(e,o,f,u,p,"F",g,y)}function eT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(r):r.fieldFilter!==void 0?function(n){return xt.create(Ha(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xr.create(n.compositeFilter.filters.map(s=>eT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(r):Ie()}function Ha(r){return jt.fromServerFormat(r.fieldPath)}function sO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aO(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.Tt=e}}function lO(r){const e=rO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.Tn=new cO}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Qr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class cO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(yt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(tT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new eo(0)}static Un(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LruGarbageCollector",hO=1048576;function L_([r,e],[n,s]){const o=qe(r,n);return o===0?qe(e,s):o}class fO{constructor(e){this.Hn=e,this.buffer=new Ht(L_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();L_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(V_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?ue(V_,"Ignoring IndexedDB error during garbage collection: ",n):await Qp(n)}await this.er(3e5)})}}class pO{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Xp.ae);const s=new fO(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(P_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),ja()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function mO(r,e){return new pO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Dl(s.mutation,o,qn.empty(),Mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,$t()).next(()=>s))}getLocalViewOfDocuments(e,n,s=$t()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ic();return u.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,$t()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=oh();const f=Ol(),p=function(){return Ol()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Dl(E.mutation,y,E.mutation.getFieldMask(),Mt.now())):f.set(y.key,qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return p.set(y,new yO(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const s=Ol();let o=new on((f,p)=>f-p),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||qn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const A=(o.get(p.batchId)||$t()).add(g);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,A=F0();E.forEach(C=>{if(!u.has(C)){const k=X0(n.get(C),s.get(C));k!==null&&A.set(C,k),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return we.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):II(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Ps());let p=Pl,g=u;return f.next(y=>W.forEach(y,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{g=g.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,$t())).next(E=>({batchId:p,changes:q0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(s=>{let o=Ic();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ic();return this.indexManager.getCollectionParents(e,u).next(p=>W.forEach(p,g=>{const y=function(A,C){return new Eh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((A,C)=>{f=f.insert(A,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,jn.newInvalidDocument(E)))});let p=Ic();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Dl(E.mutation,y,qn.empty(),Mt.now()),rm(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ya(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:lO(o.bundledQuery),readTime:Ya(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.overlays=new on(we.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new we(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new on((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Ps(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return W.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new KI(n,s));let u=this.Rr.get(n);u===void 0&&(u=$t(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.sessionToken=di.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Vr=new Ht(kt.mr),this.gr=new Ht(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new kt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new we(new yt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new we(new yt([])),s=new kt(n,e),o=new kt(n,e+1);let u=$t();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return we.comparator(e.key,n.key)||qe(e.Cr,n.Cr)}static pr(e,n){return qe(e.Cr,n.Cr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ht(kt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Wp:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(qe);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;we.isDocumentKey(u)||(u=u.child(""));const f=new kt(new we(u),0);let p=new Ht(qe);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Cr)),!0)},f),W.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){lt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new kt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.kr=e,this.docs=function(){return new on(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let s=oh();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():jn.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=oh();const f=n.path,p=new we(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||iI(nI(E),s)<=0||(o.has(E.key)||rm(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new AO(this)}getSize(e){return W.resolve(this.size)}}class AO extends gO{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.persistence=e,this.Qr=new Qs(n=>nm(n),im),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.$r=0,this.Kr=new om,this.targetCount=0,this.Ur=eo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Xp(0),this.zr=!1,this.zr=!0,this.jr=new TO,this.referenceDelegate=e(this),this.Hr=new wO(this),this.indexManager=new uO,this.remoteDocumentCache=function(o){return new SO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new oO(n),this.Yr=new _O(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new bO(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new RO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class RO extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.ti=new om,this.ni=null}static ri(e){return new lm(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=we.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,We.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.oi=new Qs(s=>lI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mO(this,n)}static ri(e,n){return new ch(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,u.removeEntry(f,We.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=$t(),o=$t();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new um(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mw()?8:aI(Qt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CO;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ja()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(ja()<=Oe.DEBUG&&ue("QueryEngine","Query:",vl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ja()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):W.resolve())}rs(e,n){if(O_(n))return W.resolve(null);let s=Ls(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=$t(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(n,p);return this.ls(n,y,f,g.readTime)?this.rs(e,mp(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,s,o){return O_(n)||o.isEqual(We.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(ja()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vl(n)),this.hs(e,f,n,tI(o,Pl)).next(p=>p))})}cs(e,n){let s=new Ht(DI(e));return n.forEach((o,u)=>{rm(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ja()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",vl(n)),this.ns.getDocumentsMatchingQuery(e,n,Qr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="LocalStore";class DO{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new on(qe),this.Is=new Qs(u=>nm(u),im),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function NO(r,e,n,s){return new DO(r,e,n,s)}async function iT(r,e){const n=Xe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let g=$t();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:p}))})})}function kO(r,e){const n=Xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const A=y.batch,C=A.keys();let k=W.resolve();return C.forEach(V=>{k=k.next(()=>E.getEntry(g,V)).next($=>{const G=y.docVersions.get(V);lt(G!==null),$.version.compareTo(G)<0&&(A.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),k.next(()=>p.mutationQueue.removeMutationBatch(g,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=$t();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function xO(r){const e=Xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function MO(r,e){const n=Xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class U_{constructor(){this.activeTargetIds=VI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PO{constructor(){this.ho=new U_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new U_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="ConnectivityMonitor";class z_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function _p(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=_p(),p=this.So(e,n.toUriEncodedString());ue(Gd,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,p,g,s).then(y=>(ue(Gd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw _h(Gd,`RPC '${e}' ${f} failed with error: `,y,"url: ",p,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=LO[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class zO extends UO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=_p();return new Promise((f,p)=>{const g=new v0;g.setWithCredentials(!0),g.listenOnce(_0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Uc.NO_ERROR:const E=g.getResponseJson();ue(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Uc.TIMEOUT:ue(Kt,`RPC '${e}' ${u} timed out`),p(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const A=g.getStatus();if(ue(Kt,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C==null?void 0:C.error;if(k&&k.status&&k.message){const V=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN}(k.status);p(new _e(V,k.message))}else p(new _e(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _e(te.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Kt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=_p(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=b0(),p=T0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);let C=!1,k=!1;const V=new BO({Fo:G=>{k?ue(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(ue(Kt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),ue(Kt,`RPC '${e}' stream ${o} sending:`,G),A.send(G))},Mo:()=>A.close()}),$=(G,X,ne)=>{G.listen(X,ee=>{try{ne(ee)}catch(me){setTimeout(()=>{throw me},0)}})};return $(A,bl.EventType.OPEN,()=>{k||(ue(Kt,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),$(A,bl.EventType.CLOSE,()=>{k||(k=!0,ue(Kt,`RPC '${e}' stream ${o} transport closed`),V.Ko())}),$(A,bl.EventType.ERROR,G=>{k||(k=!0,_h(Kt,`RPC '${e}' stream ${o} transport errored:`,G),V.Ko(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),$(A,bl.EventType.MESSAGE,G=>{var X;if(!k){const ne=G.data[0];lt(!!ne);const ee=ne,me=(ee==null?void 0:ee.error)||((X=ee[0])===null||X===void 0?void 0:X.error);if(me){ue(Kt,`RPC '${e}' stream ${o} received error:`,me);const ce=me.status;let se=function(S){const I=gt[S];if(I!==void 0)return $I(I)}(ce),D=me.message;se===void 0&&(se=te.INTERNAL,D="Unknown error status: "+ce+" with message "+me.message),k=!0,V.Ko(new _e(se,D)),A.close()}else ue(Kt,`RPC '${e}' stream ${o} received:`,ne),V.Uo(ne)}}),$(p,E0.STAT_EVENT,G=>{G.stat===cp.PROXY?ue(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===cp.NOPROXY&&ue(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r){return new QI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class jO{constructor(e,n,s,o,u,f,p,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new _e(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(j_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HO extends jO{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=iO(e.writeResults,e.commitTime),s=Ya(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=eO(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{}class FO extends qO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,yp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,yp(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(qs(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl="RemoteStore";class KO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{tu(this)&&(ue(Jl,"Restarting streams for network reachability change."),await async function(g){const y=Xe(g);y.W_.add(4),await eu(y),y.j_.set("Unknown"),y.W_.delete(4),await Ah(y)}(this))})}),this.j_=new GO(s,o)}}async function Ah(r){if(tu(r))for(const e of r.G_)await e(!0)}async function eu(r){for(const e of r.G_)await e(!1)}function tu(r){return Xe(r).W_.size===0}async function sT(r,e,n){if(!Wl(e))throw e;r.W_.add(1),await eu(r),r.j_.set("Offline"),n||(n=()=>xO(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Jl,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Ah(r)})}function aT(r,e){return e().catch(n=>sT(r,n,e))}async function wh(r){const e=Xe(r),n=Wr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Wp;for(;YO(e);)try{const o=await MO(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,$O(e,o)}catch(o){await sT(e,o)}oT(e)&&lT(e)}function YO(r){return tu(r)&&r.K_.length<10}function $O(r,e){r.K_.push(e);const n=Wr(r);n.c_()&&n.b_&&n.S_(e.mutations)}function oT(r){return tu(r)&&!Wr(r).u_()&&r.K_.length>0}function lT(r){Wr(r).start()}async function QO(r){Wr(r).C_()}async function XO(r){const e=Wr(r);for(const n of r.K_)e.S_(n.mutations)}async function WO(r,e,n){const s=r.K_.shift(),o=am.from(s,e,n);await aT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await wh(r)}async function ZO(r,e){e&&Wr(r).b_&&await async function(s,o){if(function(f){return YI(f)&&f!==te.ABORTED}(o.code)){const u=s.K_.shift();Wr(s).h_(),await aT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wh(s)}}(r,e),oT(r)&&lT(r)}async function H_(r,e){const n=Xe(r);n.asyncQueue.verifyOperationInProgress(),ue(Jl,"RemoteStore received new credentials");const s=tu(n);n.W_.add(3),await eu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ah(n)}async function JO(r,e){const n=Xe(r);e?(n.W_.delete(2),await Ah(n)):e||(n.W_.add(2),await eu(n),n.j_.set("Unknown"))}function Wr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Xe(n);return u.M_(),new HO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:QO.bind(null,r),Lo:ZO.bind(null,r),D_:XO.bind(null,r),v_:WO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await wh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(Jl,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new cm(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uT(r,e){if(qs("AsyncQueue",`${e}: ${r}`),Wl(r))return new _e(te.UNAVAILABLE,`${e}: ${r}`);throw r}class eD{constructor(){this.queries=q_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Xe(n),u=o.queries;o.queries=q_(),u.forEach((f,p)=>{for(const g of p.ta)g.onError(s)})})(this,new _e(te.ABORTED,"Firestore shutting down"))}}function q_(){return new Qs(r=>j0(r),z0)}function tD(r){r.ia.forEach(e=>{e.next()})}var F_,G_;(G_=F_||(F_={}))._a="default",G_.Cache="cache";const nD="SyncEngine";class iD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Qs(p=>j0(p),z0),this.qa=new Map,this.Qa=new Set,this.$a=new on(we.comparator),this.Ka=new Map,this.Ua=new om,this.Wa={},this.Ga=new Map,this.za=eo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rD(r,e,n){const s=lD(r);try{const o=await function(f,p){const g=Xe(f),y=Mt.now(),E=p.reduce((k,V)=>k.add(V.key),$t());let A,C;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=oh(),$=$t();return g.ds.getEntries(k,E).next(G=>{V=G,V.forEach((X,ne)=>{ne.isValidDocument()||($=$.add(X))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,V)).next(G=>{A=G;const X=[];for(const ne of p){const ee=qI(ne,A.get(ne.key).overlayedDocument);ee!=null&&X.push(new Xs(ne.key,ee,x0(ee.value.mapValue),Wi.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,X,p)}).next(G=>{C=G;const X=G.applyToLocalDocumentSet(A,$);return g.documentOverlayCache.saveOverlays(k,G.batchId,X)})}).then(()=>({batchId:C.batchId,changes:q0(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new on(qe)),y=y.insert(p,g),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Rh(s,o.changes),await wh(s.remoteStore)}catch(o){const u=uT(o,"Failed to persist write");n.reject(u)}}function K_(r,e,n){const s=Xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Xe(f);g.onlineState=p;let y=!1;g.queries.forEach((E,A)=>{for(const C of A.ta)C.sa(p)&&(y=!0)}),y&&tD(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sD(r,e){const n=Xe(r),s=e.batch.batchId;try{const o=await kO(n.localStore,e);hT(n,s,null),cT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rh(n,o)}catch(o){await Qp(o)}}async function aD(r,e,n){const s=Xe(r);try{const o=await function(f,p){const g=Xe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(A=>(lt(A!==null),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);hT(s,e,n),cT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Rh(s,o)}catch(o){await Qp(o)}}function cT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function hT(r,e,n){const s=Xe(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}async function Rh(r,e,n){const s=Xe(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,g)=>{f.push(s.Ha(g,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=um.Yi(g.targetId,y);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const E=Xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(y,C=>W.forEach(C.Hi,k=>E.persistence.referenceDelegate.addReference(A,C.targetId,k)).next(()=>W.forEach(C.Ji,k=>E.persistence.referenceDelegate.removeReference(A,C.targetId,k)))))}catch(A){if(!Wl(A))throw A;ue(OO,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const k=E.Ts.get(C),V=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(C,$)}}}(s.localStore,u))}async function oD(r,e){const n=Xe(r);if(!n.currentUser.isEqual(e)){ue(nD,"User change. New user:",e.toKey());const s=await iT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(g=>{g.reject(new _e(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rh(n,s.Rs)}}function lD(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return NO(this.persistence,new IO,e.initialUser,this.serializer)}Xa(e){return new nT(lm.ri,this.serializer)}Za(e){return new PO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class uD extends hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){lt(this.persistence.referenceDelegate instanceof ch);const s=this.persistence.referenceDelegate.garbageCollector;return new dO(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new nT(s=>ch.ri(s,n),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await JO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eD}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),s=function(u){return new zO(u)}(e.databaseInfo);return function(u,f,p,g){return new FO(u,f,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new KO(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>K_(this.syncEngine,n,0),function(){return z_.D()?new z_:new VO}())}createSyncEngine(e,n){return function(o,u,f,p,g,y,E){const A=new iD(o,u,f,p,g,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Xe(o);ue(Jl,"RemoteStore shutting down."),u.W_.add(5),await eu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class cD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=A0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=uT(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yd(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await iT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Y_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hD(r);ue(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>H_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>H_(e.remoteStore,o)),r._onlineComponents=e}async function hD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Zr,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;_h("Error using user provided cache. Falling back to memory cache: "+n),await Yd(r,new hh)}}else ue(Zr,"Using default OfflineComponentProvider"),await Yd(r,new uD(void 0));return r._offlineComponents}async function fD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Zr,"Using user provided OnlineComponentProvider"),await Y_(r,r._uninitializedComponentsProvider._online)):(ue(Zr,"Using default OnlineComponentProvider"),await Y_(r,new Ep))),r._onlineComponents}function dD(r){return fD(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r,e,n){if(!n)throw new _e(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mD(r,e,n,s){if(e===!0&&s===!0)throw new _e(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Q_(r){if(!we.isDocumentKey(r))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie()}function Tp(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(r);throw new _e(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",X_=!0;class W_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=X_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:X_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hO)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YC;switch(s.type){case"firstParty":return new WC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$_.get(n);s&&(ue("ComponentProvider","Removing Datastore"),$_.delete(n),s.terminate())}(this),Promise.resolve()}}function gD(r,e,n,s={}){var o;const u=(r=Tp(r,fm))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==dT&&u.host!==p&&_h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!Us(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Yt.MOCK_USER;else{y=lw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(A)}r._authCredentials=new $C(new S0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dm(this.firestore,e,this._query)}}class Zi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class Bl extends dm{constructor(e,n,s){super(e,n,CI(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new we(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function Z_(r,e,...n){if(r=Gn(r),arguments.length===1&&(e=A0.newId()),pD("doc","path",e),r instanceof fm){const s=yt.fromString(e,...n);return Q_(s),new Zi(r,null,new we(s))}{if(!(r instanceof Zi||r instanceof Bl))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return Q_(s),new Zi(r.firestore,r instanceof Bl?r.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rT(this,"async_queue_retry"),this.bu=()=>{const s=Kd();s&&ue(J_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Wl(e))throw e;ue(J_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw qs("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=cm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class pT extends fm{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function yD(r,e){const n=typeof r=="object"?r:ME(),s=typeof r=="string"?r:ih,o=Lp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aw("firestore");u&&gD(o,...u)}return o}function vD(r){if(r._terminated)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_D(r),r._firestoreClient}function _D(r){var e,n,s;const o=r._freezeSettings(),u=function(p,g,y,E){return new fI(p,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,fT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new cD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(di.fromBase64String(e))}catch(n){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^__.*__$/;class TD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}function _T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class pm{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_T(this.Lu)&&ED.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sh(e)}ju(e,n,s,o=!1){return new pm({Lu:e,methodName:n,zu:s,path:jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SD(r){const e=r._freezeSettings(),n=Sh(r._databaseId);return new bD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function AD(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);ST("Data must be an object, but it was:",f,s);const p=TT(s,f);let g,y;if(u.merge)g=new qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const C=wD(e,A,n);if(!f.contains(C))throw new _e(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);ID(E,C)||E.push(C)}g=new qn(E),y=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=f.fieldTransforms;return new TD(new Hn(p),g,y)}function ET(r,e){if(bT(r=Gn(r)))return ST("Unsupported field value:",e,r),TT(r,e);if(r instanceof gT)return function(s,o){if(!_T(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let g=ET(p,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Mt.fromDate(s);return{timestampValue:gp(o.serializer,u)}}if(s instanceof Mt){const u=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gp(o.serializer,u)}}if(s instanceof yT)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zl)return{bytesValue:XI(o.serializer,s._byteString)};if(s instanceof Zi){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:J0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vT)return function(f,p){return{mapValue:{fields:{[N0]:{stringValue:k0},[hp]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.Wu("VectorValues must only contain numeric values.");return sm(p.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hm(s)}`)}(r,e)}function TT(r,e){const n={};return R0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(r,(s,o)=>{const u=ET(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Mt||r instanceof yT||r instanceof zl||r instanceof Zi||r instanceof gT||r instanceof vT)}function ST(r,e,n){if(!bT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=hm(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function wD(r,e,n){if((e=Gn(e))instanceof mT)return e._internalPath;if(typeof e=="string")return CD(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function CD(r,e,n){if(e.search(RD)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mT(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new _e(te.INVALID_ARGUMENT,p+r+g)}function ID(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}function $d(r,e,n){r=Tp(r,Zi);const s=Tp(r.firestore,pT),o=OD(r.converter,e);return DD(s,[AD(SD(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Wi.none())])}function DD(r,e){return function(s,o){const u=new Vs;return s.asyncQueue.enqueueAndForget(async()=>rD(await dD(s),o,u)),u.promise}(vD(r),e)}(function(e,n=!0){(function(o){so=o})(io),Qa(new Bs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new pT(new QC(s.getProvider("auth-internal")),new ZC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Kr(m_,g_,e),Kr(m_,g_,"esm2017")})();const ND={apiKey:"AIzaSyAF8dJUDIRiArspouDLYhFZ1TiaIqmFjJs",authDomain:"nerts-cba4c.firebaseapp.com",projectId:"nerts-cba4c",storageBucket:"nerts-cba4c.firebasestorage.app",messagingSenderId:"451130228130",appId:"1:451130228130:web:60e7ee5fb746633ca6c6fb",measurementId:"G-CTPCKHDBR0"},AT=xE(ND),wT=GC(AT),tE=yD(AT),mi=Object.create(null);mi.open="0";mi.close="1";mi.ping="2";mi.pong="3";mi.message="4";mi.upgrade="5";mi.noop="6";const Hc=Object.create(null);Object.keys(mi).forEach(r=>{Hc[mi[r]]=r});const bp={type:"error",data:"parser error"},RT=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",CT=typeof ArrayBuffer=="function",IT=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,mm=({type:r,data:e},n,s)=>RT&&e instanceof Blob?n?s(e):nE(e,s):CT&&(e instanceof ArrayBuffer||IT(e))?n?s(e):nE(new Blob([e]),s):s(mi[r]+(e||"")),nE=(r,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(r)};function iE(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let Qd;function kD(r,e){if(RT&&r.data instanceof Blob)return r.data.arrayBuffer().then(iE).then(e);if(CT&&(r.data instanceof ArrayBuffer||IT(r.data)))return e(iE(r.data));mm(r,!1,n=>{Qd||(Qd=new TextEncoder),e(Qd.encode(n))})}const rE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<rE.length;r++)Sl[rE.charCodeAt(r)]=r;const xD=r=>{let e=r.length*.75,n=r.length,s,o=0,u,f,p,g;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const y=new ArrayBuffer(e),E=new Uint8Array(y);for(s=0;s<n;s+=4)u=Sl[r.charCodeAt(s)],f=Sl[r.charCodeAt(s+1)],p=Sl[r.charCodeAt(s+2)],g=Sl[r.charCodeAt(s+3)],E[o++]=u<<2|f>>4,E[o++]=(f&15)<<4|p>>2,E[o++]=(p&3)<<6|g&63;return y},MD=typeof ArrayBuffer=="function",gm=(r,e)=>{if(typeof r!="string")return{type:"message",data:OT(r,e)};const n=r.charAt(0);return n==="b"?{type:"message",data:PD(r.substring(1),e)}:Hc[n]?r.length>1?{type:Hc[n],data:r.substring(1)}:{type:Hc[n]}:bp},PD=(r,e)=>{if(MD){const n=xD(r);return OT(n,e)}else return{base64:!0,data:r}},OT=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},DT="",VD=(r,e)=>{const n=r.length,s=new Array(n);let o=0;r.forEach((u,f)=>{mm(u,!1,p=>{s[f]=p,++o===n&&e(s.join(DT))})})},LD=(r,e)=>{const n=r.split(DT),s=[];for(let o=0;o<n.length;o++){const u=gm(n[o],e);if(s.push(u),u.type==="error")break}return s};function UD(){return new TransformStream({transform(r,e){kD(r,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const u=new DataView(o.buffer);u.setUint8(0,126),u.setUint16(1,s)}else{o=new Uint8Array(9);const u=new DataView(o.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(s))}r.data&&typeof r.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(n)})}})}let Xd;function Dc(r){return r.reduce((e,n)=>e+n.length,0)}function Nc(r,e){if(r[0].length===e)return r.shift();const n=new Uint8Array(e);let s=0;for(let o=0;o<e;o++)n[o]=r[0][s++],s===r[0].length&&(r.shift(),s=0);return r.length&&s<r[0].length&&(r[0]=r[0].slice(s)),n}function BD(r,e){Xd||(Xd=new TextDecoder);const n=[];let s=0,o=-1,u=!1;return new TransformStream({transform(f,p){for(n.push(f);;){if(s===0){if(Dc(n)<1)break;const g=Nc(n,1);u=(g[0]&128)===128,o=g[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Dc(n)<2)break;const g=Nc(n,2);o=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),s=3}else if(s===2){if(Dc(n)<8)break;const g=Nc(n,8),y=new DataView(g.buffer,g.byteOffset,g.length),E=y.getUint32(0);if(E>Math.pow(2,21)-1){p.enqueue(bp);break}o=E*Math.pow(2,32)+y.getUint32(4),s=3}else{if(Dc(n)<o)break;const g=Nc(n,o);p.enqueue(gm(u?g:Xd.decode(g),e)),s=0}if(o===0||o>r){p.enqueue(bp);break}}}})}const NT=4;function vt(r){if(r)return zD(r)}function zD(r){for(var e in vt.prototype)r[e]=vt.prototype[e];return r}vt.prototype.on=vt.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};vt.prototype.once=function(r,e){function n(){this.off(r,n),e.apply(this,arguments)}return n.fn=e,this.on(r,n),this};vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+r];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===e||s.fn===e){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+r],this};vt.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+r],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,e)}return this};vt.prototype.emitReserved=vt.prototype.emit;vt.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};vt.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Ch=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),kn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jD="arraybuffer";function kT(r,...e){return e.reduce((n,s)=>(r.hasOwnProperty(s)&&(n[s]=r[s]),n),{})}const HD=kn.setTimeout,qD=kn.clearTimeout;function Ih(r,e){e.useNativeTimers?(r.setTimeoutFn=HD.bind(kn),r.clearTimeoutFn=qD.bind(kn)):(r.setTimeoutFn=kn.setTimeout.bind(kn),r.clearTimeoutFn=kn.clearTimeout.bind(kn))}const FD=1.33;function GD(r){return typeof r=="string"?KD(r):Math.ceil((r.byteLength||r.size)*FD)}function KD(r){let e=0,n=0;for(let s=0,o=r.length;s<o;s++)e=r.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function xT(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function YD(r){let e="";for(let n in r)r.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e}function $D(r){let e={},n=r.split("&");for(let s=0,o=n.length;s<o;s++){let u=n[s].split("=");e[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return e}class QD extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ym extends vt{constructor(e){super(),this.writable=!1,Ih(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new QD(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=gm(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=YD(e);return n.length?"?"+n:""}}class XD extends ym{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};LD(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,VD(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xT()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let MT=!1;try{MT=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const WD=MT;function ZD(){}class JD extends XD{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(o,u)=>{this.onError("xhr post error",o,u)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let $a=class qc extends vt{constructor(e,n,s){super(),this.createRequest=e,Ih(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=kT(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=qc.requestsCount++,qc.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ZD,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete qc.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};$a.requestsCount=0;$a.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sE);else if(typeof addEventListener=="function"){const r="onpagehide"in kn?"pagehide":"unload";addEventListener(r,sE,!1)}}function sE(){for(let r in $a.requests)$a.requests.hasOwnProperty(r)&&$a.requests[r].abort()}const eN=function(){const r=PT({xdomain:!1});return r&&r.responseType!==null}();class tN extends JD{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=eN&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $a(PT,this.uri(),e)}}function PT(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||WD))return new XMLHttpRequest}catch{}if(!e)try{return new kn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const VT=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class nN extends ym{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=VT?{}:kT(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],o=n===e.length-1;mm(s,this.supportsBinary,u=>{try{this.doWrite(s,u)}catch{}o&&Ch(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xT()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Wd=kn.WebSocket||kn.MozWebSocket;class iN extends nN{createSocket(e,n,s){return VT?new Wd(e,n,s):n?new Wd(e,n):new Wd(e)}doWrite(e,n){this.ws.send(n)}}class rN extends ym{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=BD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),o=UD();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const u=()=>{s.read().then(({done:p,value:g})=>{p||(this.onPacket(g),u())}).catch(p=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],o=n===e.length-1;this._writer.write(s).then(()=>{o&&Ch(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const sN={websocket:iN,webtransport:rN,polling:tN},aN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sp(r){if(r.length>8e3)throw"URI too long";const e=r,n=r.indexOf("["),s=r.indexOf("]");n!=-1&&s!=-1&&(r=r.substring(0,n)+r.substring(n,s).replace(/:/g,";")+r.substring(s,r.length));let o=aN.exec(r||""),u={},f=14;for(;f--;)u[oN[f]]=o[f]||"";return n!=-1&&s!=-1&&(u.source=e,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=lN(u,u.path),u.queryKey=uN(u,u.query),u}function lN(r,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function uN(r,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,u){o&&(n[o]=u)}),n}const Ap=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fc=[];Ap&&addEventListener("offline",()=>{Fc.forEach(r=>r())},!1);class Yr extends vt{constructor(e,n){if(super(),this.binaryType=jD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Sp(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Sp(n.host).host);Ih(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const o=s.prototype.name;this.transports.push(o),this._transportsByName[o]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$D(this.opts.query)),Ap&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=NT,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Yr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Yr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=GD(o)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ch(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const u={type:e,data:n,options:s};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Yr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ap&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Fc.indexOf(this._offlineEventListener);s!==-1&&Fc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Yr.protocol=NT;class cN extends Yr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Yr.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",A=>{if(!s)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Yr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(E(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=n.name,this.emitReserved("upgradeError",C)}}))};function u(){s||(s=!0,E(),n.close(),n=null)}const f=A=>{const C=new Error("probe error: "+A);C.transport=n.name,u(),this.emitReserved("upgradeError",C)};function p(){f("transport closed")}function g(){f("socket closed")}function y(A){n&&A.name!==n.name&&u()}const E=()=>{n.removeListener("open",o),n.removeListener("error",f),n.removeListener("close",p),this.off("close",g),this.off("upgrading",y)};n.once("open",o),n.once("error",f),n.once("close",p),this.once("close",g),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let hN=class extends cN{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(o=>sN[o]).filter(o=>!!o)),super(e,s)}};function fN(r,e="",n){let s=r;n=n||typeof location<"u"&&location,r==null&&(r=n.protocol+"//"+n.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=n.protocol+r:r=n.host+r),/^(https?|wss?):\/\//.test(r)||(typeof n<"u"?r=n.protocol+"//"+r:r="https://"+r),s=Sp(r)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const u=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+u+":"+s.port+e,s.href=s.protocol+"://"+u+(n&&n.port===s.port?"":":"+s.port),s}const dN=typeof ArrayBuffer=="function",pN=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,LT=Object.prototype.toString,mN=typeof Blob=="function"||typeof Blob<"u"&&LT.call(Blob)==="[object BlobConstructor]",gN=typeof File=="function"||typeof File<"u"&&LT.call(File)==="[object FileConstructor]";function vm(r){return dN&&(r instanceof ArrayBuffer||pN(r))||mN&&r instanceof Blob||gN&&r instanceof File}function Gc(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let n=0,s=r.length;n<s;n++)if(Gc(r[n]))return!0;return!1}if(vm(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Gc(r.toJSON(),!0);for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&Gc(r[n]))return!0;return!1}function yN(r){const e=[],n=r.data,s=r;return s.data=wp(n,e),s.attachments=e.length,{packet:s,buffers:e}}function wp(r,e){if(!r)return r;if(vm(r)){const n={_placeholder:!0,num:e.length};return e.push(r),n}else if(Array.isArray(r)){const n=new Array(r.length);for(let s=0;s<r.length;s++)n[s]=wp(r[s],e);return n}else if(typeof r=="object"&&!(r instanceof Date)){const n={};for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=wp(r[s],e));return n}return r}function vN(r,e){return r.data=Rp(r.data,e),delete r.attachments,r}function Rp(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let n=0;n<r.length;n++)r[n]=Rp(r[n],e);else if(typeof r=="object")for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(r[n]=Rp(r[n],e));return r}const _N=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],EN=5;var Ne;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class TN{constructor(e){this.replacer=e}encode(e){return(e.type===Ne.EVENT||e.type===Ne.ACK)&&Gc(e)?this.encodeAsBinary({type:e.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ne.BINARY_EVENT||e.type===Ne.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=yN(e),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function aE(r){return Object.prototype.toString.call(r)==="[object Object]"}class _m extends vt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Ne.BINARY_EVENT;s||n.type===Ne.BINARY_ACK?(n.type=s?Ne.EVENT:Ne.ACK,this.reconstructor=new bN(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(vm(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Ne[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Ne.BINARY_EVENT||s.type===Ne.BINARY_ACK){const u=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const f=e.substring(u,n);if(f!=Number(f)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(e.charAt(n+1)==="/"){const u=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(u,n)}else s.nsp="/";const o=e.charAt(n+1);if(o!==""&&Number(o)==o){const u=n+1;for(;++n;){const f=e.charAt(n);if(f==null||Number(f)!=f){--n;break}if(n===e.length)break}s.id=Number(e.substring(u,n+1))}if(e.charAt(++n)){const u=this.tryParse(e.substr(n));if(_m.isPayloadValid(s.type,u))s.data=u;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ne.CONNECT:return aE(n);case Ne.DISCONNECT:return n===void 0;case Ne.CONNECT_ERROR:return typeof n=="string"||aE(n);case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&_N.indexOf(n[0])===-1);case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bN{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=vN(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const SN=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_m,Encoder:TN,get PacketType(){return Ne},protocol:EN},Symbol.toStringTag,{value:"Module"}));function zn(r,e,n){return r.on(e,n),function(){r.off(e,n)}}const AN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class UT extends vt{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[zn(e,"open",this.onopen.bind(this)),zn(e,"packet",this.onpacket.bind(this)),zn(e,"error",this.onerror.bind(this)),zn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,o,u;if(AN.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const f={type:Ne.EVENT,data:n};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const E=this.ids++,A=n.pop();this._registerAckCallback(E,A),f.id=E}const p=(o=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||o===void 0?void 0:o.writable,g=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!p||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(e,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[e]=n;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===e&&this.sendBuffer.splice(p,1);n.call(this,new Error("operation has timed out"))},o),f=(...p)=>{this.io.clearTimeoutFn(u),n.apply(this,p)};f.withError=!0,this.acks[e]=f}emitWithAck(e,...n){return new Promise((s,o)=>{const u=(f,p)=>f?o(f):s(p);u.withError=!0,n.push(u),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...u)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...u)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ne.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ne.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(e);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(e);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:Ne.ACK,id:e,data:o}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function oo(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}oo.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-n:r+n}return Math.min(r,this.max)|0};oo.prototype.reset=function(){this.attempts=0};oo.prototype.setMin=function(r){this.ms=r};oo.prototype.setMax=function(r){this.max=r};oo.prototype.setJitter=function(r){this.jitter=r};class Cp extends vt{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ih(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new oo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const o=n.parser||SN;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new hN(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=zn(n,"open",function(){s.onopen(),e&&e()}),u=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),e?e(p):this.maybeReconnectOnOpen()},f=zn(n,"error",u);if(this._timeout!==!1){const p=this._timeout,g=this.setTimeoutFn(()=>{o(),u(new Error("timeout")),n.close()},p);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(o),this.subs.push(f),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(zn(e,"ping",this.onping.bind(this)),zn(e,"data",this.ondata.bind(this)),zn(e,"error",this.onerror.bind(this)),zn(e,"close",this.onclose.bind(this)),zn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ch(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new UT(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _l={};function Kc(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const n=fN(r,e.path||"/socket.io"),s=n.source,o=n.id,u=n.path,f=_l[o]&&u in _l[o].nsps,p=e.forceNew||e["force new connection"]||e.multiplex===!1||f;let g;return p?g=new Cp(s,e):(_l[o]||(_l[o]=new Cp(s,e)),g=_l[o]),n.query&&!e.query&&(e.query=n.queryKey),g.socket(n.path,e)}Object.assign(Kc,{Manager:Cp,Socket:UT,io:Kc,connect:Kc});const wN=r=>{r.on("lobbyCreated",({lobbyID:e})=>console.log(`Lobby ${e} created.`)),r.on("playerJoined",({playerID:e})=>console.log(`New player ${e} joined.`)),r.on("lobbyNotFound",e=>{console.log(e)})},RN=(r,e)=>{r.on("gameStarted",n=>{console.log(n),e(n)})},BT=q.createContext(null),CN=()=>window.location.hostname!="localhost"?window.location.origin:"http://localhost:3000",IN=({children:r})=>{const[e,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(null),p=y=>{e&&e.disconnect();const E=CN(),A=Kc(E);return console.log(`SocketContext connected to ${E}`),A.on("connect",()=>{console.log(`User ${y} is logged in and connected.`)}),wN(A),RN(A,o),n(A),f(y),A},g=()=>{e&&(console.log("Disconnecting socket"),e.disconnect(),n(null))};return q.useEffect(()=>{if(!e)return;const y=({gameState:E})=>{o({gameState:E})};return e.on("gameStateUpdated",y),()=>{e.off("gameStateUpdated",y)}},[e]),B.jsx(BT.Provider,{value:{socket:e,initializeSocket:p,disconnectSocket:g,gameState:s,userID:u},children:r})},Oh=()=>q.useContext(BT);function Dh({title:r,message:e,onClose:n}){return B.jsx("div",{className:"popup-overlay",children:B.jsxs("div",{className:"popup",children:[B.jsx("h2",{children:r}),B.jsx("p",{children:e}),B.jsx("button",{onClick:n,children:"Dismiss"})]})})}function ON(){const r=Ys(),[e,n]=q.useState(""),[s,o]=q.useState(""),[u,f]=q.useState(null),{initializeSocket:p}=Oh(),g=async E=>{if(E.preventDefault(),!e.trim()&&!s.trim()){f({title:"Input Error",message:"Please enter both username and password."});return}if(!e.trim()){f({title:"Input Error",message:"Please enter your username."});return}if(!s.trim()){f({title:"Input Error",message:"Please enter your password."});return}let A=null;try{A=await k1(wT,e,s)}catch{f({title:"Login Error",message:"Invalid username or password."});return}if(A){const C=A.user.uid;p(C),r("/home")}};q.useEffect(()=>{let E=!1;const A=k=>{k.key==="Enter"&&!E&&(E=!0,e&&s&&g(k))},C=k=>{k.key==="Enter"&&(E=!1)};return document.addEventListener("keydown",A),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",A),document.removeEventListener("keyup",C)}},[e,s]);const y=()=>{r("/signup")};return B.jsxs("div",{className:"main centered",children:[B.jsx(Mp,{}),B.jsxs("div",{id:"login-signup",children:[B.jsx("h3",{className:"form-title-landing",children:"Login"}),B.jsxs("form",{onSubmit:g,className:"login-form",children:[B.jsx(Ms,{type:"text",placeholder:"Email/Username",value:e,centered:!1,onChange:E=>n(E.target.value),max:30}),B.jsx("div",{className:"spacer-1vw"}),B.jsxs("div",{className:"password-row",children:[B.jsx(Ms,{type:"password",placeholder:"Password",value:s,centered:!1,onChange:E=>o(E.target.value),max:30}),B.jsx(Fn,{back:!1,absolute:!1,text:"Next",onClick:g})]})]}),B.jsxs("div",{className:"signup-link",children:[B.jsx("p",{children:"Don't have an account?"}),B.jsx(Fn,{back:!1,absolute:!1,text:"Sign Up!",onClick:y})]})]}),u&&B.jsx(Dh,{title:u.title,message:u.message,onClose:()=>f(null)})]})}function DN(){const r=Ys(),[e,n]=q.useState(""),[s,o]=q.useState(""),[u,f]=q.useState(""),[p,g]=q.useState(""),{initializeSocket:y}=Oh(),[E,A]=q.useState(null),C=async k=>{if(k.preventDefault(),!e.trim()||!s.trim()||!u.trim()||!p.trim()){A({title:"Missing Fields",message:"Please fill out all fields."});return}if(u.length<10){A({title:"Password Requirements",message:"Password must be at least 10 characters long."});return}if(u!==p){A({title:"Password Mismatch",message:"Passwords do not match."});return}try{const $=(await N1(wT,e,u)).user;y($.uid);const G={uid:$.uid,email:$.email,username:s};await $d(userRef,G),console.log("User document created in Firestore");const X=Z_(tE,"users",$.uid,"statistics","data");await $d(X,{gamesPlayed:0,wins:0,losses:0,cards_played:0,time_played:0,nerts_called:0}),console.log("User statistics subcollection created in Firestore");const ee=Z_(tE,"users",$.uid,"settings","data");await $d(ee,{music_on:1,sfx_on:1,volume:100,card_color:1,tab_hotkey:1,colorblind_mode:0}),console.log("User settings subcollection created in Firestore"),r("/home")}catch(V){A({title:"Signup Error",message:V.message})}};return q.useEffect(()=>{let k=!1;const V=G=>{G.key==="Enter"&&!k&&(k=!0,e&&s&&u&&p&&C(G))},$=G=>{G.key==="Enter"&&(k=!1)};return document.addEventListener("keydown",V),document.addEventListener("keyup",$),()=>{document.removeEventListener("keydown",V),document.removeEventListener("keyup",$)}},[e,s,u,p]),B.jsxs("div",{className:"main centered",children:[B.jsx(Mp,{}),B.jsxs("div",{id:"login-signup",className:"su",children:[B.jsx("h3",{className:"form-title",children:"Sign Up"}),B.jsxs("form",{onSubmit:C,className:"signup-form",children:[B.jsx(Ms,{type:"text",placeholder:"Email Address",value:e,onChange:k=>n(k.target.value),centered:!1,max:30}),B.jsx("div",{className:"spacer-1vw"}),B.jsx(Ms,{type:"text",placeholder:"Username",value:s,onChange:k=>o(k.target.value),centered:!1,max:30}),B.jsx("div",{className:"spacer-1vw"}),B.jsx(Ms,{type:"password",placeholder:"Password",value:u,onChange:k=>f(k.target.value),centered:!1,max:20}),B.jsx("div",{className:"spacer-1vw"}),B.jsx(Ms,{type:"password",placeholder:"Confirm Password",value:p,onChange:k=>g(k.target.value),centered:!1,max:20}),B.jsx("div",{className:"spacer-1vw"}),B.jsxs("div",{className:"button-row",children:[B.jsx(Fn,{back:!0,absolute:!1,text:"Back"}),B.jsx("div",{className:"spacer-1vw"}),B.jsx("div",{className:"spacer-1vw"}),B.jsx("div",{className:"spacer-1vw"}),B.jsx(Fn,{back:!1,absolute:!1,text:"Next",onClick:C})]})]})]}),E&&B.jsx(Dh,{title:E.title,message:E.message,onClose:()=>A(null)})]})}const zT="/assets/user-B7wip5Mj.png",NN=()=>{const r=Ys(),e="Username";Fe.loadSound("click",Fl);function n(){Fe.playSound("click")}const s=()=>{r("/user")};return B.jsxs("div",{className:"user-box",onMouseEnter:n,tabIndex:"0",onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&s()},children:[B.jsx("div",{className:"icon",onClick:s,children:B.jsx("img",{src:zT,alt:"User Profile"})}),B.jsx("div",{className:"username",onClick:s,children:e})]})},Em="/assets/background-D9HhYvKc.mp3",kN="/assets/sound_on-X6BtLc6N.png",xN="/assets/sound_off-CRxcnv8g.png",MN="/assets/music_on-CCQhq3TH.png",PN="/assets/music_off-CXfM_Apq.png",VN=()=>{const[r,e]=q.useState(JSON.parse(localStorage.getItem("isSoundOn"))??!0),[n,s]=q.useState(JSON.parse(localStorage.getItem("isMusicOn"))??!0);Fe.loadSound("click",Fl);function o(){Fe.playSound("click")}q.useEffect(()=>{localStorage.setItem("isSoundOn",JSON.stringify(r)),localStorage.setItem("isMusicOn",JSON.stringify(n)),r?Fe.enableSounds():Fe.disableSounds(),n?(!Fe.backgroundMusic||Fe.backgroundMusic.paused)&&Fe.playBackgroundMusic(Em):Fe.stopBackgroundMusic()},[r,n]);const u=()=>{e(p=>!p)},f=()=>{s(p=>!p)};return B.jsxs("div",{className:"sound-control",children:[B.jsx("div",{className:"sound-toggle",onClick:u,onMouseEnter:o,tabIndex:"0",onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&u()},children:B.jsx("img",{src:r?kN:xN,alt:"Sound toggle"})}),B.jsx("div",{className:"music-toggle",onClick:f,onMouseEnter:o,tabIndex:"0",onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&f()},children:B.jsx("img",{src:n?MN:PN,alt:"Music toggle"})})]})};function LN(){const r=Ys();Fe.loadSound("click",Fl),!Fe.backgroundMusic&&localStorage.getItem("isMusicOn")=="true"&&Fe.playBackgroundMusic(Em);function e(){Fe.playSound("click")}return B.jsxs("div",{className:"main centered",children:[B.jsx(Mp,{}),B.jsx("h1",{onClick:()=>r("/host"),onMouseEnter:e,tabIndex:"0",onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&r("/host")},children:"PLAY"}),B.jsx("h2",{onClick:()=>r("/rules"),onMouseEnter:e,tabIndex:"0",onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&r("/rules")},children:"RULES"}),B.jsx("h2",{onClick:()=>r("/settings"),onMouseEnter:e,tabIndex:"0",onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&r("/settings")},children:"SETTINGS"}),B.jsx(NN,{}),B.jsx(VN,{})]})}const Al=({suit:r,rank:e,faceDown:n,onClick:s,locked:o=!1,style:u,playerid:f})=>{const p=n?"/cards/Back.png":`/cards/${e}_${r}.png`;return B.jsx("img",{className:`card ${o?"locked":"unlocked"}`,src:p,alt:n?"Card back":`Card ${e} of ${r}`,onClick:o?void 0:s,style:u,"data-suit":r,"data-rank":e,"data-playerid":f})};function oE({corner:r,playerId:e,hand:n,userID:s,onPlaySpotClick:o,onCardClick:u}){const f=e===s,p=()=>{var A;const E=((A=n==null?void 0:n.nertsPile)==null?void 0:A.cards)||[];return E.map((C,k)=>B.jsx(Al,{suit:C.suit,rank:C.rank,faceDown:k!==E.length-1,locked:k!==E.length-1||!f,style:{"--i":k},onClick:u?()=>u(C,!0,e):void 0,playerid:e},`nerts-${k}`))},g=E=>{var C,k;return(((k=(C=n==null?void 0:n.buildPiles)==null?void 0:C[E])==null?void 0:k.cards)||[]).map((V,$)=>B.jsx(Al,{suit:V.suit,rank:V.rank,faceDown:!1,locked:!f,style:{"--i":$},onClick:u?()=>u(V,!0,e):void 0,playerid:e},`work-${E}-${$}`))},y=()=>{var C,k;const E=((C=n==null?void 0:n.drawPile)==null?void 0:C.cards)||[],A=((k=n==null?void 0:n.drawPile)==null?void 0:k.currentIndex)??-1;return E.map((V,$)=>$===A?null:B.jsx(Al,{suit:V.suit,rank:V.rank,faceDown:!0,locked:!f,onClick:u?()=>u(V,!0,e):void 0,playerid:e},`stock-${$}`))};return B.jsxs("div",{className:`player-area ${r}`,children:[B.jsxs("div",{className:"left-column",children:[B.jsx("div",{className:"nerts-pile dashed-outline",children:p()}),B.jsxs("div",{className:"stock-pile dashed-outline",children:[B.jsx("div",{className:"stock",children:y()}),B.jsx("div",{className:"flipped",children:(()=>{var C,k,V;const E=((C=n==null?void 0:n.drawPile)==null?void 0:C.currentIndex)??-1,A=(V=(k=n==null?void 0:n.drawPile)==null?void 0:k.cards)==null?void 0:V[E];return A?B.jsx(Al,{suit:A.suit,rank:A.rank,faceDown:!1,locked:!f,onClick:u?()=>u(A,!1,e):void 0,playerid:e},`flipped-${A.rank}-${A.suit}`):null})()})]})]}),B.jsx("div",{className:"middle-column",children:B.jsx("div",{className:"work-pile dashed-outline",children:Array.from({length:4}).map((E,A)=>B.jsx("div",{className:"work-spot","data-index":A,"data-playerid":e,onClick:()=>o(A,e),children:g(A)??`Work Spot ${A}`},A))})}),B.jsx("div",{className:"right-column",children:B.jsx("div",{className:"profile-info",children:"Profile"})})]})}function UN({numberOfPlayers:r,foundation:e,onPlaySpotClick:n}){const s=r*4;Fe.loadSound("play",AE);const o=q.useRef(e);return q.useEffect(()=>{const u=o.current;u&&(e==null||e.forEach((f,p)=>{var A,C;const g=u[p],y=((A=g==null?void 0:g.cards)==null?void 0:A.length)??0;(((C=f==null?void 0:f.cards)==null?void 0:C.length)??0)>y&&(console.log(`New card added to foundation pile ${p}`),Fe.playSound("play"))})),o.current=e},[e]),B.jsx("div",{className:"common-area",children:Array.from({length:s}).map((u,f)=>{var y;const p=e==null?void 0:e[f],g=(y=p==null?void 0:p.cards)==null?void 0:y[p.cards.length-1];return B.jsx("div",{className:"play-spot","data-index":f,onClick:()=>n(f,null),children:g?B.jsx(Al,{suit:g.suit,rank:g.rank,faceDown:!1,locked:!0,onClick:null,playerid:-1}):""},f)})})}const BN="/assets/flip_cards-DeE1AiLB.mp3",zN="/assets/flip_card-Cybdn6CB.mp3";function jN(){var me,ce;const{lobbyID:r}=XS(),{socket:e,gameState:n,userID:s}=Oh(),[o,u]=q.useState(null),[f,p]=q.useState(!1),[g,y]=q.useState(null),[E,A]=q.useState(2);Fe.loadSound("flips",BN),Fe.loadSound("flip_one",zN);function C(){Fe.playSound("flips")}function k(){Fe.playSound("flip_one")}q.useEffect(()=>(e.on("playerJoined",({message:se})=>{y({title:"New Player Joined",message:se})}),()=>{e.off("playerJoined")}),[e]);const V=()=>{e&&e.emit("startGame",r,E)};q.useEffect(()=>{if(!e)return;const se=({gameState:S})=>{p(!0)},D=S=>{console.log(S),S&&k()},w=()=>{C()};return e.on("gameStarted",se),e.on("cardPlayAccepted",D),e.on("newDrawCard",w),()=>{e.off("gameStarted",se),e.off("cardPlayAccepted",D),e.off("newDrawCard",w)}},[e]);function $(){document.querySelectorAll(".card.selected").forEach(se=>se.classList.remove("selected"))}const G=(se,D=!0,w)=>{var Ze,re,ge,de,Ve,N;const S=(de=(ge=(re=(Ze=n==null?void 0:n.gameState)==null?void 0:Ze.players)==null?void 0:re[s])==null?void 0:ge.hand)==null?void 0:de.drawPile,I=(S==null?void 0:S.currentIndex)??-1,x=(Ve=S==null?void 0:S.cards)==null?void 0:Ve[I],U=(N=S==null?void 0:S.cards)==null?void 0:N.some(J=>J.suit===se.suit&&J.rank===se.rank),O=!x||x.suit!==se.suit||x.rank!==se.rank;if(D&&U&&O){e.emit("flipDrawPile",{lobbyId:r,playerId:s}),u(null),$();return}const ut=`[data-suit="${se.suit}"][data-rank="${se.rank}"][data-playerid="${w}"]`;if($(),o&&o.suit===se.suit&&o.rank===se.rank)u(null);else{u(se);const J=document.querySelector(ut);J&&J.classList.add("selected")}},X=(se,D)=>{if(!o||!e)return;$();let w,S;!D||D!==s?(w="foundationPile",S=se):(w="buildPile",S=se);const I={source:{card:{suit:o.suit,rank:o.rank}},destination:{pile:{name:w,index:S}},playerId:s,gameId:r};console.log("Sending payload:",I),e.emit("cardPlayed",I),u(null),console.log(n)};function ne(){if(f){const se=n==null?void 0:n.gameState;if(!se||!se.players)return null;const D=Object.keys(se.players),w=D.filter(I=>I!==s);let S=[];return D.length===1?S=[{id:s,corner:"bm"}]:D.length===2?S=[{id:s,corner:"bm"},{id:w[0],corner:"tm"}]:D.length===3?S=[{id:s,corner:"bm"},{id:w[0],corner:"tl"},{id:w[1],corner:"tr"}]:D.length===4&&(S=[{id:w[0],corner:"tl"},{id:w[1],corner:"tr"},{id:w[2],corner:"bl"},{id:s,corner:"br"}]),S.map(({id:I,corner:x})=>{var U;return B.jsx(oE,{corner:x,playerId:I,hand:(U=se.players[I])==null?void 0:U.hand,userID:s,onPlaySpotClick:I===s?X:()=>{},onCardClick:I===s?G:()=>{}},I)})}else return(E===1?[{id:"Player1",corner:"bm"}]:E===2?[{id:"Player1",corner:"bm"},{id:"Player2",corner:"tm"}]:E===3?[{id:"Player1",corner:"bm"},{id:"Player2",corner:"tl"},{id:"Player3",corner:"tr"}]:[{id:"Player1",corner:"tl"},{id:"Player2",corner:"tr"},{id:"Player3",corner:"bl"},{id:"Player4",corner:"br"}]).map(({id:D,corner:w})=>B.jsx(oE,{corner:w,playerId:D,hand:null,userID:s,onPlaySpotClick:()=>{},onCardClick:()=>{}},D))}const ee=Object.keys(((me=n==null?void 0:n.gameState)==null?void 0:me.players)||{}).length||0;return B.jsxs("div",{className:"game-container",children:[!f&&B.jsxs("div",{className:"menu",children:[B.jsxs("h3",{children:["Game: ",r]}),B.jsx("label",{className:"player-count",htmlFor:"player-count",children:"Number of Players:"}),B.jsx("select",{id:"player-count",value:E,onChange:se=>A(Number(se.target.value)),className:"player-count-selector",children:[2,3,4].map(se=>B.jsx("option",{value:se,children:se},se))}),B.jsx(Fn,{onClick:V,text:"Start Game"})]}),B.jsx(UN,{numberOfPlayers:ee,foundation:(ce=n==null?void 0:n.gameState)==null?void 0:ce.foundation,onPlaySpotClick:X}),ne(),g&&B.jsx(Dh,{title:g.title,message:g.message,onClose:()=>y(null)})]})}function HN(){const r=Ys(),{socket:e,userID:n}=Oh(),[s,o]=q.useState(""),[u,f]=q.useState(null);q.useEffect(()=>{!Fe.backgroundMusic&&localStorage.getItem("isMusicOn")==="true"&&Fe.playBackgroundMusic(Em)},[]),q.useEffect(()=>{if(e)return e.on("lobbyCreated",({lobbyID:C})=>{r(`/game/${C}`)}),e.on("lobbyJoined",({lobbyID:C})=>{r(`/game/${C}`)}),e.on("lobbyNotFound",({message:C})=>{f({title:"Join Error",message:C})}),()=>{e.off("lobbyCreated"),e.off("lobbyJoined"),e.off("lobbyNotFound")}},[e,r]);const p=C=>{o(C)},g=C=>{const k=C.target.value.replace(/[^a-zA-Z0-9]/g,"");p(k)},y=()=>{e.emit("createLobby",{userID:n})},E=()=>{if(!s){f({title:"Input Error",message:"Please enter a lobby code."});return}e.emit("joinLobby",{lobbyID:s,userID:n})};let A=!1;return document.addEventListener("keydown",C=>{C.key==="Enter"&&!A&&(A=!0,s&&E())}),document.addEventListener("keyup",C=>{C.key==="Enter"&&(A=!1)}),B.jsxs("div",{className:"main centered",children:[B.jsx(Fn,{back:!0,absolute:!0,text:"Back"}),B.jsx("h3",{className:"host no-select",children:"HOST"}),B.jsx(Fn,{back:!1,absolute:!1,text:"Create Lobby",onClick:y}),B.jsx("h3",{className:"join no-select",children:"JOIN"}),B.jsxs("div",{className:"input-container code-input",children:[B.jsx(Ms,{value:s,onChange:g,placeholder:"Code",center:!0,max:6}),B.jsx(Fn,{back:!1,absolute:!1,text:"Next",onClick:E})]}),u&&B.jsx(Dh,{title:u.title,message:u.message,onClose:()=>f(null)})]})}const qN="/assets/Blue-BG-JZwyBRjd.png",FN="/assets/Green-BG-ud6fy_Bm.png",GN="/assets/Orange-BG-D-FKBLMX.png",KN="/assets/Purple-BG-Da4amn51.png",YN="/assets/Red-BG-CsUsgyPt.png",$N="/assets/Red-Orange-BG-85vDD4Ir.png",QN="/assets/Yellow-BG-_HIynPjP.png",Zd={"#f2002b":YN,"#f64021":$N,"#f98016":GN,"#ffff00":QN,"#00cc66":FN,"#496ddb":qN,"#7209b7":KN},XN=()=>{const[r,e]=q.useState("#00cc66"),[n,s]=q.useState(50),[o,u]=q.useState(!0),[f,p]=q.useState(!0),[g,y]=q.useState(!0);q.useEffect(()=>{r&&(console.log("Forcing body background to:",Zd[r]),document.body.style.backgroundImage=`url(${Zd[r]})`)},[r]);const E=Object.keys(Zd),A=k=>{e(k)},C=k=>{const V=Number(k.target.value);s(V),Fe.setVolume(V/100)};return B.jsxs("div",{className:"settings-box",children:[B.jsx("h3",{className:"title",children:"SETTINGS"}),B.jsx("div",{className:"settings-item",children:B.jsx("label",{children:"Background Color:"})}),B.jsx("div",{className:"squares-container",children:E.map((k,V)=>B.jsx("div",{className:`square ${r===k?"selected":""}`,style:{backgroundColor:k},onClick:()=>A(k)},V))}),B.jsxs("div",{className:"settings-item",children:[B.jsx("label",{children:"Volume:"}),B.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:C,className:"slider"}),B.jsxs("span",{className:"volume-label",children:[n,"%"]})]}),B.jsxs("div",{className:"settings-item",children:[B.jsx("label",{children:"Music:"}),B.jsx("button",{onClick:()=>u(!o),children:o?"ON":"OFF"})]}),B.jsxs("div",{className:"settings-item",children:[B.jsx("label",{children:"Tab for Deck Hotkey:"}),B.jsx("button",{onClick:()=>p(!f),children:f?"ON":"OFF"})]}),B.jsxs("div",{className:"settings-item",children:[B.jsx("label",{children:"Colorblind Palette:"}),B.jsx("button",{onClick:()=>y(!g),children:g?"ON":"OFF"})]})]})};function WN(){return B.jsxs("div",{children:[B.jsx(XN,{}),B.jsx(Fn,{back:!0,absolute:!0,text:"Back"})]})}function ZN(){return B.jsxs("div",{className:"rules-container",children:[B.jsx(Fn,{back:!0,absolute:!0,text:"Back"}),B.jsxs("div",{className:"rules-top-right",children:[B.jsx("p",{children:"Clicking your deck will flip 3 new cards at a time. Keep moving cards until you run out or your Nerts pile is empty."}),B.jsx("p",{children:"Once you’ve cleared your Nerts pile, call “Nerts!” to end the round. Points are tallied based on cards you played in the foundation minus leftover cards in your Nerts pile."})]}),B.jsxs("div",{className:"rules-bottom-left",children:[B.jsx("p",{children:"To win the game, be the first to reach 100 points. Cards of the same suit in the foundation are worth 1 point each."}),B.jsx("p",{children:"When you've moved all your cards to the middle as possible, you can click your deck to flip 3 cards into your waste pile. From there, move them to your tableau or foundation as needed."})]})]})}function JN(){return B.jsxs("div",{className:"main centered",children:[B.jsx(Fn,{back:!0,absolute:!0,text:"Back"}),B.jsxs("div",{className:"user-header",children:[B.jsx("img",{className:"user-image no-select",src:zT,alt:"Profile picture"}),B.jsx("h3",{className:"user-name no-select",children:"Username"})]}),B.jsxs("div",{className:"user-edit",children:[B.jsx("h3",{className:"change-user-image no-select",children:B.jsx("u",{children:"Change Icon"})}),B.jsx("h3",{className:"change-user-name no-select",children:B.jsx("u",{children:"Change Username"})})]}),B.jsxs("div",{className:"stats",children:[B.jsxs("h3",{className:"games-played",children:["Games Played:",B.jsx("span",{className:"num-gp",children:"100"})]}),B.jsxs("h3",{className:"games-won",children:["Games Won:",B.jsx("span",{className:"num-gw",children:"80"})]}),B.jsxs("h3",{className:"win-loss",children:["Win/Loss Ratio:",B.jsx("span",{className:"wl-ratio",children:"0.8"})]}),B.jsxs("h3",{className:"play-speed",children:["Play Speed:",B.jsx("span",{className:"ps",children:"1 card/s"})]})]})]})}function e2(){return B.jsx(PA,{children:B.jsxs(hA,{children:[B.jsx(Gi,{path:"/",element:B.jsx(ON,{})}),B.jsx(Gi,{path:"/home",element:B.jsx(LN,{})}),B.jsx(Gi,{path:"/signup",element:B.jsx(DN,{})}),B.jsx(Gi,{path:"/game/:lobbyID",element:B.jsx(jN,{})}),B.jsx(Gi,{path:"/host",element:B.jsx(HN,{})}),B.jsx(Gi,{path:"/rules",element:B.jsx(ZN,{})}),B.jsx(Gi,{path:"/settings",element:B.jsx(WN,{})}),B.jsx(Gi,{path:"/user",element:B.jsx(JN,{})})]})})}ES.createRoot(document.getElementById("root")).render(B.jsx(IN,{children:B.jsx(e2,{})}));
